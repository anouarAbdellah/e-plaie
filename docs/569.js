"use strict";(self.webpackChunkargon_dashboard_angular=self.webpackChunkargon_dashboard_angular||[]).push([[569],{1424:(Ds,Qi,Ae)=>{Ae.d(Qi,{C:()=>Dn});var U=Ae(4650),Qn=Ae(6895),Wt=Ae(4006);function je(At,Ot){if(1&At){const He=U.EpF();U.TgZ(0,"input",9),U.NdJ("ngModelChange",function(Hn){U.CHM(He);const vi=U.oxw().$implicit;return U.KtG(vi.value=Hn)}),U.qZA()}if(2&At){const He=U.oxw().$implicit;U.Q6J("type",He.type)("name",He.name)("placeholder",He.title)("ngModel",He.value)}}function On(At,Ot){if(1&At&&(U.TgZ(0,"option",13),U._uU(1),U.qZA()),2&At){const He=Ot.$implicit;U.Q6J("value",He),U.xp6(1),U.Oqu(He)}}function _n(At,Ot){if(1&At){const He=U.EpF();U.TgZ(0,"select",10),U.NdJ("ngModelChange",function(Hn){U.CHM(He);const vi=U.oxw().$implicit;return U.KtG(vi.value=Hn)}),U.TgZ(1,"option",11),U._uU(2,"Tous"),U.qZA(),U.YNc(3,On,2,2,"option",12),U.qZA()}if(2&At){const He=U.oxw().$implicit;U.Q6J("name",He.name)("placeholder",He.title)("ngModel",He.value),U.xp6(3),U.Q6J("ngForOf",He.elements)}}function e(At,Ot){if(1&At){const He=U.EpF();U.TgZ(0,"select",10),U.NdJ("ngModelChange",function(Hn){U.CHM(He);const vi=U.oxw().$implicit;return U.KtG(vi.value=Hn)}),U.TgZ(1,"option",11),U._uU(2,"Tous"),U.qZA(),U.TgZ(3,"option",13),U._uU(4,"Activ\xe9"),U.qZA(),U.TgZ(5,"option",13),U._uU(6,"D\xe9sactiv\xe9"),U.qZA()()}if(2&At){const He=U.oxw().$implicit;U.Q6J("name",He.name)("placeholder",He.title)("ngModel",He.value),U.xp6(3),U.Q6J("value",1),U.xp6(2),U.Q6J("value",0)}}function Ut(At,Ot){if(1&At&&(U.TgZ(0,"div",5)(1,"label",6),U._uU(2),U.qZA(),U.YNc(3,je,1,4,"input",7),U.YNc(4,_n,4,4,"select",8),U.YNc(5,e,7,5,"select",8),U.qZA()),2&At){const He=Ot.$implicit;U.xp6(2),U.Oqu(He.title),U.xp6(1),U.Q6J("ngIf","text"==He.type||"number"==He.type),U.xp6(1),U.Q6J("ngIf","select"==He.type),U.xp6(1),U.Q6J("ngIf","status"==He.type)}}let Dn=(()=>{class At{constructor(){this.onFilterChange=new U.vpe}ngOnInit(){}onFilter(){let He={};for(let tn of this.filters)He[tn.name]=tn.value;this.onFilterChange.emit(He)}}return At.\u0275fac=function(He){return new(He||At)},At.\u0275cmp=U.Xpm({type:At,selectors:[["app-base-filter"]],inputs:{filters:"filters"},outputs:{onFilterChange:"onFilterChange"},decls:6,vars:1,consts:[[1,"card-header","border-0","d-flex"],[1,"row",2,"width","100%"],["class","col-md-3 mb-1",4,"ngFor","ngForOf"],[1,"col-md-12","mt-1","text-right"],[1,"btn","btn-info",3,"click"],[1,"col-md-3","mb-1"],[1,"label"],["class","form-control",3,"type","name","placeholder","ngModel","ngModelChange",4,"ngIf"],["class","form-control",3,"name","placeholder","ngModel","ngModelChange",4,"ngIf"],[1,"form-control",3,"type","name","placeholder","ngModel","ngModelChange"],[1,"form-control",3,"name","placeholder","ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(He,tn){1&He&&(U.TgZ(0,"div",0)(1,"div",1),U.YNc(2,Ut,6,4,"div",2),U.TgZ(3,"div",3)(4,"button",4),U.NdJ("click",function(){return tn.onFilter()}),U._uU(5," Filtrer "),U.qZA()()()()),2&He&&(U.xp6(2),U.Q6J("ngForOf",tn.filters))},dependencies:[Qn.sg,Qn.O5,Wt.YN,Wt.Kr,Wt.Fj,Wt.EJ,Wt.JJ,Wt.On]}),At})()},9359:(Ds,Qi,Ae)=>{Ae.d(Qi,{K:()=>sn});var U=Ae(4650),Qn=Ae(4463),Wt=Ae(3060),je=Ae(6895),On=Ae(1572),_n=Ae(4859),e=Ae(7392);function Ut(ut,pn){if(1&ut&&(U.TgZ(0,"th",4),U._uU(1),U.qZA()),2&ut){const st=pn.$implicit;U.xp6(1),U.Oqu(st.header)}}function Dn(ut,pn){if(1&ut&&(U.TgZ(0,"div"),U._uU(1),U.qZA()),2&ut){const st=U.oxw().$implicit,St=U.oxw().$implicit;U.xp6(1),U.hij(" ",St[st.key]," ")}}function At(ut,pn){if(1&ut&&(U.TgZ(0,"div"),U._uU(1),U.ALo(2,"date"),U.qZA()),2&ut){const st=U.oxw().$implicit,St=U.oxw().$implicit;U.xp6(1),U.hij(" ",U.xi3(2,1,St[st.key],"short")," ")}}function Ot(ut,pn){if(1&ut){const st=U.EpF();U.TgZ(0,"div")(1,"label",9)(2,"input",10),U.NdJ("change",function(){U.CHM(st);const Ua=U.oxw().$implicit,Hi=U.oxw().$implicit,Lo=U.oxw(2);return U.KtG(Lo.toggleStatusChange(!Hi[Ua.key],Hi.id))}),U.qZA(),U._UZ(3,"span",11),U.qZA()()}if(2&ut){const st=U.oxw().$implicit,St=U.oxw().$implicit;U.xp6(2),U.Q6J("checked",St[st.key])}}function He(ut,pn){if(1&ut&&(U.TgZ(0,"th"),U.YNc(1,Dn,2,1,"div",5),U.YNc(2,At,3,4,"div",5),U.YNc(3,Ot,4,1,"div",5),U.qZA()),2&ut){const st=pn.$implicit;U.xp6(1),U.Q6J("ngIf","text"===st.type),U.xp6(1),U.Q6J("ngIf","date"===st.type),U.xp6(1),U.Q6J("ngIf","status"===st.type)}}function tn(ut,pn){if(1&ut){const st=U.EpF();U.TgZ(0,"button",12),U.NdJ("click",function(){U.CHM(st);const Ua=U.oxw().$implicit,Hi=U.oxw(2);return U.KtG(Hi.view(Ua))}),U.TgZ(1,"mat-icon"),U._uU(2,"remove_red_eye"),U.qZA()()}}function Hn(ut,pn){if(1&ut){const st=U.EpF();U.TgZ(0,"tr"),U.YNc(1,He,4,3,"th",6),U.TgZ(2,"td")(3,"button",7),U.NdJ("click",function(){const Hi=U.CHM(st).$implicit,Lo=U.oxw(2);return U.KtG(Lo.edit(Hi))}),U.TgZ(4,"mat-icon"),U._uU(5,"edit"),U.qZA()(),U.YNc(6,tn,3,0,"button",8),U.qZA()()}if(2&ut){const st=U.oxw(2);U.xp6(1),U.Q6J("ngForOf",st.tableData),U.xp6(5),U.Q6J("ngIf",st.viewLink)}}function vi(ut,pn){if(1&ut&&(U.TgZ(0,"tbody"),U.YNc(1,Hn,7,2,"tr",6),U.qZA()),2&ut){const st=U.oxw();U.xp6(1),U.Q6J("ngForOf",st.data)}}function fa(ut,pn){1&ut&&(U.TgZ(0,"tbody")(1,"tr")(2,"td",13)(3,"div",14),U._UZ(4,"mat-spinner",15),U._uU(5),U.ALo(6,"translate"),U.qZA()()()()),2&ut&&(U.xp6(4),U.Q6J("diameter",30),U.xp6(1),U.hij(" ",U.lcZ(6,2,"LOADING")," "))}let sn=(()=>{class ut{constructor(st,St){this.translate=st,this.router=St,this.onToggleStatus=new U.vpe,this.onEdit=new U.vpe}ngOnInit(){}toggleStatusChange(st,St){this.onToggleStatus.emit({id:St,status:st})}edit(st){this.onEdit.emit(st)}view(st){this.router.navigate([this.viewLink,st.id])}}return ut.\u0275fac=function(st){return new(st||ut)(U.Y36(Qn.sK),U.Y36(Wt.F0))},ut.\u0275cmp=U.Xpm({type:ut,selectors:[["app-base-table"]],inputs:{isLoading:"isLoading",data:"data",tableData:"tableData",viewLink:"viewLink"},outputs:{onToggleStatus:"onToggleStatus",onEdit:"onEdit"},decls:8,vars:3,consts:[[1,"table-responsive"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col",4,"ngFor","ngForOf"],["scope","col"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-mini-fab","","color","primary","aria-label","Modifier",3,"click"],["mat-mini-fab","","color","primary","class","ml-2","aria-label","Details",3,"click",4,"ngIf"],[1,"custom-toggle"],["type","checkbox",3,"checked","change"],[1,"custom-toggle-slider","rounded-circle"],["mat-mini-fab","","color","primary","aria-label","Details",1,"ml-2",3,"click"],["colspan","8"],[1,"loading-holder"],[2,"margin-right","10px",3,"diameter"]],template:function(st,St){1&st&&(U.TgZ(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr"),U.YNc(4,Ut,2,1,"th",3),U._UZ(5,"th",4),U.qZA()(),U.YNc(6,vi,2,1,"tbody",5),U.YNc(7,fa,7,4,"tbody",5),U.qZA()()),2&st&&(U.xp6(4),U.Q6J("ngForOf",St.tableData),U.xp6(2),U.Q6J("ngIf",!St.isLoading),U.xp6(1),U.Q6J("ngIf",St.isLoading))},dependencies:[je.sg,je.O5,On.Ou,_n.lW,e.Hw,je.uU,Qn.X$],styles:["button.edit-button[_ngcontent-%COMP%]{text-align:center;border-radius:50%;height:40px;width:40px;border:1px solid #5e72e4;cursor:pointer;font-size:15px}.loading-holder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}"]}),ut})()},3986:(Ds,Qi,Ae)=>{Ae.d(Qi,{N:()=>On});var U=Ae(4650),Qn=Ae(6895);const Wt=function(_n){return{active:_n}};function je(_n,e){if(1&_n){const Ut=U.EpF();U.TgZ(0,"li",9)(1,"button",4),U.NdJ("click",function(){const Ot=U.CHM(Ut).index,He=U.oxw();return U.KtG(He.goToPage(Ot+1))}),U._uU(2),U.qZA()()}if(2&_n){const Ut=e.index,Dn=U.oxw();U.Q6J("ngClass",U.VKq(2,Wt,Ut+1===Dn.page)),U.xp6(2),U.Oqu(Ut+1)}}let On=(()=>{class _n{constructor(){this.page=1,this.pagesCount=1,this.onPageChange=new U.vpe}ngOnInit(){}arrayOfN(Ut){return Array(Ut)}nextPage(){this.page<this.pagesCount&&(this.page++,this.onPageChange.emit(this.page))}previousPage(){this.page>1&&(this.page--,this.onPageChange.emit(this.page))}goToPage(Ut){Ut!=this.page&&Ut>0&&Ut<=this.pagesCount&&(this.page=Ut,this.onPageChange.emit(this.page))}}return _n.\u0275fac=function(Ut){return new(Ut||_n)},_n.\u0275cmp=U.Xpm({type:_n,selectors:[["app-pagination-links"]],inputs:{page:"page",pagesCount:"pagesCount"},outputs:{onPageChange:"onPageChange"},decls:14,vars:1,consts:[[1,"card-footer","py-4"],["aria-label","..."],[1,"pagination","justify-content-end","mb-0"],[1,"page-item"],[1,"page-link",3,"click"],[1,"fas","fa-angle-left"],[1,"sr-only"],["class","page-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"fas","fa-angle-right"],[1,"page-item",3,"ngClass"]],template:function(Ut,Dn){1&Ut&&(U.TgZ(0,"div",0)(1,"nav",1)(2,"ul",2)(3,"li",3)(4,"button",4),U.NdJ("click",function(){return Dn.previousPage()}),U._UZ(5,"i",5),U.TgZ(6,"span",6),U._uU(7,"Previous"),U.qZA()()(),U.YNc(8,je,3,4,"li",7),U.TgZ(9,"li",3)(10,"button",4),U.NdJ("click",function(){return Dn.nextPage()}),U._UZ(11,"i",8),U.TgZ(12,"span",6),U._uU(13,"Next"),U.qZA()()()()()()),2&Ut&&(U.xp6(8),U.Q6J("ngForOf",Dn.arrayOfN(Dn.pagesCount)))},dependencies:[Qn.mk,Qn.sg]}),_n})()},4569:(Ds,Qi,Ae)=>{Ae.r(Qi),Ae.d(Qi,{PatientsModule:()=>wf});var U=Ae(6895),Qn=Ae(3060),Wt=Ae(5439),je=Ae(136),On=Ae(8355),_n=Ae(2756),e=Ae(4650),Ut=Ae(9217),Dn=Ae(6818),At=Ae(9476),Ot=Ae(1572),He=Ae(4859),tn=Ae(7392),Hn=Ae(2687),vi=Ae(9643),fa=Ae(4080),sn=Ae(3238),ut=Ae(5698),pn=Ae(8675),st=Ae(1884),St=Ae(2722),Ua=Ae(3900),Hi=Ae(5684),Lo=Ae(9300),yr=Ae(7579),Fo=Ae(727),js=Ae(4968),Vu=Ae(9646),Bs=Ae(6451),$u=Ae(515),Xu=Ae(9751),ed=Ae(5963),qo=Ae(445),Zn=Ae(7340),Gi=Ae(1281),Js=Ae(8605),xr=Ae(3353),Rs=Ae(9521);function td(i,a){1&i&&e.Hsn(0)}const rc=["*"];function nd(i,a){}const id=function(i){return{animationDuration:i}},ad=function(i,a){return{value:i,params:a}},od=["tabListContainer"],rd=["tabList"],sd=["tabListInner"],ld=["nextPaginator"],cd=["previousPaginator"],ud=["tabBodyWrapper"],dd=["tabHeader"];function pd(i,a){}function hd(i,a){if(1&i&&e.YNc(0,pd,0,0,"ng-template",10),2&i){const t=e.oxw().$implicit;e.Q6J("cdkPortalOutlet",t.templateLabel)}}function fd(i,a){if(1&i&&e._uU(0),2&i){const t=e.oxw().$implicit;e.Oqu(t.textLabel)}}function md(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(){const o=e.CHM(t),r=o.$implicit,c=o.index,d=e.oxw(),h=e.MAs(1);return e.KtG(d._handleClick(r,h,c))})("cdkFocusChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d._tabFocusChanged(o,c))}),e.TgZ(1,"div",7),e.YNc(2,hd,1,1,"ng-template",8),e.YNc(3,fd,1,1,"ng-template",null,9,e.W1O),e.qZA()()}if(2&i){const t=a.$implicit,n=a.index,o=e.MAs(4),r=e.oxw();e.ekj("mat-tab-label-active",r.selectedIndex===n),e.Q6J("id",r._getTabLabelId(n))("ngClass",t.labelClass)("disabled",t.disabled)("matRippleDisabled",t.disabled||r.disableRipple),e.uIk("tabIndex",r._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex===n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),e.xp6(2),e.Q6J("ngIf",t.templateLabel)("ngIfElse",o)}}function gd(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-body",11),e.NdJ("_onCentered",function(){e.CHM(t);const o=e.oxw();return e.KtG(o._removeTabBodyWrapperHeight())})("_onCentering",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r._setTabBodyWrapperHeight(o))}),e.qZA()}if(2&i){const t=a.$implicit,n=a.index,o=e.oxw();e.ekj("mat-tab-body-active",o.selectedIndex===n),e.Q6J("id",o._getTabContentId(n))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",o.animationDuration)("preserveContent",o.preserveContent),e.uIk("tabindex",null!=o.contentTabIndex&&o.selectedIndex===n?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(n))}}const _d=new e.OlP("MatInkBarPositioner",{providedIn:"root",factory:function vd(){return a=>({left:a?(a.offsetLeft||0)+"px":"0",width:a?(a.offsetWidth||0)+"px":"0"})}});let sc=(()=>{class i{constructor(t,n,o,r){this._elementRef=t,this._ngZone=n,this._inkBarPositioner=o,this._animationMode=r}alignToElement(t){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe((0,ut.q)(1)).subscribe(()=>{const n=this._inkBarPositioner(t),o=this._elementRef.nativeElement;o.style.left=n.left,o.style.width=n.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(_d),e.Y36(e.QbO,8))},i.\u0275dir=e.lG2({type:i,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,n){2&t&&e.ekj("_mat-animation-noopable","NoopAnimations"===n._animationMode)}}),i})();const bd=new e.OlP("MatTabContent"),yd=new e.OlP("MatTabLabel"),xd=new e.OlP("MAT_TAB"),wd=(0,sn.Id)(class{}),lc=new e.OlP("MAT_TAB_GROUP");let cc=(()=>{class i extends wd{constructor(t,n){super(),this._viewContainerRef=t,this._closestTabGroup=n,this.textLabel="",this._contentPortal=null,this._stateChanges=new yr.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new fa.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.s_b),e.Y36(lc,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-tab"]],contentQueries:function(t,n,o){if(1&t&&(e.Suo(o,yd,5),e.Suo(o,bd,7,e.Rgc)),2&t){let r;e.iGM(r=e.CRH())&&(n.templateLabel=r.first),e.iGM(r=e.CRH())&&(n._explicitContent=r.first)}},viewQuery:function(t,n){if(1&t&&e.Gf(e.Rgc,7),2&t){let o;e.iGM(o=e.CRH())&&(n._implicitContent=o.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[e._Bn([{provide:xd,useExisting:i}]),e.qOj,e.TTD],ngContentSelectors:rc,decls:1,vars:0,template:function(t,n){1&t&&(e.F$t(),e.YNc(0,td,1,0,"ng-template"))},encapsulation:2}),i})();const Ad={translateTab:(0,Zn.X$)("translateTab",[(0,Zn.SB)("center, void, left-origin-center, right-origin-center",(0,Zn.oB)({transform:"none"})),(0,Zn.SB)("left",(0,Zn.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Zn.SB)("right",(0,Zn.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),(0,Zn.eR)("* => left, * => right, left => center, right => center",(0,Zn.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Zn.eR)("void => left-origin-center",[(0,Zn.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),(0,Zn.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Zn.eR)("void => right-origin-center",[(0,Zn.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),(0,Zn.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Cd=(()=>{class i extends fa.Pl{constructor(t,n,o,r){super(t,n,r),this._host=o,this._centeringSub=Fo.w0.EMPTY,this._leavingSub=Fo.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,pn.O)(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36((0,e.Gpc)(()=>uc)),e.Y36(U.K0))},i.\u0275dir=e.lG2({type:i,selectors:[["","matTabBodyHost",""]],features:[e.qOj]}),i})(),Td=(()=>{class i{constructor(t,n,o){this._elementRef=t,this._dir=n,this._dirChangeSubscription=Fo.w0.EMPTY,this._translateTabComplete=new yr.x,this._onCentering=new e.vpe,this._beforeCentering=new e.vpe,this._afterLeavingCenter=new e.vpe,this._onCentered=new e.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,n&&(this._dirChangeSubscription=n.change.subscribe(r=>{this._computePositionAnimationState(r),o.markForCheck()})),this._translateTabComplete.pipe((0,st.x)((r,c)=>r.fromState===c.fromState&&r.toState===c.toState)).subscribe(r=>{this._isCenterPosition(r.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(r.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const n=this._isCenterPosition(t.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const n=this._getLayoutDirection();return"ltr"==n&&t<=0||"rtl"==n&&t>0?"left-origin-center":"right-origin-center"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(qo.Is,8),e.Y36(e.sBO))},i.\u0275dir=e.lG2({type:i,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),i})(),uc=(()=>{class i extends Td{constructor(t,n,o){super(t,n,o)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(qo.Is,8),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-tab-body"]],viewQuery:function(t,n){if(1&t&&e.Gf(fa.Pl,5),2&t){let o;e.iGM(o=e.CRH())&&(n._portalHost=o.first)}},hostAttrs:[1,"mat-tab-body"],features:[e.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("@translateTab.start",function(r){return n._onTranslateTabStarted(r)})("@translateTab.done",function(r){return n._translateTabComplete.next(r)}),e.YNc(2,nd,0,0,"ng-template",2),e.qZA()),2&t&&e.Q6J("@translateTab",e.WLB(3,ad,n._position,e.VKq(1,id,n.animationDuration)))},dependencies:[Cd],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[Ad.translateTab]}}),i})();const dc=new e.OlP("MAT_TABS_CONFIG"),Zd=(0,sn.Id)(class{});let pc=(()=>{class i extends Zd{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq))},i.\u0275dir=e.lG2({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,n){2&t&&(e.uIk("aria-disabled",!!n.disabled),e.ekj("mat-tab-disabled",n.disabled))},inputs:{disabled:"disabled"},features:[e.qOj]}),i})();const hc=(0,xr.i$)({passive:!0});let kd=(()=>{class i{constructor(t,n,o,r,c,d,h){this._elementRef=t,this._changeDetectorRef=n,this._viewportRuler=o,this._dir=r,this._ngZone=c,this._platform=d,this._animationMode=h,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new yr.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new yr.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new e.vpe,this.indexFocused=new e.vpe,c.runOutsideAngular(()=>{(0,js.R)(t.nativeElement,"mouseleave").pipe((0,St.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=(0,Gi.Ig)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=(0,Gi.su)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){(0,js.R)(this._previousPaginator.nativeElement,"touchstart",hc).pipe((0,St.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,js.R)(this._nextPaginator.nativeElement,"touchstart",hc).pipe((0,St.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:(0,Vu.of)("ltr"),n=this._viewportRuler.change(150),o=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Hn.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,ut.q)(1)).subscribe(o),(0,Bs.T)(t,n,this._items.changes,this._itemsResized()).pipe((0,St.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),o()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,St.R)(this._destroyed)).subscribe(r=>{this.indexFocused.emit(r),this._setTabFocus(r)})}_itemsResized(){return"function"!=typeof ResizeObserver?$u.E:this._items.changes.pipe((0,pn.O)(this._items),(0,Ua.w)(t=>new Xu.y(n=>this._ngZone.runOutsideAngular(()=>{const o=new ResizeObserver(r=>n.next(r));return t.forEach(r=>o.observe(r.elementRef.nativeElement)),()=>{o.disconnect()}}))),(0,Hi.T)(1),(0,Lo.h)(t=>t.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!(0,Rs.Vb)(t))switch(t.keyCode){case Rs.K5:case Rs.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const n=this._items?this._items.toArray()[t]:null;return!!n&&!n.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const n=this._items?this._items.toArray()[t]:null;if(!n)return;const o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:c}=n.elementRef.nativeElement;let d,h;"ltr"==this._getLayoutDirection()?(d=r,h=d+c):(h=this._tabListInner.nativeElement.offsetWidth-r,d=h-c);const g=this.scrollDistance,_=this.scrollDistance+o;d<g?this.scrollDistance-=g-d+60:h>_&&(this.scrollDistance+=h-_+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=t?t.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),(0,ed.H)(650,100).pipe((0,St.R)((0,Bs.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:o,distance:r}=this._scrollHeader(t);(0===r||r>=o)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Js.rL),e.Y36(qo.Is,8),e.Y36(e.R0b),e.Y36(xr.t4),e.Y36(e.QbO,8))},i.\u0275dir=e.lG2({type:i,inputs:{disablePagination:"disablePagination"}}),i})(),Md=(()=>{class i extends kd{constructor(t,n,o,r,c,d,h){super(t,n,o,r,c,d,h),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=(0,Gi.Ig)(t)}_itemSelected(t){t.preventDefault()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Js.rL),e.Y36(qo.Is,8),e.Y36(e.R0b),e.Y36(xr.t4),e.Y36(e.QbO,8))},i.\u0275dir=e.lG2({type:i,inputs:{disableRipple:"disableRipple"},features:[e.qOj]}),i})(),Ld=(()=>{class i extends Md{constructor(t,n,o,r,c,d,h){super(t,n,o,r,c,d,h)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Js.rL),e.Y36(qo.Is,8),e.Y36(e.R0b),e.Y36(xr.t4),e.Y36(e.QbO,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-tab-header"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,pc,4),2&t){let r;e.iGM(r=e.CRH())&&(n._items=r)}},viewQuery:function(t,n){if(1&t&&(e.Gf(sc,7),e.Gf(od,7),e.Gf(rd,7),e.Gf(sd,7),e.Gf(ld,5),e.Gf(cd,5)),2&t){let o;e.iGM(o=e.CRH())&&(n._inkBar=o.first),e.iGM(o=e.CRH())&&(n._tabListContainer=o.first),e.iGM(o=e.CRH())&&(n._tabList=o.first),e.iGM(o=e.CRH())&&(n._tabListInner=o.first),e.iGM(o=e.CRH())&&(n._nextPaginator=o.first),e.iGM(o=e.CRH())&&(n._previousPaginator=o.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,n){2&t&&e.ekj("mat-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[e.qOj],ngContentSelectors:rc,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"button",0,1),e.NdJ("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(r){return n._handlePaginatorPress("before",r)})("touchend",function(){return n._stopInterval()}),e._UZ(2,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.NdJ("keydown",function(r){return n._handleKeydown(r)}),e.TgZ(5,"div",5,6),e.NdJ("cdkObserveContent",function(){return n._onContentChanges()}),e.TgZ(7,"div",7,8),e.Hsn(9),e.qZA(),e._UZ(10,"mat-ink-bar"),e.qZA()(),e.TgZ(11,"button",9,10),e.NdJ("mousedown",function(r){return n._handlePaginatorPress("after",r)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),e._UZ(13,"div",2),e.qZA()),2&t&&(e.ekj("mat-tab-header-pagination-disabled",n._disableScrollBefore),e.Q6J("matRippleDisabled",n._disableScrollBefore||n.disableRipple)("disabled",n._disableScrollBefore||null),e.xp6(5),e.ekj("_mat-animation-noopable","NoopAnimations"===n._animationMode),e.xp6(6),e.ekj("mat-tab-header-pagination-disabled",n._disableScrollAfter),e.Q6J("matRippleDisabled",n._disableScrollAfter||n.disableRipple)("disabled",n._disableScrollAfter||null))},dependencies:[sn.wG,vi.wD,sc],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),i})(),Fd=0;class qd{}const Ed=(0,sn.pj)((0,sn.Kr)(class{constructor(i){this._elementRef=i}}),"primary");let Sd=(()=>{class i extends Ed{constructor(t,n,o,r){super(t),this._changeDetectorRef=n,this._animationMode=r,this._tabs=new e.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Fo.w0.EMPTY,this._tabLabelSubscription=Fo.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new e.vpe,this.focusChange=new e.vpe,this.animationDone=new e.vpe,this.selectedTabChange=new e.vpe(!0),this._groupId=Fd++,this.animationDuration=o&&o.animationDuration?o.animationDuration:"500ms",this.disablePagination=!(!o||null==o.disablePagination)&&o.disablePagination,this.dynamicHeight=!(!o||null==o.dynamicHeight)&&o.dynamicHeight,this.contentTabIndex=o?.contentTabIndex??null,this.preserveContent=!!o?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=(0,Gi.Ig)(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=(0,Gi.su)(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=(0,Gi.su)(t,null)}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=(0,Gi.Ig)(t)}get preserveContent(){return this._preserveContent}set preserveContent(t){this._preserveContent=(0,Gi.Ig)(t)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const n=this._elementRef.nativeElement;n.classList.remove(`mat-background-${this.backgroundColor}`),t&&n.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(t));const o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,r)=>o.isActive=r===t),n||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,o)=>{n.position=o-t,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const n=this._tabs.toArray();let o;for(let r=0;r<n.length;r++)if(n[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,o=n[r];break}!o&&n[t]&&Promise.resolve().then(()=>{n[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,pn.O)(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const n=this._tabHeader;n&&(n.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const n=new qd;return n.index=t,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[t]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Bs.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,n,o){t.disabled||(this.selectedIndex=n.focusIndex=o)}_getTabIndex(t,n){return t.disabled?null:n===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,n){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(dc,8),e.Y36(e.QbO,8))},i.\u0275dir=e.lG2({type:i,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[e.qOj]}),i})(),Id=(()=>{class i extends Sd{constructor(t,n,o,r){super(t,n,o,r)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(dc,8),e.Y36(e.QbO,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-tab-group"]],contentQueries:function(t,n,o){if(1&t&&e.Suo(o,cc,5),2&t){let r;e.iGM(r=e.CRH())&&(n._allTabs=r)}},viewQuery:function(t,n){if(1&t&&(e.Gf(ud,5),e.Gf(dd,5)),2&t){let o;e.iGM(o=e.CRH())&&(n._tabBodyWrapper=o.first),e.iGM(o=e.CRH())&&(n._tabHeader=o.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,n){2&t&&e.ekj("mat-tab-group-dynamic-height",n.dynamicHeight)("mat-tab-group-inverted-header","below"===n.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[e._Bn([{provide:lc,useExisting:i}]),e.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-tab-header",0,1),e.NdJ("indexFocused",function(r){return n._focusChanged(r)})("selectFocusedIndex",function(r){return n.selectedIndex=r}),e.YNc(2,md,5,15,"div",2),e.qZA(),e.TgZ(3,"div",3,4),e.YNc(5,gd,1,11,"mat-tab-body",5),e.qZA()),2&t&&(e.Q6J("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),e.xp6(2),e.Q6J("ngForOf",n._tabs),e.xp6(1),e.ekj("_mat-animation-noopable","NoopAnimations"===n._animationMode),e.xp6(2),e.Q6J("ngForOf",n._tabs))},dependencies:[U.mk,U.sg,U.O5,fa.Pl,sn.wG,Hn.kH,pc,uc,Ld],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),i})(),Ud=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[U.ez,sn.BQ,fa.eL,sn.si,vi.Q8,Hn.rt,sn.BQ]}),i})();var ma=Ae(5861),nn=Ae(6714),mc=Ae(7451),Od=Ae(469),gc=Ae(6575),Oa=Ae(2953),ga=Ae(7009),_a=Ae(4424),We=Ae(4006),Lt=Ae(9549),va=Ae(4144),ba=Ae(5113),an=Ae(9602),vn=Ae(1894);const Dd=["f"],jd=function(i,a){return{"active-step":i,"no-border":a}};function Bd(i,a){if(1&i&&(e.TgZ(0,"button",33),e._uU(1),e.qZA()),2&i){const t=a.$implicit,n=a.index,o=e.oxw(2);e.Q6J("ngClass",e.WLB(2,jd,n===o.active_step,n===o.steps.length-1)),e.xp6(1),e.hij(" ",t.name," ")}}function Jd(i,a){if(1&i&&(e.TgZ(0,"div",31),e.YNc(1,Bd,2,5,"button",32),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.steps)}}function Rd(i,a){if(1&i&&(e.TgZ(0,"div",34)(1,"h3"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.getActiveStepName())}}function zd(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Qd(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Hd(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Gd(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Yd(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Kd(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Wd(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",40)(2,"button",41),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw(2);return e.KtG(c.removeElementFromArray("existing_antecedents",r,"remove_antecedents"))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",7)(6,"mat-form-field",8)(7,"mat-label"),e._uU(8,"Type d'ant\xe9c\xe9dent"),e.qZA(),e.TgZ(9,"mat-select",42),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.existing_antecedents[c].antecedent_id=o)}),e.YNc(10,Kd,2,2,"mat-option",10),e.qZA()()(),e.TgZ(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Intitul\xe9"),e.qZA(),e.TgZ(15,"input",43),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.existing_antecedents[c].title=o)}),e.qZA()()(),e.TgZ(16,"div",7)(17,"mat-form-field",8)(18,"mat-label"),e._uU(19,"Date de d\xe9but"),e.qZA(),e.TgZ(20,"input",44),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.existing_antecedents[c].start_date=o)}),e.qZA(),e.TgZ(21,"mat-hint"),e._uU(22,"MM/DD/YYYY"),e.qZA(),e._UZ(23,"mat-datepicker-toggle",15)(24,"mat-datepicker",null,45),e.qZA()(),e.TgZ(26,"div",7)(27,"mat-form-field",8)(28,"mat-label"),e._uU(29,"Date de fin"),e.qZA(),e.TgZ(30,"input",46),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.existing_antecedents[c].end_date=o)}),e.qZA(),e.TgZ(31,"mat-hint"),e._uU(32,"MM/DD/YYYY"),e.qZA(),e._UZ(33,"mat-datepicker-toggle",15)(34,"mat-datepicker",null,47),e.qZA()()()}if(2&i){const t=a.index,n=e.MAs(25),o=e.MAs(35),r=e.oxw(2);e.xp6(9),e.MGl("name","type_antecedent[",t,"]"),e.Q6J("ngModel",r.data.existing_antecedents[t].antecedent_id),e.xp6(1),e.Q6J("ngForOf",r.antecedents)("ngForTrack",r.option),e.xp6(5),e.MGl("name","title_antecedent[",t,"]"),e.Q6J("ngModel",r.data.existing_antecedents[t].title),e.xp6(5),e.MGl("name","start_date_antecedent[",t,"]"),e.Q6J("matDatepicker",n)("ngModel",r.data.existing_antecedents[t].start_date),e.xp6(3),e.Q6J("for",n),e.xp6(7),e.MGl("name","end_date_antecedent[",t,"]"),e.Q6J("matDatepicker",o)("ngModel",r.data.existing_antecedents[t].end_date),e.xp6(3),e.Q6J("for",o)}}function Vd(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function $d(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),e._uU(3,"Intitul\xe9"),e.qZA(),e.TgZ(4,"input",50),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.data.antecedents[r].title=o)}),e.qZA()()()}if(2&i){const t=e.oxw().index,n=e.oxw(2);e.xp6(4),e.Q6J("ngModel",n.data.antecedents[t].title)}}function Xd(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),e._uU(3,"Date de d\xe9but"),e.qZA(),e.TgZ(4,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.data.antecedents[r].start_date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",15)(8,"mat-datepicker",null,45),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw(2);e.xp6(4),e.Q6J("matDatepicker",t)("ngModel",o.data.antecedents[n].start_date),e.xp6(3),e.Q6J("for",t)}}function ep(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),e._uU(3,"Date de fin"),e.qZA(),e.TgZ(4,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.data.antecedents[r].end_date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",15)(8,"mat-datepicker",null,47),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw(2);e.xp6(4),e.Q6J("matDatepicker",t)("ngModel",o.data.antecedents[n].end_date),e.xp6(3),e.Q6J("for",t)}}function tp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",40)(2,"button",41),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw(2);return e.KtG(c.removeElementFromArray("antecedents",r))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",7)(6,"mat-form-field",8)(7,"mat-label"),e._uU(8,"Type d'ant\xe9c\xe9dent"),e.qZA(),e.TgZ(9,"mat-select",48),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.antecedents[c].antecedent_id=o)}),e.YNc(10,Vd,2,2,"mat-option",10),e.qZA()()(),e.YNc(11,$d,5,1,"div",49),e.YNc(12,Xd,10,3,"div",49),e.YNc(13,ep,10,3,"div",49),e.qZA()}if(2&i){const t=a.index,n=e.oxw(2);e.xp6(9),e.Q6J("ngModel",n.data.antecedents[t].antecedent_id),e.xp6(1),e.Q6J("ngForOf",n.antecedents)("ngForTrack",n.option),e.xp6(1),e.Q6J("ngIf",n.data.antecedents[t].antecedent_id),e.xp6(1),e.Q6J("ngIf",n.data.antecedents[t].antecedent_id),e.xp6(1),e.Q6J("ngIf",n.data.antecedents[t].antecedent_id)}}const wr=function(i){return{hidden_step:i}};function np(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",2)(2,"div",37)(3,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addAntecedent())}),e._uU(4," Ajouter ant\xe9c\xe9dent "),e.qZA()()(),e.YNc(5,Wd,36,14,"div",39),e.YNc(6,tp,14,6,"div",39),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,wr,1!==t.active_step)),e.xp6(5),e.Q6J("ngForOf",t.data.existing_antecedents)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngForOf",t.data.antecedents)("ngForTrackBy",t.trackByFn)}}function ip(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ap(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",40)(2,"button",41),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw(2);return e.KtG(c.removeElementFromArray("existing_prescriptions",r,"remove_prescriptions"))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",7)(6,"mat-form-field",8)(7,"mat-label"),e._uU(8,"Type d'ordonnance"),e.qZA(),e.TgZ(9,"mat-select",52),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.existing_prescriptions[c].type=o)}),e.YNc(10,ip,2,2,"mat-option",10),e.qZA()()(),e.TgZ(11,"div",7)(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Date d'ordonnance"),e.qZA(),e.TgZ(15,"input",14),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.existing_prescriptions[c].date=o)}),e.qZA(),e.TgZ(16,"mat-hint"),e._uU(17,"MM/DD/YYYY"),e.qZA(),e._UZ(18,"mat-datepicker-toggle",15)(19,"mat-datepicker",null,53),e.qZA()()()}if(2&i){const t=a.index,n=e.MAs(20),o=e.oxw(2);e.xp6(9),e.Q6J("ngModel",o.data.existing_prescriptions[t].type),e.xp6(1),e.Q6J("ngForOf",o.prescriptions_types)("ngForTrack",o.option),e.xp6(5),e.Q6J("matDatepicker",n)("ngModel",o.data.existing_prescriptions[t].date),e.xp6(3),e.Q6J("for",n)}}function op(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function rp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),e._uU(3,"Date d'ordonnance"),e.qZA(),e.TgZ(4,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.data.prescriptions[r].date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",15)(8,"mat-datepicker",null,53),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw(2);e.xp6(4),e.Q6J("matDatepicker",t)("ngModel",o.data.prescriptions[n].date),e.xp6(3),e.Q6J("for",t)}}function sp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",57),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,c=e.oxw(2).index,d=e.oxw(2);return e.KtG(d.onRemovePrescriptionImage(r,c))}),e.qZA()}2&i&&e.Q6J("file",a.$implicit)("removable",!0)}function lp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"ngx-dropzone",55),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.onSelectPrescriptionImage(o,r))}),e.YNc(2,sp,1,2,"ngx-dropzone-image-preview",56),e.TgZ(3,"ngx-dropzone-label"),e._uU(4,"Glissez et d\xe9posez vos images ici!"),e.qZA()()()}if(2&i){const t=e.oxw().index,n=e.oxw(2);e.xp6(1),e.Q6J("accept","image/*")("multiple",!0),e.xp6(1),e.Q6J("ngForOf",n.data.prescriptions[t].images)}}function cp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",40)(2,"button",41),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw(2);return e.KtG(c.removeElementFromArray("prescriptions",r))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",7)(6,"mat-form-field",8)(7,"mat-label"),e._uU(8,"Type d'ordonnance"),e.qZA(),e.TgZ(9,"mat-select",52),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.prescriptions[c].type=o)}),e.YNc(10,op,2,2,"mat-option",10),e.qZA()()(),e.YNc(11,rp,10,3,"div",49),e.YNc(12,lp,5,3,"div",54),e.qZA()}if(2&i){const t=a.index,n=e.oxw(2);e.xp6(9),e.Q6J("ngModel",n.data.prescriptions[t].type),e.xp6(1),e.Q6J("ngForOf",n.prescriptions_types)("ngForTrack",n.option),e.xp6(1),e.Q6J("ngIf",n.data.prescriptions[t].type),e.xp6(1),e.Q6J("ngIf",n.data.prescriptions[t].type)}}function up(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",2)(2,"div",37)(3,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addPrescription())}),e._uU(4," Ajouter ordonnance "),e.qZA()()(),e.YNc(5,ap,21,6,"div",39),e.YNc(6,cp,13,5,"div",39),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,wr,2!==t.active_step)),e.xp6(5),e.Q6J("ngForOf",t.data.existing_prescriptions)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngForOf",t.data.prescriptions)("ngForTrackBy",t.trackByFn)}}function dp(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function pp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),e._uU(3,"Date d'examen"),e.qZA(),e.TgZ(4,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.data.existing_bilans[r].date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",15)(8,"mat-datepicker",null,61),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw(2);e.xp6(4),e.Q6J("matDatepicker",t)("ngModel",o.data.existing_bilans[n].date),e.xp6(3),e.Q6J("for",t)}}function hp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"button",63),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw().index,d=e.oxw(2);return e.KtG(d.removeExistingImage("existing_bilans",c,r,"remove_images"))}),e.TgZ(2,"mat-icon"),e._uU(3,"clear"),e.qZA()(),e._UZ(4,"img",64),e.qZA()}if(2&i){const t=a.$implicit;e.xp6(4),e.Q6J("src",t.image,e.LSH)}}function fp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",57),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,c=e.oxw(2).index,d=e.oxw(2);return e.KtG(d.onRemoveElementImage(r,c,"existing_bilans","new_images"))}),e.qZA()}2&i&&e.Q6J("file",a.$implicit)("removable",!0)}function mp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"ngx-dropzone",55),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.onSelectElementImage(o,r,"existing_bilans","new_images"))}),e.YNc(2,fp,1,2,"ngx-dropzone-image-preview",56),e.TgZ(3,"ngx-dropzone-label"),e._uU(4,"Glissez et d\xe9posez vos images ici!"),e.qZA()()()}if(2&i){const t=e.oxw().index,n=e.oxw(2);e.xp6(1),e.Q6J("accept","image/*")("multiple",!0),e.xp6(1),e.Q6J("ngForOf",n.data.existing_bilans[t].new_images)}}function gp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",40)(2,"button",41),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw(2);return e.KtG(c.removeElementFromArray("existing_bilans",r,"remove_bilans"))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",7)(6,"mat-form-field",8)(7,"mat-label"),e._uU(8,"Type d'examen"),e.qZA(),e.TgZ(9,"mat-select",58),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.existing_bilans[c].type=o)}),e.YNc(10,dp,2,2,"mat-option",10),e.qZA()()(),e.YNc(11,pp,10,3,"div",49),e.TgZ(12,"div",59),e.YNc(13,hp,5,1,"div",60),e.qZA(),e.YNc(14,mp,5,3,"div",54),e.qZA()}if(2&i){const t=a.index,n=e.oxw(2);e.xp6(9),e.Q6J("ngModel",n.data.existing_bilans[t].type),e.xp6(1),e.Q6J("ngForOf",n.bilans_types)("ngForTrack",n.option),e.xp6(1),e.Q6J("ngIf",n.data.existing_bilans[t].type),e.xp6(2),e.Q6J("ngForOf",n.data.existing_bilans[t].images),e.xp6(1),e.Q6J("ngIf",n.data.existing_bilans[t].type)}}function _p(i,a){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function vp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"mat-form-field",8)(2,"mat-label"),e._uU(3,"Date d'examen"),e.qZA(),e.TgZ(4,"input",14),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.data.bilans[r].date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",15)(8,"mat-datepicker",null,61),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw(2);e.xp6(4),e.Q6J("matDatepicker",t)("ngModel",o.data.bilans[n].date),e.xp6(3),e.Q6J("for",t)}}function bp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",57),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,c=e.oxw(2).index,d=e.oxw(2);return e.KtG(d.onRemoveBilanImage(r,c))}),e.qZA()}2&i&&e.Q6J("file",a.$implicit)("removable",!0)}function yp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"ngx-dropzone",55),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw(2);return e.KtG(c.onSelectBilanImage(o,r))}),e.YNc(2,bp,1,2,"ngx-dropzone-image-preview",56),e.TgZ(3,"ngx-dropzone-label"),e._uU(4,"Glissez et d\xe9posez vos images ici!"),e.qZA()()()}if(2&i){const t=e.oxw().index,n=e.oxw(2);e.xp6(1),e.Q6J("accept","image/*")("multiple",!0),e.xp6(1),e.Q6J("ngForOf",n.data.bilans[t].images)}}function xp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",40)(2,"button",41),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw(2);return e.KtG(c.removeElementFromArray("bilans",r))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",7)(6,"mat-form-field",8)(7,"mat-label"),e._uU(8,"Type d'examen"),e.qZA(),e.TgZ(9,"mat-select",58),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2);return e.KtG(d.data.bilans[c].type=o)}),e.YNc(10,_p,2,2,"mat-option",10),e.qZA()()(),e.YNc(11,vp,10,3,"div",49),e.YNc(12,yp,5,3,"div",54),e.qZA()}if(2&i){const t=a.index,n=e.oxw(2);e.xp6(9),e.Q6J("ngModel",n.data.bilans[t].type),e.xp6(1),e.Q6J("ngForOf",n.bilans_types)("ngForTrack",n.option),e.xp6(1),e.Q6J("ngIf",n.data.bilans[t].type),e.xp6(1),e.Q6J("ngIf",n.data.bilans[t].type)}}function wp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",2)(2,"div",37)(3,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addBilan())}),e._uU(4," Ajouter bilan "),e.qZA()()(),e.YNc(5,gp,15,6,"div",39),e.YNc(6,xp,13,5,"div",39),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,wr,3!==t.active_step)),e.xp6(5),e.Q6J("ngForOf",t.data.existing_bilans)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngForOf",t.data.bilans)("ngForTrackBy",t.trackByFn)}}function Ap(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeStep())}),e._uU(1," Suivant "),e.qZA()}}function Cp(i,a){1&i&&e._UZ(0,"mat-spinner",66),2&i&&e.Q6J("diameter",30)}function Tp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit())}),e.YNc(1,Cp,1,1,"mat-spinner",65),e._uU(2," Sauvegarder "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}let _c=(()=>{class i{constructor(t,n,o,r,c,d){this.patientsService=t,this.antecedentsService=n,this.cabinetsService=o,this.usersService=r,this.modalService=c,this._snackBar=d,this.title=je._G.PATIENTS,this.data={cabinet_id:null,doctor_id:null,firstname:null,lastname:null,birthday:null,phone_number:null,email:null,gender:null,civility:null,assurance:null,blood_type:null,note:null,antecedents:[],prescriptions:[],bilans:[],existing_antecedents:[],existing_prescriptions:[],existing_bilans:[],remove_antecedents:[],remove_prescriptions:[],remove_bilans:[]},this.isLoading=!1,this.horizontalPosition="end",this.verticalPosition="bottom",this.prescriptions_types=je.o8,this.bilans_types=je.kH,this.family_situation=je.TF,this.blood_types=je.iu,this.genders=je.od,this.closingEvent=new e.vpe,this.reloadEvent=new e.vpe,this.steps=[{key:"step_1",name:"Infos g\xe9n\xe9rales"},{key:"step_2",name:"Ant\xe9c\xe9dents"},{key:"step_3",name:"Historiques des ordonnances"},{key:"step_4",name:"Historique des bilans et examens"}],this.active_step=0,this.cabinets=[],this.antecedents=[],this.doctors=[],this.all_doctors=[]}ngOnInit(){this.title=(this.selectedElement?je._G.UPDATE_ELEMENT:je._G.CREATE_ELEMENT)+" "+this.title,this.antecedentsService.all({params:{enabled:1}}).subscribe(t=>{console.log(t),this.antecedents=t.data},t=>{}),this.cabinetsService.all({params:{enabled:1}}).subscribe(t=>{console.log(t),this.cabinets=t.data},t=>{}),this.usersService.all({params:{type:"doctor",enabled:1}}).subscribe(t=>{console.log(t),this.all_doctors=t.data,this.selectedElement&&this.onCabinetChange(this.selectedElement.cabinet_id)},t=>{}),this.data={cabinet_id:this.selectedElement?this.selectedElement.cabinet_id:null,doctor_id:this.selectedElement?this.selectedElement.doctor_id:null,firstname:this.selectedElement?this.selectedElement.firstname:null,lastname:this.selectedElement?this.selectedElement.lastname:null,birthday:this.selectedElement?this.selectedElement.birthday:null,phone_number:this.selectedElement?this.selectedElement.phone_number:null,email:this.selectedElement?this.selectedElement.email:null,gender:this.selectedElement?this.selectedElement.gender:null,civility:this.selectedElement?this.selectedElement.civility:null,assurance:this.selectedElement?this.selectedElement.assurance:null,blood_type:this.selectedElement?this.selectedElement.blood_type:null,note:this.selectedElement?this.selectedElement.note:null,antecedents:[],prescriptions:[],bilans:[],existing_antecedents:[],existing_prescriptions:[],existing_bilans:[],remove_antecedents:[],remove_prescriptions:[],remove_bilans:[]},this.selectedElement&&(this.data.existing_antecedents=this.selectedElement.antecedents,this.data.existing_prescriptions=this.selectedElement.prescriptions.map(t=>(t.new_images=[],t.remove_images=[],t)),this.data.existing_bilans=this.selectedElement.bilans.map(t=>(t.new_images=[],t.remove_images=[],t)))}onClose(){this.closingEvent.emit()}toggleStatus(){this.data.enabled=!this.data.enabled}onSubmit(){var t=this;return(0,ma.Z)(function*(){const n=Object.values(t.form.controls);for(let o of n)if(o.invalid)return;for(let o in t.data.bilans)t.data.bilans[o].images.length>0&&(t.data.bilans[o].images=yield nn.c.convertFilesToBase64(t.data.bilans[o].images));for(let o in t.data.prescriptions)t.data.prescriptions[o].images.length>0&&(t.data.prescriptions[o].images=yield nn.c.convertFilesToBase64(t.data.prescriptions[o].images));for(let o in t.data.existing_bilans)t.data.existing_bilans[o].new_images.length>0&&(t.data.existing_bilans[o].new_images=yield nn.c.convertFilesToBase64(t.data.existing_bilans[o].new_images));for(let o in t.data.existing_prescriptions)t.data.existing_prescriptions[o].new_images.length>0&&(t.data.existing_prescriptions[o].new_images=yield nn.c.convertFilesToBase64(t.data.existing_prescriptions[o].new_images));t.isLoading=!0,t.selectedElement?t.patientsService.update(t.selectedElement.id,t.data).subscribe(o=>{t.onSuccess(o)},o=>{t.onError(o)}):t.patientsService.create(t.data).subscribe(o=>{t.onSuccess(o)},o=>{t.onError(o)})})()}onSuccess(t){this.isLoading=!1,this.reloadEvent.emit(),this.modalService.dismissAll(),this._snackBar.open("Enregistr\xe9 avec succ\xe8s!","Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["success-snackbar"]})}onError(t){if(this.isLoading=!1,"string"==typeof t)this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["danger-snackbar"]});else{let n=t.error.data;for(let o in n)this._snackBar.open(n[o],"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["danger-snackbar"]})}}onCabinetChange(t){this.doctors=this.all_doctors.filter(n=>n.cabinet_id==t)}getActiveStepName(){return this.steps[this.active_step].name}changeStep(t=!0){if(t&&this.active_step<this.steps.length-1){if(0===this.active_step){const n=Object.values(this.form.controls);for(let o of n)o.invalid&&o.markAsTouched();if(this.form.invalid)return void this.onError("Veuillez remplir tous les champs obligatoires")}this.active_step++}else!t&&this.active_step>0&&this.active_step--}addAntecedent(){this.data.antecedents.push({id:nn.c.generateUniqueId(),antecedent_id:null,title:null,start_date:null,end_date:null})}addBilan(){this.data.bilans.push({id:nn.c.generateUniqueId(),type:null,date:null,images:[]})}addPrescription(){this.data.prescriptions.push({id:nn.c.generateUniqueId(),type:null,date:null,images:[]})}onSelectBilanImage(t,n){console.log(t),this.data.bilans[n].images.push(...t.addedFiles)}onRemoveBilanImage(t,n){console.log(t),this.data.bilans[n].images.splice(this.data.bilans[n].images.indexOf(t),1)}onSelectPrescriptionImage(t,n,o="images"){console.log(t),this.data.prescriptions[n][o].push(...t.addedFiles)}onRemovePrescriptionImage(t,n,o="images"){console.log(t),this.data.prescriptions[n][o].splice(this.data.prescriptions[n][o].indexOf(t),1)}onSelectElementImage(t,n,o,r="images"){console.log(t),this.data[o][n][r].push(...t.addedFiles)}onRemoveElementImage(t,n,o,r="images"){console.log(t),this.data[o][n][r].splice(this.data[o][n][r].indexOf(t),1)}removeElementFromArray(t,n,o=null){o&&this.data[o].push(this.data[t][n].id),this.data[t].splice(n,1)}removeExistingImage(t,n,o,r=null){r&&this.data[t][n][r].push(this.data[t][n].images[o].id),this.data[t][n].images.splice(o,1)}trackByFn(t,n){return n.id}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(On.$),e.Y36(mc.v),e.Y36(Od.o),e.Y36(gc.f),e.Y36(Oa.FF),e.Y36(ga.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patients-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(Dd,5),2&t){let o;e.iGM(o=e.CRH())&&(n.form=o.first)}},inputs:{selectedElement:"selectedElement"},outputs:{closingEvent:"closingEvent",reloadEvent:"reloadEvent"},decls:89,vars:38,consts:[[3,"title","showSubmit","isLoading","closingEvent"],["f","ngForm"],[1,"row"],["class","col-md-12 d-flex justify-content-center mb-2",4,"ngIf"],["class","col-md-12 d-flex",4,"ngIf"],[1,"col-md-12","conatiner-fluid"],[1,"row",3,"ngClass"],[1,"col-md-6"],[1,"full-width"],["name","cabinet_id","required","",3,"ngModel","ngModelChange","valueChange"],[3,"value",4,"ngFor","ngForOf","ngForTrack"],["name","doctor_id","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Nom","name","lastname","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Pr\xe9nom","name","firstname","required","",3,"ngModel","ngModelChange"],["matInput","","required","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","T\xe9l\xe9phone","name","phone_number","required","",3,"ngModel","ngModelChange"],["name","gender","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Email","name","email","email","",3,"ngModel","ngModelChange"],["name","civility",3,"ngModel","ngModelChange"],["matInput","","placeholder","Assurance","name","assurance",3,"ngModel","ngModelChange"],["name","blood_type",3,"ngModel","ngModelChange"],[1,"col-md-12"],["matInput","","placeholder","Note","name","note",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngIf"],[1,"col-md-12","container-fluid","mt-2"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-md-6","text-right"],["type","button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"col-md-12","d-flex","justify-content-center","mb-2"],["class","step",3,"ngClass",4,"ngFor","ngForOf"],[1,"step",3,"ngClass"],[1,"col-md-12","d-flex"],[3,"value"],[3,"ngClass"],[1,"col-md-12","text-right","mb-2"],["type","button","mat-raised-button","","color","primary",3,"click"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","mt-2","text-right"],["type","button","mat-mini-fab","","color","warn","aria-label","Supprimer",3,"click"],["required","",3,"name","ngModel","ngModelChange"],["matInput","","placeholder","Intitul\xe9","required","",3,"name","ngModel","ngModelChange"],["matInput","","required","",3,"matDatepicker","name","ngModel","ngModelChange"],["start_date_picker",""],["matInput","",3,"matDatepicker","name","ngModel","ngModelChange"],["end_date_picker",""],["name","type_antecedent","required","",3,"ngModel","ngModelChange"],["class","col-md-6",4,"ngIf"],["matInput","","placeholder","Intitul\xe9","name","title","required","",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["name","type_prescription","required","",3,"ngModel","ngModelChange"],["prescription_date_picker",""],["class","col-md-12",4,"ngIf"],[3,"accept","multiple","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],["name","type_bilan","required","",3,"ngModel","ngModelChange"],[1,"col-md-12","d-flex","images-container"],["class","image-holder",4,"ngFor","ngForOf"],["bilan_date_picker",""],[1,"image-holder"],[3,"click"],[3,"src"],["style","margin-right: 10px;",3,"diameter",4,"ngIf"],[2,"margin-right","10px",3,"diameter"]],template:function(t,n){if(1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closingEvent",function(){return n.onClose()}),e.TgZ(1,"form",null,1)(3,"div",2),e.YNc(4,Jd,2,1,"div",3),e.YNc(5,Rd,3,1,"div",4),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Cabinet"),e.qZA(),e.TgZ(12,"mat-select",9),e.NdJ("ngModelChange",function(r){return n.data.cabinet_id=r})("valueChange",function(r){return n.onCabinetChange(r)}),e.YNc(13,zd,2,2,"mat-option",10),e.qZA()()(),e.TgZ(14,"div",7)(15,"mat-form-field",8)(16,"mat-label"),e._uU(17,"M\xe9decin"),e.qZA(),e.TgZ(18,"mat-select",11),e.NdJ("ngModelChange",function(r){return n.data.doctor_id=r}),e.YNc(19,Qd,2,2,"mat-option",10),e.qZA()()(),e.TgZ(20,"div",7)(21,"mat-form-field",8)(22,"mat-label"),e._uU(23,"Nom"),e.qZA(),e.TgZ(24,"input",12),e.NdJ("ngModelChange",function(r){return n.data.lastname=r}),e.qZA()()(),e.TgZ(25,"div",7)(26,"mat-form-field",8)(27,"mat-label"),e._uU(28,"Pr\xe9nom"),e.qZA(),e.TgZ(29,"input",13),e.NdJ("ngModelChange",function(r){return n.data.firstname=r}),e.qZA()()(),e.TgZ(30,"div",7)(31,"mat-form-field",8)(32,"mat-label"),e._uU(33,"Date de naissance"),e.qZA(),e.TgZ(34,"input",14),e.NdJ("ngModelChange",function(r){return n.data.birthday=r}),e.qZA(),e.TgZ(35,"mat-hint"),e._uU(36,"MM/DD/YYYY"),e.qZA(),e._UZ(37,"mat-datepicker-toggle",15)(38,"mat-datepicker",null,16),e.qZA()(),e.TgZ(40,"div",7)(41,"mat-form-field",8)(42,"mat-label"),e._uU(43,"T\xe9l\xe9phone"),e.qZA(),e.TgZ(44,"input",17),e.NdJ("ngModelChange",function(r){return n.data.phone_number=r}),e.qZA()()(),e.TgZ(45,"div",7)(46,"mat-form-field",8)(47,"mat-label"),e._uU(48,"Sexe"),e.qZA(),e.TgZ(49,"mat-select",18),e.NdJ("ngModelChange",function(r){return n.data.gender=r}),e.YNc(50,Hd,2,2,"mat-option",10),e.qZA()()(),e.TgZ(51,"div",7)(52,"mat-form-field",8)(53,"mat-label"),e._uU(54,"Email"),e.qZA(),e.TgZ(55,"input",19),e.NdJ("ngModelChange",function(r){return n.data.email=r}),e.qZA()()(),e.TgZ(56,"div",7)(57,"mat-form-field",8)(58,"mat-label"),e._uU(59,"Situation familiale"),e.qZA(),e.TgZ(60,"mat-select",20),e.NdJ("ngModelChange",function(r){return n.data.civility=r}),e.YNc(61,Gd,2,2,"mat-option",10),e.qZA()()(),e.TgZ(62,"div",7)(63,"mat-form-field",8)(64,"mat-label"),e._uU(65,"Assurance"),e.qZA(),e.TgZ(66,"input",21),e.NdJ("ngModelChange",function(r){return n.data.assurance=r}),e.qZA()()(),e.TgZ(67,"div",7)(68,"mat-form-field",8)(69,"mat-label"),e._uU(70,"Groupe sanguin"),e.qZA(),e.TgZ(71,"mat-select",22),e.NdJ("ngModelChange",function(r){return n.data.blood_type=r}),e.YNc(72,Yd,2,2,"mat-option",10),e.qZA()()(),e.TgZ(73,"div",23)(74,"mat-form-field",8)(75,"mat-label"),e._uU(76,"Note"),e.qZA(),e.TgZ(77,"textarea",24),e.NdJ("ngModelChange",function(r){return n.data.note=r}),e.qZA()()()(),e.YNc(78,np,7,7,"div",25),e.YNc(79,up,7,7,"div",25),e.YNc(80,wp,7,7,"div",25),e.qZA(),e.TgZ(81,"div",26)(82,"div",2)(83,"div",7)(84,"button",27),e.NdJ("click",function(){return n.changeStep(!1)}),e._uU(85," Precedent "),e.qZA()(),e.TgZ(86,"div",28),e.YNc(87,Ap,2,0,"button",29),e.YNc(88,Tp,3,2,"button",30),e.qZA()()()()()()),2&t){const o=e.MAs(39);e.Q6J("title",n.title)("showSubmit",!1)("isLoading",n.isLoading),e.xp6(4),e.Q6J("ngIf",!n.selectedElement),e.xp6(1),e.Q6J("ngIf",!n.selectedElement),e.xp6(2),e.Q6J("ngClass",e.VKq(36,wr,0!==n.active_step&&!n.selectedElement)),e.xp6(5),e.Q6J("ngModel",n.data.cabinet_id),e.xp6(1),e.Q6J("ngForOf",n.cabinets)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.doctor_id),e.xp6(1),e.Q6J("ngForOf",n.doctors)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.lastname),e.xp6(5),e.Q6J("ngModel",n.data.firstname),e.xp6(5),e.Q6J("matDatepicker",o)("ngModel",n.data.birthday),e.xp6(3),e.Q6J("for",o),e.xp6(7),e.Q6J("ngModel",n.data.phone_number),e.xp6(5),e.Q6J("ngModel",n.data.gender),e.xp6(1),e.Q6J("ngForOf",n.genders)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.email),e.xp6(5),e.Q6J("ngModel",n.data.civility),e.xp6(1),e.Q6J("ngForOf",n.family_situation)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.assurance),e.xp6(5),e.Q6J("ngModel",n.data.blood_type),e.xp6(1),e.Q6J("ngForOf",n.blood_types)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.note),e.xp6(1),e.Q6J("ngIf",!n.selectedElement),e.xp6(1),e.Q6J("ngIf",!n.selectedElement),e.xp6(1),e.Q6J("ngIf",!n.selectedElement),e.xp6(4),e.Q6J("disabled",n.active_step<=0&&!n.selectedElement),e.xp6(3),e.Q6J("ngIf",n.active_step<n.steps.length-1&&!n.selectedElement),e.xp6(1),e.Q6J("ngIf",n.active_step>=n.steps.length-1||n.selectedElement)}},dependencies:[U.mk,U.sg,U.O5,_a.u,We._Y,We.Fj,We.JJ,We.JL,We.Q7,We.on,We.On,We.F,Lt.KE,Lt.bx,Lt.hX,Lt.R9,Ot.Ou,va.Nt,He.lW,tn.Hw,ba.gD,sn.ey,an.Mq,an.hl,an.nW,vn._f,vn.NP,vn.sv],styles:[".hidden_step[_ngcontent-%COMP%]{display:none!important}.full-width[_ngcontent-%COMP%]{width:100%}.step[_ngcontent-%COMP%]{background:none;border:none;border-right:1px solid}.active-step[_ngcontent-%COMP%]{font-weight:700}.no-border[_ngcontent-%COMP%]{border:none!important}.images-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;padding:10px}.image-holder[_ngcontent-%COMP%]{border:1px solid grey;border-radius:8px;position:relative;margin:10px;width:100px;height:100px;display:flex;align-items:center}.image-holder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;height:32px;padding:0;width:32px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;cursor:pointer;right:-16px;top:-16px}.image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),i})();var Zp=Ae(4159),vc=Ae.n(Zp),Np=Ae(5543),Pp=Ae(7188),Da=Ae(2340),bc=Ae(529);let kp=(()=>{class i{constructor(t){this.http=t}all(t){return this.http.get(`${Da.N.url}/api/wounds`,t)}update(t,n){return this.http.post(`${Da.N.url}/api/wounds/${t}`,n)}create(t){return this.http.post(`${Da.N.url}/api/wounds`,t)}find(t){return this.http.get(`${Da.N.url}/api/wounds/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(bc.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Mp=["f"];function Lp(i,a){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Fp(i,a){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function qp(i,a){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Ep(i,a){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Sp(i,a){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ip(i,a){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Up(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",2)(2,"div",30)(3,"mat-form-field",4)(4,"mat-label"),e._uU(5,"M\xe9dicament"),e.qZA(),e.TgZ(6,"mat-select",34),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2).index,h=e.oxw();return e.KtG(h.prescriptions[d].medicines[c].medicine_id=o)}),e.YNc(7,Ip,2,2,"mat-option",6),e.qZA()()(),e.TgZ(8,"div",3)(9,"mat-form-field",4)(10,"mat-label"),e._uU(11,"Posologie"),e.qZA(),e.TgZ(12,"input",35),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw(2).index,h=e.oxw();return e.KtG(h.prescriptions[d].medicines[c].posologie=o)}),e.qZA()()()()()}if(2&i){const t=a.index,n=e.oxw(2).index,o=e.oxw();e.xp6(6),e.Q6J("ngModel",o.prescriptions[n].medicines[t].medicine_id),e.xp6(1),e.Q6J("ngForOf",o.medicines)("ngForTrack",o.option),e.xp6(5),e.Q6J("ngModel",o.prescriptions[n].medicines[t].posologie)}}function Op(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",28)(2,"button",29),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.removePrescription(o))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",30)(6,"mat-form-field",4)(7,"mat-label"),e._uU(8,"Canvas d'ordonnance"),e.qZA(),e.TgZ(9,"mat-select",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw();return e.KtG(c.prescriptions[r].canvas_id=o)}),e.YNc(10,Sp,2,2,"mat-option",6),e.qZA()()(),e.TgZ(11,"div",28)(12,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.addMedicine(o))}),e._uU(13," Ajouter M\xe9dicaments "),e.qZA()(),e.YNc(14,Up,13,4,"div",32),e.qZA()}if(2&i){const t=e.oxw().index,n=e.oxw();e.xp6(9),e.Q6J("ngModel",n.prescriptions[t].canvas_id),e.xp6(1),e.Q6J("ngForOf",n.canvases)("ngForTrack",n.option),e.xp6(2),e.Q6J("disabled",n.isLoading),e.xp6(2),e.Q6J("ngForOf",n.prescriptions[t].medicines)("ngForTrackBy",n.trackByFn)}}function Dp(i,a){if(1&i&&(e.TgZ(0,"div",46)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=a.$implicit;e.xp6(2),e.AsE(" ",null==t.medicine?null:t.medicine.name," ",t.posologie," ")}}function jp(i,a){if(1&i&&(e.TgZ(0,"div",36)(1,"div",37),e._UZ(2,"img",38),e.qZA(),e.TgZ(3,"div",39),e._UZ(4,"div",40),e.qZA(),e.TgZ(5,"div",41),e._UZ(6,"div",42),e.qZA(),e.TgZ(7,"div",41),e.YNc(8,Dp,3,2,"div",43),e.qZA(),e.TgZ(9,"div",44),e._UZ(10,"div",45),e.qZA()()),2&i){const t=e.oxw().index,n=e.oxw();e.xp6(2),e.Q6J("src",null!=n.prescriptions[t].canvas&&n.prescriptions[t].canvas.logo?n.url+"/storage/"+(null==n.prescriptions[t].canvas?null:n.prescriptions[t].canvas.logo):"/assets/img/brand/red.png",e.LSH),e.xp6(2),e.Q6J("innerHTML",null==n.prescriptions[t].canvas?null:n.prescriptions[t].canvas.head,e.oJD),e.xp6(2),e.Q6J("innerHTML",null==n.prescriptions[t].canvas?null:n.prescriptions[t].canvas.body,e.oJD),e.xp6(2),e.Q6J("ngForOf",n.prescriptions[t].medicines),e.xp6(2),e.Q6J("innerHTML",null==n.prescriptions[t].canvas?null:n.prescriptions[t].canvas.footer,e.oJD)}}function Bp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,r=e.oxw();return e.KtG(r.generatePrescription(o))}),e._uU(1," Generer ordonnance "),e.qZA()}if(2&i){const t=e.oxw(3);e.Q6J("disabled",t.isLoading)}}function Jp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,r=e.oxw();return e.KtG(r.generatePrescription(o))}),e._uU(1," Annuler "),e.qZA()}if(2&i){const t=e.oxw(3);e.Q6J("disabled",t.isLoading)}}function Rp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,r=e.oxw();return e.KtG(r.confirmGeneratePrescription(o))}),e._uU(1," Confirmer "),e.qZA()}if(2&i){const t=e.oxw(3);e.Q6J("disabled",t.isLoading)}}function zp(i,a){if(1&i&&(e.TgZ(0,"div",2)(1,"div",28),e.YNc(2,Bp,2,1,"button",47),e.YNc(3,Jp,2,1,"button",47),e.YNc(4,Rp,2,1,"button",48),e.qZA()()),2&i){const t=e.oxw().index,n=e.oxw();e.xp6(2),e.Q6J("ngIf",!n.prescriptions[t].generating),e.xp6(1),e.Q6J("ngIf",n.prescriptions[t].generating),e.xp6(1),e.Q6J("ngIf",n.prescriptions[t].generating)}}function Qp(i,a){if(1&i&&(e.TgZ(0,"div",25),e.YNc(1,Op,15,6,"div",26),e.YNc(2,jp,11,5,"div",27),e.YNc(3,zp,5,3,"div",26),e.qZA()),2&i){const t=a.index,n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.prescriptions[t].generating),e.xp6(1),e.Q6J("ngIf",n.prescriptions[t].generating),e.xp6(1),e.Q6J("ngIf",n.prescriptions[t].canvas_id)}}function Hp(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",50),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onRemoveElementImage(r,"prescriptions"))}),e.qZA()}2&i&&e.Q6J("file",a.$implicit)("removable",!0)}function Gp(i,a){if(1&i&&(e.TgZ(0,"mat-option",24),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Yp(i,a){1&i&&e._UZ(0,"mat-spinner",51),2&i&&e.Q6J("diameter",30)}let Kp=(()=>{class i{constructor(t,n,o,r,c,d){this.woundsService=t,this.canvasesService=n,this.usersService=o,this.medicinesService=r,this.modalService=c,this._snackBar=d,this.url=Da.N.url,this.title=je._G.PLAIES,this.data={patient_id:null,praticien_id:null,type:null,etiologie:null,zone:null,prescriptions:[],treatments_count:null,duration_type:null,duration:null,date:null,remove_prescriptions:[]},this.isLoading=!1,this.horizontalPosition="end",this.verticalPosition="bottom",this.wounds_type=je.ty,this.etiologies=je.rB,this.wounds_zones=je.zi,this.duration_types=je.Vn,this.practitioners=[],this.closingEvent=new e.vpe,this.reloadEvent=new e.vpe,this.canvases=[],this.medicines=[],this.prescriptions=[]}ngOnInit(){this.title=(this.selectedElement?je._G.UPDATE_ELEMENT:je._G.CREATE_ELEMENT)+" "+this.title,this.canvasesService.all({params:{enabled:1,type:"PT"}}).subscribe(t=>{console.log(t),this.canvases=t.data},t=>{}),this.medicinesService.all({params:{enabled:1,type:"Plaie"}}).subscribe(t=>{console.log(t),this.medicines=t.data},t=>{}),this.usersService.all({params:{type:"practitioner",enabled:1}}).subscribe(t=>{console.log(t),this.practitioners=t.data},t=>{}),this.data={patient_id:this.patient?.id,type:this.selectedElement?this.selectedElement.type:null,praticien_id:this.selectedElement?this.selectedElement.praticien_id:null,etiologie:this.selectedElement?this.selectedElement.etiologie:null,zone:this.selectedElement?this.selectedElement.zone:null,treatments_count:this.selectedElement?this.selectedElement.treatments_count:null,duration_type:this.selectedElement?this.selectedElement.duration_type:null,duration:this.selectedElement?this.selectedElement.duration:null,prescriptions:[],existing_prescriptions:[],remove_prescriptions:[]},this.selectedElement&&(this.data.existing_prescriptions=this.selectedElement.prescriptions)}onClose(){this.closingEvent.emit()}toggleStatus(){this.data.enabled=!this.data.enabled}onSubmit(){var t=this;return(0,ma.Z)(function*(){const n=Object.values(t.form.controls);for(let o of n)if(o.invalid)return;for(let o in t.data.prescriptions)t.data.prescriptions.length>0&&(t.data.prescriptions=yield nn.c.convertFilesToBase64(t.data.prescriptions));t.isLoading=!0,t.selectedElement?t.woundsService.update(t.selectedElement.id,t.data).subscribe(o=>{t.onSuccess(o)},o=>{t.onError(o)}):t.woundsService.create(t.data).subscribe(o=>{t.onSuccess(o)},o=>{t.onError(o)})})()}onSelectElementImage(t,n){console.log(t),this.data[n].push(...t.addedFiles)}onRemoveElementImage(t,n){console.log(t),this.data[n].splice(this.data[n].indexOf(t),1)}onSuccess(t){this.isLoading=!1,this.reloadEvent.emit(),this.modalService.dismissAll(),this._snackBar.open("Enregistr\xe9 avec succ\xe8s!","Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["success-snackbar"]})}removeElementFromArray(t,n,o=null){o&&this.data[o].push(this.data[t][n].id),this.data[t].splice(n,1)}addPrescription(){this.prescriptions.push({id:nn.c.generateUniqueId(),canvas_id:null,canvas:null,medicines:[],generating:!1})}removePrescription(t){this.prescriptions.splice(t,1)}addMedicine(t){this.prescriptions[t].medicines.push({id:nn.c.generateUniqueId(),medicine_id:null,medicine:null,posologie:null})}removeMedicine(t,n){this.prescriptions[t].medicines[n].splice(t,1)}generatePrescription(t){if(!this.prescriptions[t].generating){this.prescriptions[t].canvas={...this.canvases.find(n=>n.id===this.prescriptions[t].canvas_id)},this.prescriptions[t].canvas&&(this.prescriptions[t].canvas.head=this.replaceVariables(this.prescriptions[t].canvas.head),this.prescriptions[t].canvas.body=this.replaceVariables(this.prescriptions[t].canvas.body),this.prescriptions[t].canvas.footer=this.replaceVariables(this.prescriptions[t].canvas.footer));for(let n in this.prescriptions[t].medicines)this.prescriptions[t].medicines[n].medicine=this.medicines.find(o=>o.id===this.prescriptions[t].medicines[n].medicine_id)}this.prescriptions[t].generating=!this.prescriptions[t].generating}replaceVariables(t){return t&&(t=(t=(t=(t=(t=t.replace(/{nomPatient}/g,this.patient.lastname)).replace(/{prenomPatient}/g,this.patient.firstname)).replace(/{docteur}/g,this.patient.doctor?.name)).replace(/{clinique}/g,this.patient.cabinet?.name)).replace(/{dateDocument}/g,Wt().format("DD-MM-YYYY"))),t}confirmGeneratePrescription(t){const n=document.getElementById("prescription-preview");vc()(n).then(o=>{const r=o.toDataURL("image/png");this.data.prescriptions.push(r),this.prescriptions.splice(t,1)})}trackByFn(t,n){return n.id}onError(t){this.isLoading=!1;let n=t.error.data;for(let o in n)this._snackBar.open(n[o],"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["danger-snackbar"]})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(kp),e.Y36(Np.q),e.Y36(gc.f),e.Y36(Pp.M),e.Y36(Oa.FF),e.Y36(ga.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-wounds-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(Mp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.form=o.first)}},inputs:{selectedElement:"selectedElement",patient:"patient"},outputs:{closingEvent:"closingEvent",reloadEvent:"reloadEvent"},decls:72,vars:31,consts:[[3,"title","showSubmit","isLoading","closingEvent"],["f","ngForm"],[1,"row"],[1,"col-md-6"],[1,"full-width"],["name","practitioner_id","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrack"],["name","type","required","",3,"ngModel","ngModelChange"],["name","wounds_type","required","",3,"ngModel","ngModelChange"],["name","zone","required","",3,"ngModel","ngModelChange"],[1,"col-md-12"],[1,"container-fluid","p-2"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["class","col-md-12 container-fluid prescription-canvas",4,"ngFor","ngForOf","ngForTrackBy"],[3,"accept","multiple","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],["matInput","","placeholder","Nombre de soins","name","treatments_count",3,"ngModel","ngModelChange"],["name","duration_type",3,"ngModel","ngModelChange"],["matInput","","placeholder","Dur\xe9e","name","duration",3,"ngModel","ngModelChange"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],[1,"col-md-12","text-right","mt-2"],["style","margin-right: 10px;",3,"diameter",4,"ngIf"],[3,"value"],[1,"col-md-12","container-fluid","prescription-canvas"],["class","row",4,"ngIf"],["class","row","id","prescription-preview",4,"ngIf"],[1,"col-12","mt-2","text-right"],["type","button","mat-mini-fab","","color","warn","aria-label","Supprimer",3,"click"],[1,"col-6"],["name","type","name","canvas","required","",3,"ngModel","ngModelChange"],["class","col-md-12 container-fluid",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-12","container-fluid"],["name","type","required","","name","medicine[]",3,"ngModel","ngModelChange"],["matInput","","placeholder","Posologie","required","","name","posologie[]",3,"ngModel","ngModelChange"],["id","prescription-preview",1,"row"],[1,"col-md-6","perscription-logo-holder"],[1,"perscription-logo",2,"max-width","100%",3,"src"],[1,"col-md-6","perscription-header-holder"],[1,"perscription-header",3,"innerHTML"],[1,"col-md-12","perscription-body-holder"],[1,"perscription-body",3,"innerHTML"],["class","p-1",4,"ngFor","ngForOf"],[1,"col-md-12","perscription-footer-holder"],[1,"perscription-footer",3,"innerHTML"],[1,"p-1"],["type","button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["type","button","mat-raised-button","","color","primary","class","ml-2",3,"disabled","click",4,"ngIf"],["type","button","mat-raised-button","","color","primary",1,"ml-2",3,"disabled","click"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[2,"margin-right","10px",3,"diameter"]],template:function(t,n){if(1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closingEvent",function(){return n.onClose()}),e.TgZ(1,"form",null,1)(3,"div",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Praticien"),e.qZA(),e.TgZ(8,"mat-select",5),e.NdJ("ngModelChange",function(r){return n.data.practitioner_id=r}),e.YNc(9,Lp,2,2,"mat-option",6),e.qZA()()(),e.TgZ(10,"div",3)(11,"mat-form-field",4)(12,"mat-label"),e._uU(13,"Type de plaie"),e.qZA(),e.TgZ(14,"mat-select",7),e.NdJ("ngModelChange",function(r){return n.data.type=r}),e.YNc(15,Fp,2,2,"mat-option",6),e.qZA()()(),e.TgZ(16,"div",3)(17,"mat-form-field",4)(18,"mat-label"),e._uU(19,"Etiologie"),e.qZA(),e.TgZ(20,"mat-select",8),e.NdJ("ngModelChange",function(r){return n.data.etiologie=r}),e.YNc(21,qp,2,2,"mat-option",6),e.qZA()()(),e.TgZ(22,"div",3)(23,"mat-form-field",4)(24,"mat-label"),e._uU(25,"Zone"),e.qZA(),e.TgZ(26,"mat-select",9),e.NdJ("ngModelChange",function(r){return n.data.zone=r}),e.YNc(27,Ep,2,2,"mat-option",6),e.qZA()()(),e.TgZ(28,"div",10)(29,"h6"),e._uU(30,"Ordonnance/PT"),e.qZA(),e.TgZ(31,"div",11)(32,"div",2)(33,"div",10)(34,"button",12),e.NdJ("click",function(){return n.addPrescription()}),e._uU(35," Ajouter Canvas d'ordonnance "),e.qZA()(),e.YNc(36,Qp,4,3,"div",13),e.qZA()()(),e.TgZ(37,"div",10)(38,"ngx-dropzone",14),e.NdJ("change",function(r){return n.onSelectElementImage(r,"prescriptions")}),e.YNc(39,Hp,1,2,"ngx-dropzone-image-preview",15),e.TgZ(40,"ngx-dropzone-label"),e._uU(41,"Glissez et d\xe9posez vos images ici!"),e.qZA()()(),e.TgZ(42,"div",3)(43,"mat-form-field",4)(44,"mat-label"),e._uU(45,"Nombre de soins"),e.qZA(),e.TgZ(46,"input",16),e.NdJ("ngModelChange",function(r){return n.data.treatments_count=r}),e.qZA()()(),e.TgZ(47,"div",3)(48,"mat-form-field",4)(49,"mat-label"),e._uU(50,"Type de dur\xe9e"),e.qZA(),e.TgZ(51,"mat-select",17),e.NdJ("ngModelChange",function(r){return n.data.duration_type=r}),e.YNc(52,Gp,2,2,"mat-option",6),e.qZA()()(),e.TgZ(53,"div",3)(54,"mat-form-field",4)(55,"mat-label"),e._uU(56,"Dur\xe9e"),e.qZA(),e.TgZ(57,"input",18),e.NdJ("ngModelChange",function(r){return n.data.duration=r}),e.qZA()()(),e.TgZ(58,"div",3)(59,"mat-form-field",4)(60,"mat-label"),e._uU(61,"Date de d\xe9but des soins"),e.qZA(),e.TgZ(62,"input",19),e.NdJ("ngModelChange",function(r){return n.data.date=r}),e.qZA(),e.TgZ(63,"mat-hint"),e._uU(64,"MM/DD/YYYY"),e.qZA(),e._UZ(65,"mat-datepicker-toggle",20)(66,"mat-datepicker",null,21),e.qZA()(),e.TgZ(68,"div",22)(69,"button",12),e.NdJ("click",function(){return n.onSubmit()}),e.YNc(70,Yp,1,1,"mat-spinner",23),e._uU(71," Sauvegarder "),e.qZA()()()()()),2&t){const o=e.MAs(67);e.Q6J("title",n.title)("showSubmit",!1)("isLoading",n.isLoading),e.xp6(8),e.Q6J("ngModel",n.data.practitioner_id),e.xp6(1),e.Q6J("ngForOf",n.practitioners)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.type),e.xp6(1),e.Q6J("ngForOf",n.wounds_type)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.etiologie),e.xp6(1),e.Q6J("ngForOf",n.etiologies)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.zone),e.xp6(1),e.Q6J("ngForOf",n.wounds_zones)("ngForTrack",n.option),e.xp6(7),e.Q6J("disabled",n.isLoading),e.xp6(2),e.Q6J("ngForOf",n.prescriptions)("ngForTrackBy",n.trackByFn),e.xp6(2),e.Q6J("accept","image/*")("multiple",!0),e.xp6(1),e.Q6J("ngForOf",n.data.prescriptions),e.xp6(7),e.Q6J("ngModel",n.data.treatments_count),e.xp6(5),e.Q6J("ngModel",n.data.duration_type),e.xp6(1),e.Q6J("ngForOf",n.duration_types)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.duration),e.xp6(5),e.Q6J("matDatepicker",o)("ngModel",n.data.date),e.xp6(3),e.Q6J("for",o),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading)}},dependencies:[U.sg,U.O5,_a.u,We._Y,We.Fj,We.JJ,We.JL,We.Q7,We.On,We.F,Lt.KE,Lt.bx,Lt.hX,Lt.R9,Ot.Ou,va.Nt,He.lW,tn.Hw,ba.gD,sn.ey,an.Mq,an.hl,an.nW,vn._f,vn.NP,vn.sv],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),i})();const Wp=["f"],Vp=function(i,a){return{"active-step":i,"no-border":a}};function $p(i,a){if(1&i&&(e.TgZ(0,"button",86),e._uU(1),e.qZA()),2&i){const t=a.$implicit,n=a.index,o=e.oxw();e.Q6J("ngClass",e.WLB(2,Vp,n===o.active_step,n===o.steps.length-1)),e.xp6(1),e.hij(" ",t.name," ")}}function Xp(i,a){if(1&i&&(e.TgZ(0,"mat-option",87),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function eh(i,a){if(1&i&&(e.TgZ(0,"mat-option",87),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function th(i,a){if(1&i&&(e.TgZ(0,"mat-option",87),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function nh(i,a){if(1&i&&(e.TgZ(0,"mat-option",87),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ih(i,a){if(1&i&&(e.TgZ(0,"mat-option",87),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}const yc=function(i){return{backgroundColor:i}};function ah(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",88)(2,"button",89),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeColoration(r))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",47)(6,"mat-form-field",15)(7,"mat-label"),e._uU(8,"Coloration"),e.qZA(),e.TgZ(9,"mat-select",90),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.data.existing_colorations[c].color=o)}),e.YNc(10,ih,2,2,"mat-option",49),e.qZA()()(),e.TgZ(11,"div",91)(12,"mat-form-field",15)(13,"mat-label"),e._uU(14,"Pourcentage"),e.qZA(),e.TgZ(15,"input",92),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.data.existing_colorations[c].percentage=o)}),e.qZA()()(),e.TgZ(16,"div",93),e._UZ(17,"div",94),e.qZA()()}if(2&i){const t=a.index,n=e.oxw();e.xp6(9),e.MGl("name","color",t,""),e.Q6J("ngModel",n.data.existing_colorations[t].color),e.xp6(1),e.Q6J("ngForOf",n.wound_colorations)("ngForTrack",n.option),e.xp6(5),e.MGl("name","percentage",t,""),e.Q6J("ngModel",n.data.existing_colorations[t].percentage),e.xp6(2),e.Q6J("ngStyle",e.VKq(7,yc,n.wound_coloration_codes.hasOwnProperty(n.data.existing_colorations[t].color)?n.wound_coloration_codes[n.data.existing_colorations[t].color]:"#fff"))}}function oh(i,a){if(1&i&&(e.TgZ(0,"mat-option",87),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function rh(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",88)(2,"button",89),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeElementFromArray("colorations",r))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",47)(6,"mat-form-field",15)(7,"mat-label"),e._uU(8,"Coloration"),e.qZA(),e.TgZ(9,"mat-select",90),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.data.colorations[c].color=o)}),e.YNc(10,oh,2,2,"mat-option",49),e.qZA()()(),e.TgZ(11,"div",91)(12,"mat-form-field",15)(13,"mat-label"),e._uU(14,"Pourcentage"),e.qZA(),e.TgZ(15,"input",92),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.data.colorations[c].percentage=o)}),e.qZA()()(),e.TgZ(16,"div",93),e._UZ(17,"div",94),e.qZA()()}if(2&i){const t=a.index,n=e.oxw();e.xp6(9),e.MGl("name","color",t,""),e.Q6J("ngModel",n.data.colorations[t].color),e.xp6(1),e.Q6J("ngForOf",n.wound_colorations)("ngForTrack",n.option),e.xp6(5),e.MGl("name","percentage",t,""),e.Q6J("ngModel",n.data.colorations[t].percentage),e.xp6(2),e.Q6J("ngStyle",e.VKq(7,yc,n.wound_coloration_codes.hasOwnProperty(n.data.colorations[t].color)?n.wound_coloration_codes[n.data.colorations[t].color]:"#fff"))}}function sh(i,a){if(1&i&&(e.TgZ(0,"mat-option",87),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function lh(i,a){if(1&i&&(e.TgZ(0,"mat-option",87),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ch(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",95),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onRemoveImage(r))}),e.qZA()}2&i&&e.Q6J("file",a.$implicit)("removable",!0)}function uh(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeStep())}),e._uU(1," Suivant "),e.qZA()}}function dh(i,a){1&i&&e._UZ(0,"mat-spinner",97),2&i&&e.Q6J("diameter",30)}function ph(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",82),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit())}),e.YNc(1,dh,1,1,"mat-spinner",96),e._uU(2," Sauvegarder "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("ngIf",t.isLoading)}}const Eo=function(i){return{hidden_step:i}};let hh=(()=>{class i{constructor(t,n,o){this.patientsService=t,this.modalService=n,this._snackBar=o,this.title=je._G.PTSI,this.data={wound_id:null,patho:null,patho_dopler:null,patho_date:null,patho_operee:null,tvp:null,tvp_date:null,contention:null,aomi:null,aomi_doppler:null,aomi_date:null,cardiopathie:null,anticoagulant:null,tabac:null,cholesterolemie:null,hta:null,did:null,dnid:null,dnid_hbac:null,dnid_date:null,obesite:null,denutrition:null,mobelite:null,allergie:null,hygiene:null,ordonnance:null,vat:null,bilan_sanguin:null,bilan_sanguin_date:null,bilan_sanguin_dfg:null,bilan_sanguin_gb:null,bilan_sanguin_albumine:null,bilan_sanguin_crp:null,douleur:null,douleur_eva:null,douleur_spontanee:null,douleur_provoquee:null,douleur_intermittente:null,douleur_continue:null,antalgique:null,antalgique_niveau:null,plaie_siege:null,plaie_anciennete:null,plaie_date_episode:null,spontanee:null,traumatisme:null,post_operatoire:null,ulcere:null,veineux:null,arteriel:null,mixte:null,mal_perf:null,escarre_stade:null,hematome:null,brulure_degre:null,dermabrasion:null,plaie_autre:null,soins_ide:null,soins_frequence:null,soins_frequence_jours:null,pansement_primaire:null,pansement_primaire_deplace:null,pansement_primaire_tenue:null,pansement_primaire_tolerance:null,pansement_secondaire:null,pansement_secondaire_deplace:null,pansement_secondaire_tenue:null,pansement_secondaire_tolerance:null,protocole_detersion:null,protocole_anesth:null,protocole_compresse:null,protocole_bistouri:null,protocole_curette:null,protocole_douleur:null,protocole_douleur_eva:null,protocole_prelevement:null,protocole_ecouvillon:null,protocole_curtage:null,protocole_biopsie:null,protocole_pansement_primaire:null,protocole_pansement_secondaire:null,protocole_peau_peri:null,protocole_contention:null,protocole_contention_taille:null,protocole_contention_type:null,protocole_antibiotherapie:null,protocole_antibiotherapie_dose:null,protocole_antibiotherapie_duree:null,protocole_bilan:null,protocole_radiographie:null,protocole_doppler_veineux:null,protocole_doppler_arteriel:null,protocole_consultation:null,protocole_photo:null,protocole_planimetrie:null,observations:null,zone:null,phase:null,step:null,stade:null,tissus:null,inflammation:null,humidity:null,berge_width:null,berge_height:null,wound_width:null,wound_height:null,wound_depth:null,colorations:[],images:[],existing_colorations:[],existing_images:[],remove_colorations:[],remove_images:[]},this.isLoading=!1,this.horizontalPosition="end",this.verticalPosition="bottom",this.wounds_zones=je.zi,this.wound_colorations=je.g5,this.wound_coloration_codes=je.F3,this.wound_phases=je.MG,this.wound_steps=[],this.wound_stades=je.Nj,this.wound_tissus=je.Im,this.wound_humidity=je.dP,this.closingEvent=new e.vpe,this.reloadEvent=new e.vpe,this.steps=[{key:"step_1",name:"Constituer un PTSI"},{key:"step_2",name:"Constituer un PTSI"},{key:"step_3",name:"Protocole de soins et prescriptions"},{key:"step_4",name:"Constituer un PTSI : T.I.M.E"},{key:"step_5",name:"Chargez des images de la plaie"}],this.active_step=0}ngOnInit(){this.title=(this.selectedElement?je._G.UPDATE_ELEMENT:je._G.CREATE_ELEMENT)+" "+this.title,this.data={wound_id:this.wound?.id,patho:this.selectedElement?this.selectedElement.patho:null,patho_dopler:this.selectedElement?this.selectedElement.patho_dopler:null,patho_date:this.selectedElement?this.selectedElement.patho_date:null,patho_operee:this.selectedElement?this.selectedElement.patho_operee:null,tvp:this.selectedElement?this.selectedElement.tvp:null,tvp_date:this.selectedElement?this.selectedElement.tvp_date:null,contention:this.selectedElement?this.selectedElement.contention:null,aomi:this.selectedElement?this.selectedElement.aomi:null,aomi_doppler:this.selectedElement?this.selectedElement.aomi_doppler:null,aomi_date:this.selectedElement?this.selectedElement.aomi_date:null,cardiopathie:this.selectedElement?this.selectedElement.cardiopathie:null,anticoagulant:this.selectedElement?this.selectedElement.anticoagulant:null,tabac:this.selectedElement?this.selectedElement.tabac:null,cholesterolemie:this.selectedElement?this.selectedElement.cholesterolemie:null,hta:this.selectedElement?this.selectedElement.hta:null,did:this.selectedElement?this.selectedElement.did:null,dnid:this.selectedElement?this.selectedElement.dnid:null,dnid_hbac:this.selectedElement?this.selectedElement.dnid_hbac:null,dnid_date:this.selectedElement?this.selectedElement.dnid_date:null,obesite:this.selectedElement?this.selectedElement.obesite:null,denutrition:this.selectedElement?this.selectedElement.denutrition:null,mobelite:this.selectedElement?this.selectedElement.mobelite:null,allergie:this.selectedElement?this.selectedElement.allergie:null,hygiene:this.selectedElement?this.selectedElement.hygiene:null,ordonnance:this.selectedElement?this.selectedElement.ordonnance:null,vat:this.selectedElement?this.selectedElement.vat:null,bilan_sanguin:this.selectedElement?this.selectedElement.bilan_sanguin:null,bilan_sanguin_date:this.selectedElement?this.selectedElement.bilan_sanguin_date:null,bilan_sanguin_dfg:this.selectedElement?this.selectedElement.bilan_sanguin_dfg:null,bilan_sanguin_gb:this.selectedElement?this.selectedElement.bilan_sanguin_gb:null,bilan_sanguin_albumine:this.selectedElement?this.selectedElement.bilan_sanguin_albumine:null,bilan_sanguin_crp:this.selectedElement?this.selectedElement.bilan_sanguin_crp:null,douleur:this.selectedElement?this.selectedElement.douleur:null,douleur_eva:this.selectedElement?this.selectedElement.douleur_eva:null,douleur_spontanee:this.selectedElement?this.selectedElement.douleur_spontanee:null,douleur_provoquee:this.selectedElement?this.selectedElement.douleur_provoquee:null,douleur_intermittente:this.selectedElement?this.selectedElement.douleur_intermittente:null,douleur_continue:this.selectedElement?this.selectedElement.douleur_continue:null,antalgique:this.selectedElement?this.selectedElement.antalgique:null,antalgique_niveau:this.selectedElement?this.selectedElement.antalgique_niveau:null,plaie_siege:this.selectedElement?this.selectedElement.plaie_siege:null,plaie_anciennete:this.selectedElement?this.selectedElement.plaie_anciennete:null,plaie_date_episode:this.selectedElement?this.selectedElement.plaie_date_episode:null,spontanee:this.selectedElement?this.selectedElement.spontanee:null,traumatisme:this.selectedElement?this.selectedElement.traumatisme:null,post_operatoire:this.selectedElement?this.selectedElement.post_operatoire:null,ulcere:this.selectedElement?this.selectedElement.ulcere:null,veineux:this.selectedElement?this.selectedElement.veineux:null,arteriel:this.selectedElement?this.selectedElement.arteriel:null,mixte:this.selectedElement?this.selectedElement.mixte:null,mal_perf:this.selectedElement?this.selectedElement.mal_perf:null,escarre_stade:this.selectedElement?this.selectedElement.escarre_stade:null,hematome:this.selectedElement?this.selectedElement.hematome:null,brulure_degre:this.selectedElement?this.selectedElement.brulure_degre:null,dermabrasion:this.selectedElement?this.selectedElement.dermabrasion:null,plaie_autre:this.selectedElement?this.selectedElement.plaie_autre:null,soins_ide:this.selectedElement?this.selectedElement.soins_ide:null,soins_frequence:this.selectedElement?this.selectedElement.soins_frequence:null,soins_frequence_jours:this.selectedElement?this.selectedElement.soins_frequence_jours:null,pansement_primaire:this.selectedElement?this.selectedElement.pansement_primaire:null,pansement_primaire_deplace:this.selectedElement?this.selectedElement.pansement_primaire_deplace:null,pansement_primaire_tenue:this.selectedElement?this.selectedElement.pansement_primaire_tenue:null,pansement_primaire_tolerance:this.selectedElement?this.selectedElement.pansement_primaire_tolerance:null,pansement_secondaire:this.selectedElement?this.selectedElement.pansement_secondaire:null,pansement_secondaire_deplace:this.selectedElement?this.selectedElement.pansement_secondaire_deplace:null,pansement_secondaire_tenue:this.selectedElement?this.selectedElement.pansement_secondaire_tenue:null,pansement_secondaire_tolerance:this.selectedElement?this.selectedElement.pansement_secondaire_tolerance:null,protocole_detersion:this.selectedElement?this.selectedElement.protocole_detersion:null,protocole_anesth:this.selectedElement?this.selectedElement.protocole_anesth:null,protocole_compresse:this.selectedElement?this.selectedElement.protocole_compresse:null,protocole_bistouri:this.selectedElement?this.selectedElement.protocole_bistouri:null,protocole_curette:this.selectedElement?this.selectedElement.protocole_curette:null,protocole_douleur:this.selectedElement?this.selectedElement.protocole_douleur:null,protocole_douleur_eva:this.selectedElement?this.selectedElement.protocole_douleur_eva:null,protocole_prelevement:this.selectedElement?this.selectedElement.protocole_prelevement:null,protocole_ecouvillon:this.selectedElement?this.selectedElement.protocole_ecouvillon:null,protocole_curtage:this.selectedElement?this.selectedElement.protocole_curtage:null,protocole_biopsie:this.selectedElement?this.selectedElement.protocole_biopsie:null,protocole_pansement_primaire:this.selectedElement?this.selectedElement.protocole_pansement_primaire:null,protocole_pansement_secondaire:this.selectedElement?this.selectedElement.protocole_pansement_secondaire:null,protocole_peau_peri:this.selectedElement?this.selectedElement.protocole_peau_peri:null,protocole_contention:this.selectedElement?this.selectedElement.protocole_contention:null,protocole_contention_taille:this.selectedElement?this.selectedElement.protocole_contention_taille:null,protocole_contention_type:this.selectedElement?this.selectedElement.protocole_contention_type:null,protocole_antibiotherapie:this.selectedElement?this.selectedElement.protocole_antibiotherapie:null,protocole_antibiotherapie_dose:this.selectedElement?this.selectedElement.protocole_antibiotherapie_dose:null,protocole_antibiotherapie_duree:this.selectedElement?this.selectedElement.protocole_antibiotherapie_duree:null,protocole_bilan:this.selectedElement?this.selectedElement.protocole_bilan:null,protocole_radiographie:this.selectedElement?this.selectedElement.protocole_radiographie:null,protocole_doppler_veineux:this.selectedElement?this.selectedElement.protocole_doppler_veineux:null,protocole_doppler_arteriel:this.selectedElement?this.selectedElement.protocole_doppler_arteriel:null,protocole_consultation:this.selectedElement?this.selectedElement.protocole_consultation:null,protocole_photo:this.selectedElement?this.selectedElement.protocole_photo:null,protocole_planimetrie:this.selectedElement?this.selectedElement.protocole_planimetrie:null,observations:this.selectedElement?this.selectedElement.observations:null,zone:this.selectedElement?this.selectedElement.zone:null,phase:this.selectedElement?this.selectedElement.phase:null,step:this.selectedElement?this.selectedElement.step:null,stade:this.selectedElement?this.selectedElement.stade:null,tissus:this.selectedElement?this.selectedElement.tissus:null,inflammation:this.selectedElement?this.selectedElement.inflammation:null,humidity:this.selectedElement?this.selectedElement.humidity:null,berge_width:this.selectedElement?this.selectedElement.berge_width:null,berge_height:this.selectedElement?this.selectedElement.berge_height:null,wound_width:this.selectedElement?this.selectedElement.wound_width:null,wound_height:this.selectedElement?this.selectedElement.wound_height:null,wound_depth:this.selectedElement?this.selectedElement.wound_depth:null,colorations:[],images:[],existing_colorations:[],existing_images:[],remove_colorations:[],remove_images:[]},this.selectedElement&&(this.onPhaseChange(this.selectedElement.phase),this.data.existing_colorations=this.selectedElement.colors,this.data.existing_images=this.selectedElement.images)}onClose(){this.closingEvent.emit()}toggleStatus(){this.data.enabled=!this.data.enabled}onSubmit(){var t=this;return(0,ma.Z)(function*(){const n=Object.values(t.form.controls);for(let r of n)if(r.invalid)return;const o=nn.c.generateFormData(t.data);console.log(o),t.isLoading=!0,t.selectedElement?t.patientsService.update_ptsi(t.selectedElement.id,o).subscribe(r=>{t.onSuccess(r)},r=>{t.onError(r)}):t.patientsService.create_ptsi(o).subscribe(r=>{t.onSuccess(r)},r=>{t.onError(r)})})()}onSuccess(t){this.isLoading=!1,this.reloadEvent.emit(),this.modalService.dismissAll(),this._snackBar.open("Enregistr\xe9 avec succ\xe8s!","Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["success-snackbar"]})}onError(t){this.isLoading=!1;let n=t.error.data;for(let o in n)this._snackBar.open(n[o],"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["danger-snackbar"]})}getActiveStepName(){return this.steps[this.active_step].name}changeStep(t=!0){t&&this.active_step<this.steps.length-1?this.active_step++:!t&&this.active_step>0&&this.active_step--}addColoration(){this.data.colorations.push({id:nn.c.generateUniqueId(),color:null,percentage:null})}onSelectImage(t){console.log(t),this.data.images.push(...t.addedFiles)}onRemoveImage(t){console.log(t),this.data.images.splice(this.data.images.indexOf(t),1)}removeColoration(t){this.data.remove_colorations.push(this.data.existing_colorations[t].id),this.data.existing_colorations.splice(t,1)}removeExistingImage(t){this.data.remove_images.push(this.data.existing_images[t].id),this.data.existing_images.splice(t,1)}trackByFn(t,n){return n.id}onPhaseChange(t){this.data.phase=t,this.wound_steps=je.Iw[t]}toggleFieldCheckbox(t){this.data[t]=!this.data[t]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(On.$),e.Y36(Oa.FF),e.Y36(ga.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ptsi-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(Wp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.form=o.first)}},inputs:{selectedElement:"selectedElement",wound:"wound"},outputs:{closingEvent:"closingEvent",reloadEvent:"reloadEvent"},decls:741,vars:161,consts:[[3,"title","showSubmit","isLoading","closingEvent"],["f","ngForm"],[1,"row"],[1,"col-md-12","d-flex","justify-content-center","mb-2"],["class","step",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-md-12","d-flex"],[1,"col-md-12","conatiner-fluid"],[3,"ngClass"],[1,"row","ptsi-small-fields"],[1,"col-md-4"],[1,"form-group","d-flex","mb-0"],[1,"mr-2"],[1,"custom-toggle","mb-0"],["type","checkbox",3,"checked","click"],[1,"custom-toggle-slider","rounded-circle"],[1,"full-width"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["patho_date_picker",""],["tvp_date_picker",""],["matInput","","placeholder","contention","name","contention",3,"ngModel","ngModelChange"],["aomi_date_picker",""],["matInput","","placeholder","anticoagulant","name","anticoagulant",3,"ngModel","ngModelChange"],["matInput","","placeholder","dnid hbac","name","dnid_hbac",3,"ngModel","ngModelChange"],["dnid_date_picker",""],["bilan_sanguin_date_picker",""],["matInput","","placeholder","bilan sanguin dfg","name","bilan_sanguin_dfg",3,"ngModel","ngModelChange"],["matInput","","placeholder","bilan sanguin gb","name","bilan_sanguin_gb",3,"ngModel","ngModelChange"],["matInput","","placeholder","bilan sanguin albumine","name","bilan_sanguin_albumine",3,"ngModel","ngModelChange"],["matInput","","placeholder","bilan sanguin crp","name","bilan_sanguin_crp",3,"ngModel","ngModelChange"],["matInput","","placeholder","eva","name","douleur_eva",3,"ngModel","ngModelChange"],["name","antalgique_niveau",3,"ngModel","ngModelChange"],["value","niveau I"],["value","niveau II"],["value","niveau III"],["matInput","","placeholder","plaie siege","name","plaie_siege",3,"ngModel","ngModelChange"],["matInput","","placeholder","plaie anciennet\xe9","name","plaie_anciennete",3,"ngModel","ngModelChange"],["plaie_date_episode_picker",""],["matInput","","placeholder","escarr\xe9 stade","name","escarre_stade",3,"ngModel","ngModelChange"],["matInput","","placeholder","brulure degr\xe9","name","brulure_degre",3,"ngModel","ngModelChange"],["matInput","","placeholder","autre","name","plaie_autre",3,"ngModel","ngModelChange"],["matInput","","placeholder","soins fr\xe9quence","name","soins_frequence",3,"ngModel","ngModelChange"],["matInput","","placeholder","soins fr\xe9quence jours","name","soins_frequence_jours",3,"ngModel","ngModelChange"],["matInput","","placeholder","pansement primaire","name","pansement_primaire",3,"ngModel","ngModelChange"],["matInput","","placeholder","pansement primaire tenu","name","pansement_primaire_tenue",3,"ngModel","ngModelChange"],["matInput","","placeholder","pansement secondaire","name","pansement_secondaire",3,"ngModel","ngModelChange"],["matInput","","placeholder","pansement secondaire tenu","name","pansement_secondaire_tenue",3,"ngModel","ngModelChange"],[1,"col-md-6"],["name","zone","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrack"],["name","phase","required","",3,"ngModel","ngModelChange","valueChange"],["name","step","required","",3,"ngModel","ngModelChange"],["name","stade","required","",3,"ngModel","ngModelChange"],[1,"col-md-12","text-right","mb-2"],["type","button","mat-raised-button","","color","primary",3,"click"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],["name","tissus","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Inflammation & Infection","name","inflammation","required","",3,"ngModel","ngModelChange"],["name","humidity","required","",3,"ngModel","ngModelChange"],[1,"col-md-12"],["matInput","","placeholder","Largeur des berges en mm","name","berge_width","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Longueur des berges en mm","name","berge_height","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Largeur de plaie en mm","name","wound_width","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Longueur de plaie en mm","name","wound_height","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","Profondeur de plaie","name","wound_depth","required","",3,"ngModel","ngModelChange"],["matInput","","placeholder","douleur eva","name","protocole_douleur_eva",3,"ngModel","ngModelChange"],["matInput","","placeholder","pansement primaire","name","protocole_pansement_primaire",3,"ngModel","ngModelChange"],["matInput","","placeholder","pansement secondaire","name","protocole_pansement_secondaire",3,"ngModel","ngModelChange"],["matInput","","placeholder","peau peri","name","protocole_peau_peri",3,"ngModel","ngModelChange"],["name","protocole_contention_taille",3,"ngModel","ngModelChange"],["value","monotype along. long"],["value","monotype along. court"],["value","multi"],["matInput","","placeholder","type","name","protocole_contention_type",3,"ngModel","ngModelChange"],["matInput","","placeholder","antibiotherapie probabiliste","name","protocole_antibiotherapie",3,"ngModel","ngModelChange"],["matInput","","placeholder","dose","name","protocole_antibiotherapie_dose",3,"ngModel","ngModelChange"],["matInput","","placeholder","dur\xe9e","name","protocole_antibiotherapie_duree",3,"ngModel","ngModelChange"],["matInput","","placeholder","consultation(s) sp\xe9ciqlis\xe9e(s)","name","protocole_consultation",3,"ngModel","ngModelChange"],["matInput","","placeholder","observations","name","observations",3,"ngModel","ngModelChange"],[3,"accept","multiple","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],[1,"col-md-12","container-fluid","mt-2"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],[1,"col-md-6","text-right"],["type","button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],["type","button","mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"step",3,"ngClass"],[3,"value"],[1,"col-12","mt-2","text-right"],["type","button","mat-mini-fab","","color","warn","aria-label","Supprimer",3,"click"],["required","",3,"name","ngModel","ngModelChange"],[1,"col-md-5"],["matInput","","type","number","placeholder","Pourcentage","required","",3,"name","ngModel","ngModelChange"],[1,"col-md-1","d-flex","align-items-center"],[1,"color-square",3,"ngStyle"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],["style","margin-right: 10px;",3,"diameter",4,"ngIf"],[2,"margin-right","10px",3,"diameter"]],template:function(t,n){if(1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closingEvent",function(){return n.onClose()}),e.TgZ(1,"form",null,1)(3,"div",2)(4,"div",3),e.YNc(5,$p,2,5,"button",4),e.qZA(),e.TgZ(6,"div",5)(7,"h3"),e._uU(8),e.qZA()(),e.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"span",11),e._uU(15,"patho:"),e.qZA(),e.TgZ(16,"label",12)(17,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("patho")}),e.qZA(),e._UZ(18,"span",14),e.qZA()()(),e.TgZ(19,"div",9)(20,"div",10)(21,"span",11),e._uU(22,"doppler:"),e.qZA(),e.TgZ(23,"label",12)(24,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("patho_dopler")}),e.qZA(),e._UZ(25,"span",14),e.qZA()()(),e.TgZ(26,"div",9)(27,"mat-form-field",15)(28,"mat-label"),e._uU(29,"date"),e.qZA(),e.TgZ(30,"input",16),e.NdJ("ngModelChange",function(r){return n.data.patho_date=r}),e.qZA(),e.TgZ(31,"mat-hint"),e._uU(32,"MM/DD/YYYY"),e.qZA(),e._UZ(33,"mat-datepicker-toggle",17)(34,"mat-datepicker",null,18),e.qZA()(),e.TgZ(36,"div",9)(37,"div",10)(38,"span",11),e._uU(39,"oper\xe9e:"),e.qZA(),e.TgZ(40,"label",12)(41,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("patho_operee")}),e.qZA(),e._UZ(42,"span",14),e.qZA()()(),e.TgZ(43,"div",9)(44,"div",10)(45,"span",11),e._uU(46,"tvp:"),e.qZA(),e.TgZ(47,"label",12)(48,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("tvp")}),e.qZA(),e._UZ(49,"span",14),e.qZA()()(),e.TgZ(50,"div",9)(51,"mat-form-field",15)(52,"mat-label"),e._uU(53,"date"),e.qZA(),e.TgZ(54,"input",16),e.NdJ("ngModelChange",function(r){return n.data.tvp_date=r}),e.qZA(),e.TgZ(55,"mat-hint"),e._uU(56,"MM/DD/YYYY"),e.qZA(),e._UZ(57,"mat-datepicker-toggle",17)(58,"mat-datepicker",null,19),e.qZA()(),e.TgZ(60,"div",9)(61,"mat-form-field",15)(62,"mat-label"),e._uU(63,"contention"),e.qZA(),e.TgZ(64,"input",20),e.NdJ("ngModelChange",function(r){return n.data.contention=r}),e.qZA()()(),e.TgZ(65,"div",9)(66,"div",10)(67,"span",11),e._uU(68,"aomi:"),e.qZA(),e.TgZ(69,"label",12)(70,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("aomi")}),e.qZA(),e._UZ(71,"span",14),e.qZA()()(),e.TgZ(72,"div",9)(73,"div",10)(74,"span",11),e._uU(75,"doppler:"),e.qZA(),e.TgZ(76,"label",12)(77,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("aomi_doppler")}),e.qZA(),e._UZ(78,"span",14),e.qZA()()(),e.TgZ(79,"div",9)(80,"mat-form-field",15)(81,"mat-label"),e._uU(82,"date"),e.qZA(),e.TgZ(83,"input",16),e.NdJ("ngModelChange",function(r){return n.data.aomi_date=r}),e.qZA(),e.TgZ(84,"mat-hint"),e._uU(85,"MM/DD/YYYY"),e.qZA(),e._UZ(86,"mat-datepicker-toggle",17)(87,"mat-datepicker",null,21),e.qZA()(),e.TgZ(89,"div",9)(90,"div",10)(91,"span",11),e._uU(92,"cardiopathie:"),e.qZA(),e.TgZ(93,"label",12)(94,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("cardiopathie")}),e.qZA(),e._UZ(95,"span",14),e.qZA()()(),e.TgZ(96,"div",9)(97,"mat-form-field",15)(98,"mat-label"),e._uU(99,"anticoagulant"),e.qZA(),e.TgZ(100,"input",22),e.NdJ("ngModelChange",function(r){return n.data.anticoagulant=r}),e.qZA()()(),e.TgZ(101,"div",9)(102,"div",10)(103,"span",11),e._uU(104,"tabac:"),e.qZA(),e.TgZ(105,"label",12)(106,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("tabac")}),e.qZA(),e._UZ(107,"span",14),e.qZA()()(),e.TgZ(108,"div",9)(109,"div",10)(110,"span",11),e._uU(111,"h+cholesterolemie:"),e.qZA(),e.TgZ(112,"label",12)(113,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("cholesterolemie")}),e.qZA(),e._UZ(114,"span",14),e.qZA()()(),e.TgZ(115,"div",9)(116,"div",10)(117,"span",11),e._uU(118,"hta:"),e.qZA(),e.TgZ(119,"label",12)(120,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("hta")}),e.qZA(),e._UZ(121,"span",14),e.qZA()()(),e.TgZ(122,"div",9)(123,"div",10)(124,"span",11),e._uU(125,"did:"),e.qZA(),e.TgZ(126,"label",12)(127,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("did")}),e.qZA(),e._UZ(128,"span",14),e.qZA()()(),e.TgZ(129,"div",9)(130,"div",10)(131,"span",11),e._uU(132,"dnid:"),e.qZA(),e.TgZ(133,"label",12)(134,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("dnid")}),e.qZA(),e._UZ(135,"span",14),e.qZA()()(),e.TgZ(136,"div",9)(137,"mat-form-field",15)(138,"mat-label"),e._uU(139,"hbac"),e.qZA(),e.TgZ(140,"input",23),e.NdJ("ngModelChange",function(r){return n.data.dnid_hbac=r}),e.qZA()()(),e.TgZ(141,"div",9)(142,"mat-form-field",15)(143,"mat-label"),e._uU(144,"date"),e.qZA(),e.TgZ(145,"input",16),e.NdJ("ngModelChange",function(r){return n.data.dnid_date=r}),e.qZA(),e.TgZ(146,"mat-hint"),e._uU(147,"MM/DD/YYYY"),e.qZA(),e._UZ(148,"mat-datepicker-toggle",17)(149,"mat-datepicker",null,24),e.qZA()(),e.TgZ(151,"div",9)(152,"div",10)(153,"span",11),e._uU(154,"obesite:"),e.qZA(),e.TgZ(155,"label",12)(156,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("obesite")}),e.qZA(),e._UZ(157,"span",14),e.qZA()()(),e.TgZ(158,"div",9)(159,"div",10)(160,"span",11),e._uU(161,"denutrition:"),e.qZA(),e.TgZ(162,"label",12)(163,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("denutrition")}),e.qZA(),e._UZ(164,"span",14),e.qZA()()(),e.TgZ(165,"div",9)(166,"div",10)(167,"span",11),e._uU(168,"mobelite:"),e.qZA(),e.TgZ(169,"label",12)(170,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("mobelite")}),e.qZA(),e._UZ(171,"span",14),e.qZA()()(),e.TgZ(172,"div",9)(173,"div",10)(174,"span",11),e._uU(175,"allergie:"),e.qZA(),e.TgZ(176,"label",12)(177,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("allergie")}),e.qZA(),e._UZ(178,"span",14),e.qZA()()(),e.TgZ(179,"div",9)(180,"div",10)(181,"span",11),e._uU(182,"hygiene:"),e.qZA(),e.TgZ(183,"label",12)(184,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("hygiene")}),e.qZA(),e._UZ(185,"span",14),e.qZA()()(),e.TgZ(186,"div",9)(187,"div",10)(188,"span",11),e._uU(189,"ordonnance:"),e.qZA(),e.TgZ(190,"label",12)(191,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("ordonnance")}),e.qZA(),e._UZ(192,"span",14),e.qZA()()(),e.TgZ(193,"div",9)(194,"div",10)(195,"span",11),e._uU(196,"vat:"),e.qZA(),e.TgZ(197,"label",12)(198,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("vat")}),e.qZA(),e._UZ(199,"span",14),e.qZA()()(),e.TgZ(200,"div",9)(201,"div",10)(202,"span",11),e._uU(203,"bilan sanguin:"),e.qZA(),e.TgZ(204,"label",12)(205,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("bilan_sanguin")}),e.qZA(),e._UZ(206,"span",14),e.qZA()()(),e.TgZ(207,"div",9)(208,"mat-form-field",15)(209,"mat-label"),e._uU(210,"date"),e.qZA(),e.TgZ(211,"input",16),e.NdJ("ngModelChange",function(r){return n.data.bilan_sanguin_date=r}),e.qZA(),e.TgZ(212,"mat-hint"),e._uU(213,"MM/DD/YYYY"),e.qZA(),e._UZ(214,"mat-datepicker-toggle",17)(215,"mat-datepicker",null,25),e.qZA()(),e.TgZ(217,"div",9)(218,"mat-form-field",15)(219,"mat-label"),e._uU(220,"dfg"),e.qZA(),e.TgZ(221,"input",26),e.NdJ("ngModelChange",function(r){return n.data.bilan_sanguin_dfg=r}),e.qZA()()(),e.TgZ(222,"div",9)(223,"mat-form-field",15)(224,"mat-label"),e._uU(225,"gb"),e.qZA(),e.TgZ(226,"input",27),e.NdJ("ngModelChange",function(r){return n.data.bilan_sanguin_gb=r}),e.qZA()()(),e.TgZ(227,"div",9)(228,"mat-form-field",15)(229,"mat-label"),e._uU(230,"albumine"),e.qZA(),e.TgZ(231,"input",28),e.NdJ("ngModelChange",function(r){return n.data.bilan_sanguin_albumine=r}),e.qZA()()(),e.TgZ(232,"div",9)(233,"mat-form-field",15)(234,"mat-label"),e._uU(235,"crp"),e.qZA(),e.TgZ(236,"input",29),e.NdJ("ngModelChange",function(r){return n.data.bilan_sanguin_crp=r}),e.qZA()()(),e.TgZ(237,"div",9)(238,"div",10)(239,"span",11),e._uU(240,"douleur:"),e.qZA(),e.TgZ(241,"label",12)(242,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("douleur")}),e.qZA(),e._UZ(243,"span",14),e.qZA()()(),e.TgZ(244,"div",9)(245,"mat-form-field",15)(246,"mat-label"),e._uU(247,"eva"),e.qZA(),e.TgZ(248,"input",30),e.NdJ("ngModelChange",function(r){return n.data.douleur_eva=r}),e.qZA()()(),e.TgZ(249,"div",9)(250,"div",10)(251,"span",11),e._uU(252,"spontan\xe9e:"),e.qZA(),e.TgZ(253,"label",12)(254,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("douleur_spontanee")}),e.qZA(),e._UZ(255,"span",14),e.qZA()()(),e.TgZ(256,"div",9)(257,"div",10)(258,"span",11),e._uU(259,"provoqu\xe9e:"),e.qZA(),e.TgZ(260,"label",12)(261,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("douleur_provoquee")}),e.qZA(),e._UZ(262,"span",14),e.qZA()()(),e.TgZ(263,"div",9)(264,"div",10)(265,"span",11),e._uU(266,"intermittente:"),e.qZA(),e.TgZ(267,"label",12)(268,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("douleur_intermittente")}),e.qZA(),e._UZ(269,"span",14),e.qZA()()(),e.TgZ(270,"div",9)(271,"div",10)(272,"span",11),e._uU(273,"continue:"),e.qZA(),e.TgZ(274,"label",12)(275,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("douleur_continue")}),e.qZA(),e._UZ(276,"span",14),e.qZA()()(),e.TgZ(277,"div",9)(278,"div",10)(279,"span",11),e._uU(280,"antalgique:"),e.qZA(),e.TgZ(281,"label",12)(282,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("antalgique")}),e.qZA(),e._UZ(283,"span",14),e.qZA()()(),e.TgZ(284,"div",9)(285,"mat-form-field",15)(286,"mat-label"),e._uU(287,"niveau"),e.qZA(),e.TgZ(288,"mat-select",31),e.NdJ("ngModelChange",function(r){return n.data.antalgique_niveau=r}),e.TgZ(289,"mat-option",32),e._uU(290,"niveau I"),e.qZA(),e.TgZ(291,"mat-option",33),e._uU(292,"niveau II"),e.qZA(),e.TgZ(293,"mat-option",34),e._uU(294,"niveau III"),e.qZA()()()(),e.TgZ(295,"div",9)(296,"mat-form-field",15)(297,"mat-label"),e._uU(298,"plaie siege"),e.qZA(),e.TgZ(299,"input",35),e.NdJ("ngModelChange",function(r){return n.data.plaie_siege=r}),e.qZA()()(),e.TgZ(300,"div",9)(301,"mat-form-field",15)(302,"mat-label"),e._uU(303,"anciennet\xe9"),e.qZA(),e.TgZ(304,"input",36),e.NdJ("ngModelChange",function(r){return n.data.plaie_anciennete=r}),e.qZA()()(),e.TgZ(305,"div",9)(306,"mat-form-field",15)(307,"mat-label"),e._uU(308,"r\xe9cidive: date du dernier \xe9pisode"),e.qZA(),e.TgZ(309,"input",16),e.NdJ("ngModelChange",function(r){return n.data.plaie_date_episode=r}),e.qZA(),e.TgZ(310,"mat-hint"),e._uU(311,"MM/DD/YYYY"),e.qZA(),e._UZ(312,"mat-datepicker-toggle",17)(313,"mat-datepicker",null,37),e.qZA()(),e.TgZ(315,"div",9)(316,"div",10)(317,"span",11),e._uU(318,"spontan\xe9e:"),e.qZA(),e.TgZ(319,"label",12)(320,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("spontanee")}),e.qZA(),e._UZ(321,"span",14),e.qZA()()(),e.TgZ(322,"div",9)(323,"div",10)(324,"span",11),e._uU(325,"traumatisme:"),e.qZA(),e.TgZ(326,"label",12)(327,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("traumatisme")}),e.qZA(),e._UZ(328,"span",14),e.qZA()()(),e.TgZ(329,"div",9)(330,"div",10)(331,"span",11),e._uU(332,"post op\xe9ratoire:"),e.qZA(),e.TgZ(333,"label",12)(334,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("post_operatoire")}),e.qZA(),e._UZ(335,"span",14),e.qZA()()(),e.TgZ(336,"div",9)(337,"div",10)(338,"span",11),e._uU(339,"ulc\xe8re:"),e.qZA(),e.TgZ(340,"label",12)(341,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("ulcere")}),e.qZA(),e._UZ(342,"span",14),e.qZA()()(),e.TgZ(343,"div",9)(344,"div",10)(345,"span",11),e._uU(346,"veineux:"),e.qZA(),e.TgZ(347,"label",12)(348,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("veineux")}),e.qZA(),e._UZ(349,"span",14),e.qZA()()(),e.TgZ(350,"div",9)(351,"div",10)(352,"span",11),e._uU(353,"art\xe9riel:"),e.qZA(),e.TgZ(354,"label",12)(355,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("arteriel")}),e.qZA(),e._UZ(356,"span",14),e.qZA()()(),e.TgZ(357,"div",9)(358,"div",10)(359,"span",11),e._uU(360,"mixte:"),e.qZA(),e.TgZ(361,"label",12)(362,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("mixte")}),e.qZA(),e._UZ(363,"span",14),e.qZA()()(),e.TgZ(364,"div",9)(365,"div",10)(366,"span",11),e._uU(367,"mal perf:"),e.qZA(),e.TgZ(368,"label",12)(369,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("mal_perf")}),e.qZA(),e._UZ(370,"span",14),e.qZA()()(),e.TgZ(371,"div",9)(372,"mat-form-field",15)(373,"mat-label"),e._uU(374,"escarr\xe9 stade"),e.qZA(),e.TgZ(375,"input",38),e.NdJ("ngModelChange",function(r){return n.data.escarre_stade=r}),e.qZA()()(),e.TgZ(376,"div",9)(377,"div",10)(378,"span",11),e._uU(379,"h\xe9matome:"),e.qZA(),e.TgZ(380,"label",12)(381,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("hematome")}),e.qZA(),e._UZ(382,"span",14),e.qZA()()(),e.TgZ(383,"div",9)(384,"mat-form-field",15)(385,"mat-label"),e._uU(386,"brulure degr\xe9"),e.qZA(),e.TgZ(387,"input",39),e.NdJ("ngModelChange",function(r){return n.data.brulure_degre=r}),e.qZA()()(),e.TgZ(388,"div",9)(389,"div",10)(390,"span",11),e._uU(391,"dermabrasion:"),e.qZA(),e.TgZ(392,"label",12)(393,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("dermabrasion")}),e.qZA(),e._UZ(394,"span",14),e.qZA()()(),e.TgZ(395,"div",9)(396,"mat-form-field",15)(397,"mat-label"),e._uU(398,"autre"),e.qZA(),e.TgZ(399,"input",40),e.NdJ("ngModelChange",function(r){return n.data.plaie_autre=r}),e.qZA()()(),e.TgZ(400,"div",9)(401,"div",10)(402,"span",11),e._uU(403,"soins r\xe9alis\xe9s par IDE:"),e.qZA(),e.TgZ(404,"label",12)(405,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("soins_ide")}),e.qZA(),e._UZ(406,"span",14),e.qZA()()(),e.TgZ(407,"div",9)(408,"mat-form-field",15)(409,"mat-label"),e._uU(410,"fr\xe9quence"),e.qZA(),e.TgZ(411,"input",41),e.NdJ("ngModelChange",function(r){return n.data.soins_frequence=r}),e.qZA()()(),e.TgZ(412,"div",9)(413,"mat-form-field",15)(414,"mat-label"),e._uU(415,"par jours"),e.qZA(),e.TgZ(416,"input",42),e.NdJ("ngModelChange",function(r){return n.data.soins_frequence_jours=r}),e.qZA()()(),e.TgZ(417,"div",9)(418,"mat-form-field",15)(419,"mat-label"),e._uU(420,"pansement primaire"),e.qZA(),e.TgZ(421,"input",43),e.NdJ("ngModelChange",function(r){return n.data.pansement_primaire=r}),e.qZA()()(),e.TgZ(422,"div",9)(423,"div",10)(424,"span",11),e._uU(425,"pansement primaire d\xe9plac\xe9:"),e.qZA(),e.TgZ(426,"label",12)(427,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("pansement_primaire_deplace")}),e.qZA(),e._UZ(428,"span",14),e.qZA()()(),e.TgZ(429,"div",9)(430,"mat-form-field",15)(431,"mat-label"),e._uU(432,"pansement primaire tenu"),e.qZA(),e.TgZ(433,"input",44),e.NdJ("ngModelChange",function(r){return n.data.pansement_primaire_tenue=r}),e.qZA()()(),e.TgZ(434,"div",9)(435,"div",10)(436,"span",11),e._uU(437,"pansement primaire tol\xe9rance:"),e.qZA(),e.TgZ(438,"label",12)(439,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("pansement_primaire_tolerance")}),e.qZA(),e._UZ(440,"span",14),e.qZA()()(),e.TgZ(441,"div",9)(442,"mat-form-field",15)(443,"mat-label"),e._uU(444,"pansement secondaire"),e.qZA(),e.TgZ(445,"input",45),e.NdJ("ngModelChange",function(r){return n.data.pansement_secondaire=r}),e.qZA()()(),e.TgZ(446,"div",9)(447,"div",10)(448,"span",11),e._uU(449,"pansement secondaire d\xe9plac\xe9:"),e.qZA(),e.TgZ(450,"label",12)(451,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("pansement_secondaire_deplace")}),e.qZA(),e._UZ(452,"span",14),e.qZA()()(),e.TgZ(453,"div",9)(454,"mat-form-field",15)(455,"mat-label"),e._uU(456,"pansement secondaire tenu"),e.qZA(),e.TgZ(457,"input",46),e.NdJ("ngModelChange",function(r){return n.data.pansement_secondaire_tenue=r}),e.qZA()()(),e.TgZ(458,"div",9)(459,"div",10)(460,"span",11),e._uU(461,"pansement secondaire tol\xe9rance:"),e.qZA(),e.TgZ(462,"label",12)(463,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("pansement_secondaire_tolerance")}),e.qZA(),e._UZ(464,"span",14),e.qZA()()()()(),e.TgZ(465,"div",7)(466,"div",2)(467,"div",47)(468,"mat-form-field",15)(469,"mat-label"),e._uU(470,"Zone"),e.qZA(),e.TgZ(471,"mat-select",48),e.NdJ("ngModelChange",function(r){return n.data.zone=r}),e.YNc(472,Xp,2,2,"mat-option",49),e.qZA()()(),e.TgZ(473,"div",47)(474,"mat-form-field",15)(475,"mat-label"),e._uU(476,"Phase"),e.qZA(),e.TgZ(477,"mat-select",50),e.NdJ("ngModelChange",function(r){return n.data.phase=r})("valueChange",function(r){return n.onPhaseChange(r)}),e.YNc(478,eh,2,2,"mat-option",49),e.qZA()()(),e.TgZ(479,"div",47)(480,"mat-form-field",15)(481,"mat-label"),e._uU(482,"Etapes"),e.qZA(),e.TgZ(483,"mat-select",51),e.NdJ("ngModelChange",function(r){return n.data.step=r}),e.YNc(484,th,2,2,"mat-option",49),e.qZA()()(),e.TgZ(485,"div",47)(486,"mat-form-field",15)(487,"mat-label"),e._uU(488,"Stade"),e.qZA(),e.TgZ(489,"mat-select",52),e.NdJ("ngModelChange",function(r){return n.data.stade=r}),e.YNc(490,nh,2,2,"mat-option",49),e.qZA()()()(),e.TgZ(491,"div",2)(492,"div",53)(493,"button",54),e.NdJ("click",function(){return n.addColoration()}),e._uU(494," Ajouter coloration "),e.qZA()()(),e.YNc(495,ah,18,9,"div",55),e.YNc(496,rh,18,9,"div",55),e.qZA(),e.TgZ(497,"div",7)(498,"div",2)(499,"div",47)(500,"mat-form-field",15)(501,"mat-label"),e._uU(502,"Tissus"),e.qZA(),e.TgZ(503,"mat-select",56),e.NdJ("ngModelChange",function(r){return n.data.tissus=r}),e.YNc(504,sh,2,2,"mat-option",49),e.qZA()()(),e.TgZ(505,"div",47)(506,"mat-form-field",15)(507,"mat-label"),e._uU(508,"Inflammation & Infection"),e.qZA(),e.TgZ(509,"input",57),e.NdJ("ngModelChange",function(r){return n.data.inflammation=r}),e.qZA()()(),e.TgZ(510,"div",47)(511,"mat-form-field",15)(512,"mat-label"),e._uU(513,"Maintien d'humidit\xe9"),e.qZA(),e.TgZ(514,"mat-select",58),e.NdJ("ngModelChange",function(r){return n.data.humidity=r}),e.YNc(515,lh,2,2,"mat-option",49),e.qZA()()(),e.TgZ(516,"div",59)(517,"h6"),e._uU(518,"Epidermisation"),e.qZA(),e._UZ(519,"hr"),e.qZA(),e.TgZ(520,"div",47)(521,"mat-form-field",15)(522,"mat-label"),e._uU(523,"Largeur des berges en mm"),e.qZA(),e.TgZ(524,"input",60),e.NdJ("ngModelChange",function(r){return n.data.berge_width=r}),e.qZA()()(),e.TgZ(525,"div",47)(526,"mat-form-field",15)(527,"mat-label"),e._uU(528,"Longueur des berges en mm"),e.qZA(),e.TgZ(529,"input",61),e.NdJ("ngModelChange",function(r){return n.data.berge_height=r}),e.qZA()()(),e.TgZ(530,"div",47)(531,"mat-form-field",15)(532,"mat-label"),e._uU(533,"Largeur de plaie en mm"),e.qZA(),e.TgZ(534,"input",62),e.NdJ("ngModelChange",function(r){return n.data.wound_width=r}),e.qZA()()(),e.TgZ(535,"div",47)(536,"mat-form-field",15)(537,"mat-label"),e._uU(538,"Longueur de plaie en mm"),e.qZA(),e.TgZ(539,"input",63),e.NdJ("ngModelChange",function(r){return n.data.wound_height=r}),e.qZA()()(),e.TgZ(540,"div",47)(541,"mat-form-field",15)(542,"mat-label"),e._uU(543,"Profondeur de plaie"),e.qZA(),e.TgZ(544,"input",64),e.NdJ("ngModelChange",function(r){return n.data.wound_depth=r}),e.qZA()()()()(),e.TgZ(545,"div",7)(546,"div",8)(547,"div",9)(548,"div",10)(549,"span",11),e._uU(550,"d\xe9tersion m\xe9canique:"),e.qZA(),e.TgZ(551,"label",12)(552,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_detersion")}),e.qZA(),e._UZ(553,"span",14),e.qZA()()(),e.TgZ(554,"div",9)(555,"div",10)(556,"span",11),e._uU(557,"anesth locale:"),e.qZA(),e.TgZ(558,"label",12)(559,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_anesth")}),e.qZA(),e._UZ(560,"span",14),e.qZA()()(),e.TgZ(561,"div",9)(562,"div",10)(563,"span",11),e._uU(564,"compresse:"),e.qZA(),e.TgZ(565,"label",12)(566,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_compresse")}),e.qZA(),e._UZ(567,"span",14),e.qZA()()(),e.TgZ(568,"div",9)(569,"div",10)(570,"span",11),e._uU(571,"bistouri:"),e.qZA(),e.TgZ(572,"label",12)(573,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_bistouri")}),e.qZA(),e._UZ(574,"span",14),e.qZA()()(),e.TgZ(575,"div",9)(576,"div",10)(577,"span",11),e._uU(578,"curette:"),e.qZA(),e.TgZ(579,"label",12)(580,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_curette")}),e.qZA(),e._UZ(581,"span",14),e.qZA()()(),e.TgZ(582,"div",9)(583,"div",10)(584,"span",11),e._uU(585,"douleur:"),e.qZA(),e.TgZ(586,"label",12)(587,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_douleur")}),e.qZA(),e._UZ(588,"span",14),e.qZA()()(),e.TgZ(589,"div",9)(590,"mat-form-field",15)(591,"mat-label"),e._uU(592,"douleur eva"),e.qZA(),e.TgZ(593,"input",65),e.NdJ("ngModelChange",function(r){return n.data.protocole_douleur_eva=r}),e.qZA()()(),e.TgZ(594,"div",9)(595,"div",10)(596,"span",11),e._uU(597,"pr\xe9l\xe8vement bact\xe9rio:"),e.qZA(),e.TgZ(598,"label",12)(599,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_prelevement")}),e.qZA(),e._UZ(600,"span",14),e.qZA()()(),e.TgZ(601,"div",9)(602,"div",10)(603,"span",11),e._uU(604,"\xe9couvillon:"),e.qZA(),e.TgZ(605,"label",12)(606,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_ecouvillon")}),e.qZA(),e._UZ(607,"span",14),e.qZA()()(),e.TgZ(608,"div",9)(609,"div",10)(610,"span",11),e._uU(611,"curtage-\xe9couvillonnage:"),e.qZA(),e.TgZ(612,"label",12)(613,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_curtage")}),e.qZA(),e._UZ(614,"span",14),e.qZA()()(),e.TgZ(615,"div",9)(616,"div",10)(617,"span",11),e._uU(618,"biopsie:"),e.qZA(),e.TgZ(619,"label",12)(620,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_biopsie")}),e.qZA(),e._UZ(621,"span",14),e.qZA()()(),e.TgZ(622,"div",9)(623,"mat-form-field",15)(624,"mat-label"),e._uU(625,"pansement primaire"),e.qZA(),e.TgZ(626,"input",66),e.NdJ("ngModelChange",function(r){return n.data.protocole_pansement_primaire=r}),e.qZA()()(),e.TgZ(627,"div",9)(628,"mat-form-field",15)(629,"mat-label"),e._uU(630,"pansement secondaire"),e.qZA(),e.TgZ(631,"input",67),e.NdJ("ngModelChange",function(r){return n.data.protocole_pansement_secondaire=r}),e.qZA()()(),e.TgZ(632,"div",9)(633,"mat-form-field",15)(634,"mat-label"),e._uU(635,"peau peri ulc\xe9reuse"),e.qZA(),e.TgZ(636,"input",68),e.NdJ("ngModelChange",function(r){return n.data.protocole_peau_peri=r}),e.qZA()()(),e.TgZ(637,"div",9)(638,"div",10)(639,"span",11),e._uU(640,"contention:"),e.qZA(),e.TgZ(641,"label",12)(642,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_contention")}),e.qZA(),e._UZ(643,"span",14),e.qZA()()(),e.TgZ(644,"div",9)(645,"mat-form-field",15)(646,"mat-label"),e._uU(647,"taille"),e.qZA(),e.TgZ(648,"mat-select",69),e.NdJ("ngModelChange",function(r){return n.data.protocole_contention_taille=r}),e.TgZ(649,"mat-option",70),e._uU(650,"monotype along. long"),e.qZA(),e.TgZ(651,"mat-option",71),e._uU(652,"monotype along. court"),e.qZA(),e.TgZ(653,"mat-option",72),e._uU(654,"multi"),e.qZA()()()(),e.TgZ(655,"div",9)(656,"mat-form-field",15)(657,"mat-label"),e._uU(658,"type"),e.qZA(),e.TgZ(659,"input",73),e.NdJ("ngModelChange",function(r){return n.data.protocole_contention_type=r}),e.qZA()()(),e.TgZ(660,"div",9)(661,"mat-form-field",15)(662,"mat-label"),e._uU(663,"antibiotherapie probabiliste"),e.qZA(),e.TgZ(664,"input",74),e.NdJ("ngModelChange",function(r){return n.data.protocole_antibiotherapie=r}),e.qZA()()(),e.TgZ(665,"div",9)(666,"mat-form-field",15)(667,"mat-label"),e._uU(668,"dose"),e.qZA(),e.TgZ(669,"input",75),e.NdJ("ngModelChange",function(r){return n.data.protocole_antibiotherapie_dose=r}),e.qZA()()(),e.TgZ(670,"div",9)(671,"mat-form-field",15)(672,"mat-label"),e._uU(673,"dur\xe9e"),e.qZA(),e.TgZ(674,"input",76),e.NdJ("ngModelChange",function(r){return n.data.protocole_antibiotherapie_duree=r}),e.qZA()()(),e.TgZ(675,"div",9)(676,"div",10)(677,"span",11),e._uU(678,"bilan sanguin:"),e.qZA(),e.TgZ(679,"label",12)(680,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_bilan")}),e.qZA(),e._UZ(681,"span",14),e.qZA()()(),e.TgZ(682,"div",9)(683,"div",10)(684,"span",11),e._uU(685,"radiographie:"),e.qZA(),e.TgZ(686,"label",12)(687,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_radiographie")}),e.qZA(),e._UZ(688,"span",14),e.qZA()()(),e.TgZ(689,"div",9)(690,"div",10)(691,"span",11),e._uU(692,"doppler veineux:"),e.qZA(),e.TgZ(693,"label",12)(694,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_doppler_veineux")}),e.qZA(),e._UZ(695,"span",14),e.qZA()()(),e.TgZ(696,"div",9)(697,"div",10)(698,"span",11),e._uU(699,"doppler arteriel:"),e.qZA(),e.TgZ(700,"label",12)(701,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_doppler_arteriel")}),e.qZA(),e._UZ(702,"span",14),e.qZA()()(),e.TgZ(703,"div",9)(704,"mat-form-field",15)(705,"mat-label"),e._uU(706,"consultation(s) sp\xe9ciqlis\xe9e(s)"),e.qZA(),e.TgZ(707,"input",77),e.NdJ("ngModelChange",function(r){return n.data.protocole_consultation=r}),e.qZA()()(),e.TgZ(708,"div",9)(709,"div",10)(710,"span",11),e._uU(711,"photo:"),e.qZA(),e.TgZ(712,"label",12)(713,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_photo")}),e.qZA(),e._UZ(714,"span",14),e.qZA()()(),e.TgZ(715,"div",9)(716,"div",10)(717,"span",11),e._uU(718,"planimetrie:"),e.qZA(),e.TgZ(719,"label",12)(720,"input",13),e.NdJ("click",function(){return n.toggleFieldCheckbox("protocole_planimetrie")}),e.qZA(),e._UZ(721,"span",14),e.qZA()()(),e.TgZ(722,"div",59)(723,"mat-form-field",15)(724,"mat-label"),e._uU(725,"observations/atcd"),e.qZA(),e.TgZ(726,"textarea",78),e.NdJ("ngModelChange",function(r){return n.data.observations=r}),e.qZA()()()()(),e.TgZ(727,"div",7)(728,"div",59)(729,"ngx-dropzone",79),e.NdJ("change",function(r){return n.onSelectImage(r)}),e.YNc(730,ch,1,2,"ngx-dropzone-image-preview",80),e.TgZ(731,"ngx-dropzone-label"),e._uU(732,"Glissez et d\xe9posez vos images ici!"),e.qZA()()()()(),e.TgZ(733,"div",81)(734,"div",2)(735,"div",47)(736,"button",82),e.NdJ("click",function(){return n.changeStep(!1)}),e._uU(737," Precedent "),e.qZA()(),e.TgZ(738,"div",83),e.YNc(739,uh,2,0,"button",84),e.YNc(740,ph,3,2,"button",85),e.qZA()()()()()()),2&t){const o=e.MAs(35),r=e.MAs(59),c=e.MAs(88),d=e.MAs(150),h=e.MAs(216),g=e.MAs(314);e.Q6J("title",n.title)("showSubmit",!1)("isLoading",n.isLoading),e.xp6(5),e.Q6J("ngForOf",n.steps),e.xp6(3),e.Oqu(n.getActiveStepName()),e.xp6(2),e.Q6J("ngClass",e.VKq(151,Eo,0!==n.active_step)),e.xp6(7),e.Q6J("checked",n.data.patho),e.xp6(7),e.Q6J("checked",n.data.patho_dopler),e.xp6(6),e.Q6J("matDatepicker",o)("ngModel",n.data.patho_date),e.xp6(3),e.Q6J("for",o),e.xp6(8),e.Q6J("checked",n.data.patho_operee),e.xp6(7),e.Q6J("checked",n.data.tvp),e.xp6(6),e.Q6J("matDatepicker",r)("ngModel",n.data.tvp_date),e.xp6(3),e.Q6J("for",r),e.xp6(7),e.Q6J("ngModel",n.data.contention),e.xp6(6),e.Q6J("checked",n.data.aomi),e.xp6(7),e.Q6J("checked",n.data.aomi_doppler),e.xp6(6),e.Q6J("matDatepicker",c)("ngModel",n.data.aomi_date),e.xp6(3),e.Q6J("for",c),e.xp6(8),e.Q6J("checked",n.data.cardiopathie),e.xp6(6),e.Q6J("ngModel",n.data.anticoagulant),e.xp6(6),e.Q6J("checked",n.data.tabac),e.xp6(7),e.Q6J("checked",n.data.cholesterolemie),e.xp6(7),e.Q6J("checked",n.data.hta),e.xp6(7),e.Q6J("checked",n.data.did),e.xp6(7),e.Q6J("checked",n.data.dnid),e.xp6(6),e.Q6J("ngModel",n.data.dnid_hbac),e.xp6(5),e.Q6J("matDatepicker",d)("ngModel",n.data.dnid_date),e.xp6(3),e.Q6J("for",d),e.xp6(8),e.Q6J("checked",n.data.obesite),e.xp6(7),e.Q6J("checked",n.data.denutrition),e.xp6(7),e.Q6J("checked",n.data.mobelite),e.xp6(7),e.Q6J("checked",n.data.allergie),e.xp6(7),e.Q6J("checked",n.data.hygiene),e.xp6(7),e.Q6J("checked",n.data.ordonnance),e.xp6(7),e.Q6J("checked",n.data.vat),e.xp6(7),e.Q6J("checked",n.data.bilan_sanguin),e.xp6(6),e.Q6J("matDatepicker",h)("ngModel",n.data.bilan_sanguin_date),e.xp6(3),e.Q6J("for",h),e.xp6(7),e.Q6J("ngModel",n.data.bilan_sanguin_dfg),e.xp6(5),e.Q6J("ngModel",n.data.bilan_sanguin_gb),e.xp6(5),e.Q6J("ngModel",n.data.bilan_sanguin_albumine),e.xp6(5),e.Q6J("ngModel",n.data.bilan_sanguin_crp),e.xp6(6),e.Q6J("checked",n.data.douleur),e.xp6(6),e.Q6J("ngModel",n.data.douleur_eva),e.xp6(6),e.Q6J("checked",n.data.douleur_spontanee),e.xp6(7),e.Q6J("checked",n.data.douleur_provoquee),e.xp6(7),e.Q6J("checked",n.data.douleur_intermittente),e.xp6(7),e.Q6J("checked",n.data.douleur_continue),e.xp6(7),e.Q6J("checked",n.data.antalgique),e.xp6(6),e.Q6J("ngModel",n.data.antalgique_niveau),e.xp6(11),e.Q6J("ngModel",n.data.plaie_siege),e.xp6(5),e.Q6J("ngModel",n.data.plaie_anciennete),e.xp6(5),e.Q6J("matDatepicker",g)("ngModel",n.data.plaie_date_episode),e.xp6(3),e.Q6J("for",g),e.xp6(8),e.Q6J("checked",n.data.spontanee),e.xp6(7),e.Q6J("checked",n.data.traumatisme),e.xp6(7),e.Q6J("checked",n.data.post_operatoire),e.xp6(7),e.Q6J("checked",n.data.ulcere),e.xp6(7),e.Q6J("checked",n.data.veineux),e.xp6(7),e.Q6J("checked",n.data.arteriel),e.xp6(7),e.Q6J("checked",n.data.mixte),e.xp6(7),e.Q6J("checked",n.data.mal_perf),e.xp6(6),e.Q6J("ngModel",n.data.escarre_stade),e.xp6(6),e.Q6J("checked",n.data.hematome),e.xp6(6),e.Q6J("ngModel",n.data.brulure_degre),e.xp6(6),e.Q6J("checked",n.data.dermabrasion),e.xp6(6),e.Q6J("ngModel",n.data.plaie_autre),e.xp6(6),e.Q6J("checked",n.data.soins_ide),e.xp6(6),e.Q6J("ngModel",n.data.soins_frequence),e.xp6(5),e.Q6J("ngModel",n.data.soins_frequence_jours),e.xp6(5),e.Q6J("ngModel",n.data.pansement_primaire),e.xp6(6),e.Q6J("checked",n.data.pansement_primaire_deplace),e.xp6(6),e.Q6J("ngModel",n.data.pansement_primaire_tenue),e.xp6(6),e.Q6J("checked",n.data.pansement_primaire_tolerance),e.xp6(6),e.Q6J("ngModel",n.data.pansement_secondaire),e.xp6(6),e.Q6J("checked",n.data.pansement_secondaire_deplace),e.xp6(6),e.Q6J("ngModel",n.data.pansement_secondaire_tenue),e.xp6(6),e.Q6J("checked",n.data.pansement_secondaire_tolerance),e.xp6(2),e.Q6J("ngClass",e.VKq(153,Eo,1!==n.active_step)),e.xp6(6),e.Q6J("ngModel",n.data.zone),e.xp6(1),e.Q6J("ngForOf",n.wounds_zones)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.phase),e.xp6(1),e.Q6J("ngForOf",n.wound_phases)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.step),e.xp6(1),e.Q6J("ngForOf",n.wound_steps)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.stade),e.xp6(1),e.Q6J("ngForOf",n.wound_stades)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngForOf",n.data.existing_colorations)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("ngForOf",n.data.colorations)("ngForTrackBy",n.trackByFn),e.xp6(1),e.Q6J("ngClass",e.VKq(155,Eo,2!==n.active_step)),e.xp6(6),e.Q6J("ngModel",n.data.tissus),e.xp6(1),e.Q6J("ngForOf",n.wound_tissus)("ngForTrack",n.option),e.xp6(5),e.Q6J("ngModel",n.data.inflammation),e.xp6(5),e.Q6J("ngModel",n.data.humidity),e.xp6(1),e.Q6J("ngForOf",n.wound_humidity)("ngForTrack",n.option),e.xp6(9),e.Q6J("ngModel",n.data.berge_width),e.xp6(5),e.Q6J("ngModel",n.data.berge_height),e.xp6(5),e.Q6J("ngModel",n.data.wound_width),e.xp6(5),e.Q6J("ngModel",n.data.wound_height),e.xp6(5),e.Q6J("ngModel",n.data.wound_depth),e.xp6(1),e.Q6J("ngClass",e.VKq(157,Eo,3!==n.active_step)),e.xp6(7),e.Q6J("checked",n.data.protocole_detersion),e.xp6(7),e.Q6J("checked",n.data.protocole_anesth),e.xp6(7),e.Q6J("checked",n.data.protocole_compresse),e.xp6(7),e.Q6J("checked",n.data.protocole_bistouri),e.xp6(7),e.Q6J("checked",n.data.protocole_curette),e.xp6(7),e.Q6J("checked",n.data.protocole_douleur),e.xp6(6),e.Q6J("ngModel",n.data.protocole_douleur_eva),e.xp6(6),e.Q6J("checked",n.data.protocole_prelevement),e.xp6(7),e.Q6J("checked",n.data.protocole_ecouvillon),e.xp6(7),e.Q6J("checked",n.data.protocole_curtage),e.xp6(7),e.Q6J("checked",n.data.protocole_biopsie),e.xp6(6),e.Q6J("ngModel",n.data.protocole_pansement_primaire),e.xp6(5),e.Q6J("ngModel",n.data.protocole_pansement_secondaire),e.xp6(5),e.Q6J("ngModel",n.data.protocole_peau_peri),e.xp6(6),e.Q6J("checked",n.data.protocole_contention),e.xp6(6),e.Q6J("ngModel",n.data.protocole_contention_taille),e.xp6(11),e.Q6J("ngModel",n.data.protocole_contention_type),e.xp6(5),e.Q6J("ngModel",n.data.protocole_antibiotherapie),e.xp6(5),e.Q6J("ngModel",n.data.protocole_antibiotherapie_dose),e.xp6(5),e.Q6J("ngModel",n.data.protocole_antibiotherapie_duree),e.xp6(6),e.Q6J("checked",n.data.protocole_bilan),e.xp6(7),e.Q6J("checked",n.data.protocole_radiographie),e.xp6(7),e.Q6J("checked",n.data.protocole_doppler_veineux),e.xp6(7),e.Q6J("checked",n.data.protocole_doppler_arteriel),e.xp6(6),e.Q6J("ngModel",n.data.protocole_consultation),e.xp6(6),e.Q6J("checked",n.data.protocole_photo),e.xp6(7),e.Q6J("checked",n.data.protocole_planimetrie),e.xp6(6),e.Q6J("ngModel",n.data.observations),e.xp6(1),e.Q6J("ngClass",e.VKq(159,Eo,4!==n.active_step)),e.xp6(2),e.Q6J("accept","image/*")("multiple",!0),e.xp6(1),e.Q6J("ngForOf",n.data.images),e.xp6(6),e.Q6J("disabled",n.active_step<=0),e.xp6(3),e.Q6J("ngIf",n.active_step<n.steps.length-1),e.xp6(1),e.Q6J("ngIf",n.active_step>=n.steps.length-1)}},dependencies:[U.mk,U.sg,U.O5,U.PC,_a.u,We._Y,We.Fj,We.wV,We.JJ,We.JL,We.Q7,We.On,We.F,Lt.KE,Lt.bx,Lt.hX,Lt.R9,Ot.Ou,va.Nt,He.lW,tn.Hw,ba.gD,sn.ey,an.Mq,an.hl,an.nW,vn._f,vn.NP,vn.sv],styles:[".hidden_step[_ngcontent-%COMP%]{display:none!important}.full-width[_ngcontent-%COMP%]{width:100%}.step[_ngcontent-%COMP%]{background:none;border:none;border-right:1px solid}.active-step[_ngcontent-%COMP%]{font-weight:700}.no-border[_ngcontent-%COMP%]{border:none!important}.images-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;padding:10px}.image-holder[_ngcontent-%COMP%]{border:1px solid grey;border-radius:8px;position:relative;margin:10px;width:100px;height:100px;display:flex;align-items:center}.image-holder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;height:32px;padding:0;width:32px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;cursor:pointer;right:-16px;top:-16px}.image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.color-square[_ngcontent-%COMP%]{height:36px;width:36px;border-radius:4px}.ptsi-small-fields[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{height:80px;display:flex;align-items:center}"]}),i})();function bt(i){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}var yt=Uint8Array,Nn=Uint16Array,So=Int32Array,ja=new yt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ba=new yt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Io=new yt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wc=function(i,a){for(var t=new Nn(31),n=0;n<31;++n)t[n]=a+=1<<i[n-1];var o=new So(t[30]);for(n=1;n<30;++n)for(var r=t[n];r<t[n+1];++r)o[r]=r-t[n]<<5|n;return{b:t,r:o}},Ac=wc(ja,2),zs=Ac.b,Ar=Ac.r;zs[28]=258,Ar[258]=28;for(var Cc=wc(Ba,0),Tc=Cc.b,Qs=Cc.r,Uo=new Nn(32768),Ft=0;Ft<32768;++Ft){var Yi=(43690&Ft)>>1|(21845&Ft)<<1;Uo[Ft]=((65280&(Yi=(61680&(Yi=(52428&Yi)>>2|(13107&Yi)<<2))>>4|(3855&Yi)<<4))>>8|(255&Yi)<<8)>>1}var Gn=function(i,a,t){for(var n=i.length,o=0,r=new Nn(a);o<n;++o)i[o]&&++r[i[o]-1];var d,c=new Nn(a);for(o=1;o<a;++o)c[o]=c[o-1]+r[o-1]<<1;if(t){d=new Nn(1<<a);var h=15-a;for(o=0;o<n;++o)if(i[o])for(var g=o<<4|i[o],_=a-i[o],v=c[i[o]-1]++<<_,C=v|(1<<_)-1;v<=C;++v)d[Uo[v]>>h]=g}else for(d=new Nn(n),o=0;o<n;++o)i[o]&&(d[o]=Uo[c[i[o]-1]++]>>15-i[o]);return d},qi=new yt(288);for(Ft=0;Ft<144;++Ft)qi[Ft]=8;for(Ft=144;Ft<256;++Ft)qi[Ft]=9;for(Ft=256;Ft<280;++Ft)qi[Ft]=7;for(Ft=280;Ft<288;++Ft)qi[Ft]=8;var Ja=new yt(32);for(Ft=0;Ft<32;++Ft)Ja[Ft]=5;var Zc=Gn(qi,9,0),Nc=Gn(qi,9,1),Pc=Gn(Ja,5,0),kc=Gn(Ja,5,1),Cr=function(i){for(var a=i[0],t=1;t<i.length;++t)i[t]>a&&(a=i[t]);return a},Yn=function(i,a,t){var n=a/8|0;return(i[n]|i[n+1]<<8)>>(7&a)&t},Tr=function(i,a){var t=a/8|0;return(i[t]|i[t+1]<<8|i[t+2]<<16)>>(7&a)},Oo=function(i){return(i+7)/8|0},Ki=function(i,a,t){return(null==a||a<0)&&(a=0),(null==t||t>i.length)&&(t=i.length),new yt(i.subarray(a,t))},Mc=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],dt=function(i,a,t){var n=new Error(a||Mc[i]);if(n.code=i,Error.captureStackTrace&&Error.captureStackTrace(n,dt),!t)throw n;return n},bi=function(i,a,t){var n=a/8|0;i[n]|=t<<=7&a,i[n+1]|=t>>8},Ra=function(i,a,t){var n=a/8|0;i[n]|=t<<=7&a,i[n+1]|=t>>8,i[n+2]|=t>>16},Nr=function(i,a){for(var t=[],n=0;n<i.length;++n)i[n]&&t.push({s:n,f:i[n]});var o=t.length,r=t.slice();if(!o)return{t:Ks,l:0};if(1==o){var c=new yt(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(le,ye){return le.f-ye.f}),t.push({s:-1,f:25001});var d=t[0],h=t[1],g=0,_=1,v=2;for(t[0]={s:-1,f:d.f+h.f,l:d,r:h};_!=o-1;)d=t[t[g].f<t[v].f?g++:v++],h=t[g!=_&&t[g].f<t[v].f?g++:v++],t[_++]={s:-1,f:d.f+h.f,l:d,r:h};var C=r[0].s;for(n=1;n<o;++n)r[n].s>C&&(C=r[n].s);var m=new Nn(C+1),F=Pr(t[_-1],m,0);if(F>a){n=0;var k=0,q=F-a,Z=1<<q;for(r.sort(function(ye,X){return m[X.s]-m[ye.s]||ye.f-X.f});n<o;++n){var E=r[n].s;if(!(m[E]>a))break;k+=Z-(1<<F-m[E]),m[E]=a}for(k>>=q;k>0;){var G=r[n].s;m[G]<a?k-=1<<a-m[G]++-1:++n}for(;n>=0&&k;--n){var $=r[n].s;m[$]==a&&(--m[$],++k)}F=a}return{t:new yt(m),l:F}},Pr=function(i,a,t){return-1==i.s?Math.max(Pr(i.l,a,t+1),Pr(i.r,a,t+1)):a[i.s]=t},Hs=function(i){for(var a=i.length;a&&!i[--a];);for(var t=new Nn(++a),n=0,o=i[0],r=1,c=function(h){t[n++]=h},d=1;d<=a;++d)if(i[d]==o&&d!=a)++r;else{if(!o&&r>2){for(;r>138;r-=138)c(32754);r>2&&(c(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(c(o),--r;r>6;r-=6)c(8304);r>2&&(c(r-3<<5|8208),r=0)}for(;r--;)c(o);r=1,o=i[d]}return{c:t.subarray(0,n),n:a}},za=function(i,a){for(var t=0,n=0;n<a.length;++n)t+=i[n]*a[n];return t},Gs=function(i,a,t){var n=t.length,o=Oo(a+2);i[o]=255&n,i[o+1]=n>>8,i[o+2]=255^i[o],i[o+3]=255^i[o+1];for(var r=0;r<n;++r)i[o+r+4]=t[r];return 8*(o+4+n)},Ys=function(i,a,t,n,o,r,c,d,h,g,_){bi(a,_++,t),++o[256];for(var v=Nr(o,15),C=v.t,m=v.l,F=Nr(r,15),k=F.t,q=F.l,Z=Hs(C),E=Z.c,G=Z.n,$=Hs(k),le=$.c,ye=$.n,X=new Nn(19),j=0;j<E.length;++j)++X[31&E[j]];for(j=0;j<le.length;++j)++X[31&le[j]];for(var ie=Nr(X,7),fe=ie.t,P=ie.l,M=19;M>4&&!fe[Io[M-1]];--M);var oe,de,ne,pe,H=g+5<<3,B=za(o,qi)+za(r,Ja)+c,ce=za(o,C)+za(r,k)+c+14+3*M+za(X,fe)+2*X[16]+3*X[17]+7*X[18];if(h>=0&&H<=B&&H<=ce)return Gs(a,_,i.subarray(h,h+g));if(bi(a,_,1+(ce<B)),_+=2,ce<B){oe=Gn(C,m,0),de=C,ne=Gn(k,q,0),pe=k;var me=Gn(fe,P,0);for(bi(a,_,G-257),bi(a,_+5,ye-1),bi(a,_+10,M-4),_+=14,j=0;j<M;++j)bi(a,_+3*j,fe[Io[j]]);_+=3*M;for(var qe=[E,le],A=0;A<2;++A){var S=qe[A];for(j=0;j<S.length;++j)bi(a,_,me[O=31&S[j]]),_+=fe[O],O>15&&(bi(a,_,S[j]>>5&127),_+=S[j]>>12)}}else oe=Zc,de=qi,ne=Pc,pe=Ja;for(j=0;j<d;++j){var R=n[j];if(R>255){var O;Ra(a,_,oe[257+(O=R>>18&31)]),_+=de[O+257],O>7&&(bi(a,_,R>>23&31),_+=ja[O]);var W=31&R;Ra(a,_,ne[W]),_+=pe[W],W>3&&(Ra(a,_,R>>5&8191),_+=Ba[W])}else Ra(a,_,oe[R]),_+=de[R]}return Ra(a,_,oe[256]),_+de[256]},Lc=new So([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ks=new yt(0),Ws=function(){var i=1,a=0;return{p:function(t){for(var n=i,o=a,r=0|t.length,c=0;c!=r;){for(var d=Math.min(c+2655,r);c<d;++c)o+=n+=t[c];n=(65535&n)+15*(n>>16),o=(65535&o)+15*(o>>16)}i=n,a=o},d:function(){return(255&(i%=65521))<<24|(65280&i)<<8|(255&(a%=65521))<<8|a>>8}}},Mr=function(i,a,t,n,o){if(!o&&(o={l:1},a.dictionary)){var r=a.dictionary.subarray(-32768),c=new yt(r.length+i.length);c.set(r),c.set(i,r.length),i=c,o.w=r.length}return function(i,a,t,n,o,r){var c=r.z||i.length,d=new yt(n+c+5*(1+Math.ceil(c/7e3))+o),h=d.subarray(n,d.length-o),g=r.l,_=7&(r.r||0);if(a){_&&(h[0]=r.r>>3);for(var v=Lc[a-1],C=v>>13,m=8191&v,F=(1<<t)-1,k=r.p||new Nn(32768),q=r.h||new Nn(F+1),Z=Math.ceil(t/3),E=2*Z,G=function(Ye){return(i[Ye]^i[Ye+1]<<Z^i[Ye+2]<<E)&F},$=new So(25e3),le=new Nn(288),ye=new Nn(32),X=0,j=0,ie=r.i||0,fe=0,P=r.w||0,M=0;ie+2<c;++ie){var H=G(ie),B=32767&ie,ce=q[H];if(k[B]=ce,q[H]=B,P<=ie){var oe=c-ie;if((X>7e3||fe>24576)&&(oe>423||!g)){_=Ys(i,h,0,$,le,ye,j,fe,M,ie-M,_),fe=X=j=0,M=ie;for(var de=0;de<286;++de)le[de]=0;for(de=0;de<30;++de)ye[de]=0}var ne=2,pe=0,me=m,qe=B-ce&32767;if(oe>2&&H==G(ie-qe))for(var A=Math.min(C,oe)-1,S=Math.min(32767,ie),O=Math.min(258,oe);qe<=S&&--me&&B!=ce;){if(i[ie+ne]==i[ie+ne-qe]){for(var R=0;R<O&&i[ie+R]==i[ie+R-qe];++R);if(R>ne){if(ne=R,pe=qe,R>A)break;var W=Math.min(qe,R-2),ae=0;for(de=0;de<W;++de){var re=ie-qe+de&32767,Ze=re-k[re]&32767;Ze>ae&&(ae=Ze,ce=re)}}}qe+=(B=ce)-(ce=k[B])&32767}if(pe){$[fe++]=268435456|Ar[ne]<<18|Qs[pe];var Te=31&Ar[ne],Fe=31&Qs[pe];j+=ja[Te]+Ba[Fe],++le[257+Te],++ye[Fe],P=ie+ne,++X}else $[fe++]=i[ie],++le[i[ie]]}}for(ie=Math.max(ie,P);ie<c;++ie)$[fe++]=i[ie],++le[i[ie]];_=Ys(i,h,g,$,le,ye,j,fe,M,ie-M,_),g||(r.r=7&_|h[_/8|0]<<3,_-=7,r.h=q,r.p=k,r.i=ie,r.w=P)}else{for(ie=r.w||0;ie<c+g;ie+=65535){var ke=ie+65535;ke>=c&&(h[_/8|0]=g,ke=c),_=Gs(h,_+1,i.subarray(ie,ke))}r.i=c}return Ki(d,0,n+Oo(_)+o)}(i,a.level??6,null==a.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):20:12+a.mem,t,n,o)},qt=function(i,a,t){for(;t;++a)i[a]=t,t>>>=8};function jo(i,a){a||(a={});var t=Ws();t.p(i);var n=Mr(i,a,a.dictionary?6:2,4);return function(i,a){var t=a.level,n=0==t?0:t<6?1:9==t?3:2;if(i[0]=120,i[1]=n<<6|(a.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,a.dictionary){var o=Ws();o.p(a.dictionary),qt(i,2,o.d())}}(n,a),qt(n,n.length-4,t.d()),n}function Er(i,a){return function(i,a,t,n){var o=i.length,r=n?n.length:0;if(!o||a.f&&!a.l)return t||new yt(0);var c=!t,d=c||2!=a.i,h=a.i;c&&(t=new yt(3*o));var g=function(Te){var Fe=t.length;if(Te>Fe){var ke=new yt(Math.max(2*Fe,Te));ke.set(t),t=ke}},_=a.f||0,v=a.p||0,C=a.b||0,m=a.l,F=a.d,k=a.m,q=a.n,Z=8*o;do{if(!m){_=Yn(i,v,1);var E=Yn(i,v+1,3);if(v+=3,!E){var $=i[(G=Oo(v)+4)-4]|i[G-3]<<8,le=G+$;if(le>o){h&&dt(0);break}d&&g(C+$),t.set(i.subarray(G,le),C),a.b=C+=$,a.p=v=8*le,a.f=_;continue}if(1==E)m=Nc,F=kc,k=9,q=5;else if(2==E){var ye=Yn(i,v,31)+257,X=Yn(i,v+10,15)+4,j=ye+Yn(i,v+5,31)+1;v+=14;for(var ie=new yt(j),fe=new yt(19),P=0;P<X;++P)fe[Io[P]]=Yn(i,v+3*P,7);v+=3*X;var M=Cr(fe),H=(1<<M)-1,B=Gn(fe,M,1);for(P=0;P<j;){var G,ce=B[Yn(i,v,H)];if(v+=15&ce,(G=ce>>4)<16)ie[P++]=G;else{var oe=0,de=0;for(16==G?(de=3+Yn(i,v,3),v+=2,oe=ie[P-1]):17==G?(de=3+Yn(i,v,7),v+=3):18==G&&(de=11+Yn(i,v,127),v+=7);de--;)ie[P++]=oe}}var ne=ie.subarray(0,ye),pe=ie.subarray(ye);k=Cr(ne),q=Cr(pe),m=Gn(ne,k,1),F=Gn(pe,q,1)}else dt(1);if(v>Z){h&&dt(0);break}}d&&g(C+131072);for(var me=(1<<k)-1,qe=(1<<q)-1,A=v;;A=v){var S=(oe=m[Tr(i,v)&me])>>4;if((v+=15&oe)>Z){h&&dt(0);break}if(oe||dt(2),S<256)t[C++]=S;else{if(256==S){A=v,m=null;break}var O=S-254;S>264&&(O=Yn(i,v,(1<<(R=ja[P=S-257]))-1)+zs[P],v+=R);var W=F[Tr(i,v)&qe],ae=W>>4;if(W||dt(3),v+=15&W,pe=Tc[ae],ae>3){var R=Ba[ae];pe+=Tr(i,v)&(1<<R)-1,v+=R}if(v>Z){h&&dt(0);break}d&&g(C+131072);var re=C+O;if(C<pe){var se=r-pe,Ze=Math.min(pe,re);for(se+C<0&&dt(3);C<Ze;++C)t[C]=n[se+C]}for(;C<re;++C)t[C]=t[C-pe]}}a.l=m,a.p=A,a.b=C,a.f=_,m&&(_=1,a.m=k,a.d=F,a.n=q)}while(!_);return C!=t.length&&c?Ki(t,0,C):t.subarray(0,C)}(i.subarray(function(i,a){return(8!=(15&i[0])||i[0]>>4>7||(i[0]<<8|i[1])%31)&&dt(6,"invalid zlib data"),(i[1]>>5&1)==+!a&&dt(6,"invalid zlib data: "+(32&i[1]?"need":"unexpected")+" dictionary"),2+(i[1]>>3&4)}(i,a&&a.dictionary),-4),{i:2},a&&a.out,a&&a.dictionary)}var il=typeof TextDecoder<"u"&&new TextDecoder;try{il.decode(Ks,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var Ge=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function al(){Ge.console&&"function"==typeof Ge.console.log&&Ge.console.log.apply(Ge.console,arguments)}var Zt={log:al,warn:function(i){Ge.console&&("function"==typeof Ge.console.warn?Ge.console.warn.apply(Ge.console,arguments):al.call(null,arguments))},error:function(i){Ge.console&&("function"==typeof Ge.console.error?Ge.console.error.apply(Ge.console,arguments):al(i))}};function ol(i,a,t){var n=new XMLHttpRequest;n.open("GET",i),n.responseType="blob",n.onload=function(){ya(n.response,a,t)},n.onerror=function(){Zt.error("could not download file")},n.send()}function Yc(i){var a=new XMLHttpRequest;a.open("HEAD",i,!1);try{a.send()}catch{}return a.status>=200&&a.status<=299}function Or(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(a)}}var Jo,rl,ya=Ge.saveAs||("object"!==(typeof window>"u"?"undefined":bt(window))||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,a,t){var n=Ge.URL||Ge.webkitURL,o=document.createElement("a");o.download=a=a||i.name||"download",o.rel="noopener","string"==typeof i?(o.href=i,o.origin!==location.origin?Yc(o.href)?ol(i,a,t):Or(o,o.target="_blank"):Or(o)):(o.href=n.createObjectURL(i),setTimeout(function(){n.revokeObjectURL(o.href)},4e4),setTimeout(function(){Or(o)},0))}:"msSaveOrOpenBlob"in navigator?function(i,a,t){if(a=a||i.name||"download","string"==typeof i)if(Yc(i))ol(i,a,t);else{var n=document.createElement("a");n.href=i,n.target="_blank",setTimeout(function(){Or(n)})}else navigator.msSaveOrOpenBlob((o=i,void 0===(r=t)?r={autoBom:!1}:"object"!==bt(r)&&(Zt.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob([String.fromCharCode(65279),o],{type:o.type}):o),a);var o,r}:function(i,a,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof i)return ol(i,a,t);var o="application/octet-stream"===i.type,r=/constructor/i.test(Ge.HTMLElement)||Ge.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&r)&&"object"===(typeof FileReader>"u"?"undefined":bt(FileReader))){var d=new FileReader;d.onloadend=function(){var _=d.result;_=c?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=_:location=_,n=null},d.readAsDataURL(i)}else{var h=Ge.URL||Ge.webkitURL,g=h.createObjectURL(i);n?n.location=g:location.href=g,n=null,setTimeout(function(){h.revokeObjectURL(g)},4e4)}});function Kc(i){var a;i=i||"",this.ok=!1,"#"==i.charAt(0)&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],n=0;n<t.length;n++){var r=t[n].process,c=t[n].re.exec(i);c&&(a=r(c),this.r=a[0],this.g=a[1],this.b=a[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),h=this.g.toString(16),g=this.b.toString(16);return 1==d.length&&(d="0"+d),1==h.length&&(h="0"+h),1==g.length&&(g="0"+g),"#"+d+h+g}}function sl(i,a){var t=i[0],n=i[1],o=i[2],r=i[3];t=bn(t,n,o,r,a[0],7,-680876936),r=bn(r,t,n,o,a[1],12,-389564586),o=bn(o,r,t,n,a[2],17,606105819),n=bn(n,o,r,t,a[3],22,-1044525330),t=bn(t,n,o,r,a[4],7,-176418897),r=bn(r,t,n,o,a[5],12,1200080426),o=bn(o,r,t,n,a[6],17,-1473231341),n=bn(n,o,r,t,a[7],22,-45705983),t=bn(t,n,o,r,a[8],7,1770035416),r=bn(r,t,n,o,a[9],12,-1958414417),o=bn(o,r,t,n,a[10],17,-42063),n=bn(n,o,r,t,a[11],22,-1990404162),t=bn(t,n,o,r,a[12],7,1804603682),r=bn(r,t,n,o,a[13],12,-40341101),o=bn(o,r,t,n,a[14],17,-1502002290),t=yn(t,n=bn(n,o,r,t,a[15],22,1236535329),o,r,a[1],5,-165796510),r=yn(r,t,n,o,a[6],9,-1069501632),o=yn(o,r,t,n,a[11],14,643717713),n=yn(n,o,r,t,a[0],20,-373897302),t=yn(t,n,o,r,a[5],5,-701558691),r=yn(r,t,n,o,a[10],9,38016083),o=yn(o,r,t,n,a[15],14,-660478335),n=yn(n,o,r,t,a[4],20,-405537848),t=yn(t,n,o,r,a[9],5,568446438),r=yn(r,t,n,o,a[14],9,-1019803690),o=yn(o,r,t,n,a[3],14,-187363961),n=yn(n,o,r,t,a[8],20,1163531501),t=yn(t,n,o,r,a[13],5,-1444681467),r=yn(r,t,n,o,a[2],9,-51403784),o=yn(o,r,t,n,a[7],14,1735328473),t=xn(t,n=yn(n,o,r,t,a[12],20,-1926607734),o,r,a[5],4,-378558),r=xn(r,t,n,o,a[8],11,-2022574463),o=xn(o,r,t,n,a[11],16,1839030562),n=xn(n,o,r,t,a[14],23,-35309556),t=xn(t,n,o,r,a[1],4,-1530992060),r=xn(r,t,n,o,a[4],11,1272893353),o=xn(o,r,t,n,a[7],16,-155497632),n=xn(n,o,r,t,a[10],23,-1094730640),t=xn(t,n,o,r,a[13],4,681279174),r=xn(r,t,n,o,a[0],11,-358537222),o=xn(o,r,t,n,a[3],16,-722521979),n=xn(n,o,r,t,a[6],23,76029189),t=xn(t,n,o,r,a[9],4,-640364487),r=xn(r,t,n,o,a[12],11,-421815835),o=xn(o,r,t,n,a[15],16,530742520),t=wn(t,n=xn(n,o,r,t,a[2],23,-995338651),o,r,a[0],6,-198630844),r=wn(r,t,n,o,a[7],10,1126891415),o=wn(o,r,t,n,a[14],15,-1416354905),n=wn(n,o,r,t,a[5],21,-57434055),t=wn(t,n,o,r,a[12],6,1700485571),r=wn(r,t,n,o,a[3],10,-1894986606),o=wn(o,r,t,n,a[10],15,-1051523),n=wn(n,o,r,t,a[1],21,-2054922799),t=wn(t,n,o,r,a[8],6,1873313359),r=wn(r,t,n,o,a[15],10,-30611744),o=wn(o,r,t,n,a[6],15,-1560198380),n=wn(n,o,r,t,a[13],21,1309151649),t=wn(t,n,o,r,a[4],6,-145523070),r=wn(r,t,n,o,a[11],10,-1120210379),o=wn(o,r,t,n,a[2],15,718787259),n=wn(n,o,r,t,a[9],21,-343485551),i[0]=Vi(t,i[0]),i[1]=Vi(n,i[1]),i[2]=Vi(o,i[2]),i[3]=Vi(r,i[3])}function Dr(i,a,t,n,o,r){return a=Vi(Vi(a,i),Vi(n,r)),Vi(a<<o|a>>>32-o,t)}function bn(i,a,t,n,o,r,c){return Dr(a&t|~a&n,i,a,o,r,c)}function yn(i,a,t,n,o,r,c){return Dr(a&n|t&~n,i,a,o,r,c)}function xn(i,a,t,n,o,r,c){return Dr(a^t^n,i,a,o,r,c)}function wn(i,a,t,n,o,r,c){return Dr(t^(a|~n),i,a,o,r,c)}function Wc(i){var a,t=i.length,n=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=i.length;a+=64)sl(n,Nh(i.substring(a-64,a)));i=i.substring(a-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<i.length;a++)o[a>>2]|=i.charCodeAt(a)<<(a%4<<3);if(o[a>>2]|=128<<(a%4<<3),a>55)for(sl(n,o),a=0;a<16;a++)o[a]=0;return o[14]=8*t,sl(n,o),n}function Nh(i){var a,t=[];for(a=0;a<64;a+=4)t[a>>2]=i.charCodeAt(a)+(i.charCodeAt(a+1)<<8)+(i.charCodeAt(a+2)<<16)+(i.charCodeAt(a+3)<<24);return t}Jo=Ge.atob.bind(Ge),rl=Ge.btoa.bind(Ge);var Vc="0123456789abcdef".split("");function Ph(i){for(var a="",t=0;t<4;t++)a+=Vc[i>>8*t+4&15]+Vc[i>>8*t&15];return a}function kh(i){return String.fromCharCode((255&i)>>0,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function ll(i){return Wc(i).map(kh).join("")}var Mh="5d41402abc4b2a76b9719d911017c592"!=function(i){for(var a=0;a<i.length;a++)i[a]=Ph(i[a]);return i.join("")}(Wc("hello"));function Vi(i,a){if(Mh){var t=(65535&i)+(65535&a);return(i>>16)+(a>>16)+(t>>16)<<16|65535&t}return i+a&4294967295}function cl(i,a){var t,n,o;if(i!==t){for(var c=(o=i,new Array(1+(256/i.length>>0)+1).join(o)),d=[],h=0;h<256;h++)d[h]=h;var g=0;for(h=0;h<256;h++){var _=d[h];g=(g+_+c.charCodeAt(h))%256,d[h]=d[g],d[g]=_}t=i,n=d}else d=n;var v=a.length,C=0,m=0,F="";for(h=0;h<v;h++)m=(m+(_=d[C=(C+1)%256]))%256,d[C]=d[m],d[m]=_,c=d[(d[C]+d[m])%256],F+=String.fromCharCode(a.charCodeAt(h)^c);return F}var $c={print:4,modify:8,copy:16,"annot-forms":32};function Ha(i,a,t,n){this.v=1,this.r=2;var o=192;i.forEach(function(d){if(void 0!==$c.perm)throw new Error("Invalid permission: "+d);o+=$c[d]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var r=(a+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(r,c),this.P=-(1+(255^o)),this.encryptionKey=ll(r+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=cl(this.encryptionKey,this.padding)}function Ga(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var a="",t=i.length,n=0;n<t;n++){var o=i.charCodeAt(n);a+=o<33||35===o||37===o||40===o||41===o||47===o||60===o||62===o||91===o||93===o||123===o||125===o||o>126?"#"+("0"+o.toString(16)).slice(-2):i[n]}return a}function Xc(i){if("object"!==bt(i))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var a={};this.subscribe=function(t,n,o){if(o=o||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof o)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");a.hasOwnProperty(t)||(a[t]={});var r=Math.random().toString(35);return a[t][r]=[n,!!o],r},this.unsubscribe=function(t){for(var n in a)if(a[n][t])return delete a[n][t],0===Object.keys(a[n]).length&&delete a[n],!0;return!1},this.publish=function(t){if(a.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),o=[];for(var r in a[t]){var c=a[t][r];try{c[0].apply(i,n)}catch(d){Ge.console&&Zt.error("jsPDF PubSub Error",d.message,d)}c[1]&&o.push(r)}o.length&&o.forEach(this.unsubscribe)}},this.getTopics=function(){return a}}function jr(i){if(!(this instanceof jr))return new jr(i);var a="opacity,stroke-opacity".split(",");for(var t in i)i.hasOwnProperty(t)&&a.indexOf(t)>=0&&(this[t]=i[t]);this.id="",this.objectNumber=-1}function eu(i,a){this.gState=i,this.matrix=a,this.id="",this.objectNumber=-1}function xa(i,a,t,n,o){if(!(this instanceof xa))return new xa(i,a,t,n,o);this.type="axial"===i?2:3,this.coords=a,this.colors=t,eu.call(this,n,o)}function Ya(i,a,t,n,o){if(!(this instanceof Ya))return new Ya(i,a,t,n,o);this.boundingBox=i,this.xStep=a,this.yStep=t,this.stream="",this.cloneIndex=0,eu.call(this,n,o)}function ze(i){var a,t="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],o=arguments[2],r=arguments[3],c=[],d=1,h=16,g="S",_=null;"object"===bt(i=i||{})&&(t=i.orientation,n=i.unit||n,o=i.format||o,r=i.compress||i.compressPdf||r,null!==(_=i.encryption||null)&&(_.userPassword=_.userPassword||"",_.ownerPassword=_.ownerPassword||"",_.userPermissions=_.userPermissions||[]),d="number"==typeof i.userUnit?Math.abs(i.userUnit):1,void 0!==i.precision&&(a=i.precision),void 0!==i.floatPrecision&&(h=i.floatPrecision),g=i.defaultPathOperation||"S"),c=i.filters||(!0===r?["FlateEncode"]:c),n=n||"mm",t=(""+(t||"P")).toLowerCase();var v=i.putOnlyUsedFonts||!1,C={},m={internal:{},__private__:{}};m.__private__.PubSub=Xc;var F="1.3",k=m.__private__.getPdfVersion=function(){return F};m.__private__.setPdfVersion=function(u){F=u};var q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return q};var Z=m.__private__.getPageFormat=function(u){return q[u]};o=o||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},G=E.COMPAT;function $(){this.saveGraphicsState(),D(new Qe(Se,0,0,-Se,0,na()*Se).toString()+" cm"),this.setFontSize(this.getFontSize()/Se),g="n",G=E.ADVANCED}function le(){this.restoreGraphicsState(),g="S",G=E.COMPAT}var ye=m.__private__.combineFontStyleAndFontWeight=function(u,y){if("bold"==u&&"normal"==y||"bold"==u&&400==y||"normal"==u&&"italic"==y||"bold"==u&&"italic"==y)throw new Error("Invalid Combination of fontweight and fontstyle");return y&&(u=400==y||"normal"===y?"italic"===u?"italic":"normal":700!=y&&"bold"!==y||"normal"!==u?(700==y?"bold":y)+""+u:"bold"),u};m.advancedAPI=function(u){var y=G===E.COMPAT;return y&&$.call(this),"function"!=typeof u||(u(this),y&&le.call(this)),this},m.compatAPI=function(u){var y=G===E.ADVANCED;return y&&le.call(this),"function"!=typeof u||(u(this),y&&$.call(this)),this},m.isAdvancedAPI=function(){return G===E.ADVANCED};var X,j=function(u){if(G!==E.ADVANCED)throw new Error(u+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=m.roundToPrecision=m.__private__.roundToPrecision=function(u,y){var I=a||y;if(isNaN(u)||isNaN(I))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return u.toFixed(I).replace(/0+$/,"")};X=m.hpf=m.__private__.hpf="number"==typeof h?function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(u,h)}:"smart"===h?function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(u,u>-1&&u<1?16:5)}:function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(u,16)};var fe=m.f2=m.__private__.f2=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.f2");return ie(u,2)},P=m.__private__.f3=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.f3");return ie(u,3)},M=m.scale=m.__private__.scale=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.scale");return G===E.COMPAT?u*Se:G===E.ADVANCED?u:void 0},H=function(u){return G===E.COMPAT?na()-u:G===E.ADVANCED?u:void 0},B=function(u){return M(H(u))};m.__private__.setPrecision=m.setPrecision=function(u){"number"==typeof parseInt(u,10)&&(a=parseInt(u,10))};var ce,oe="00000000000000000000000000000000",de=m.__private__.getFileId=function(){return oe},ne=m.__private__.setFileId=function(u){return oe=void 0!==u&&/^[a-fA-F0-9]{32}$/.test(u)?u.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==_&&(Cn=new Ha(_.userPermissions,_.userPassword,_.ownerPassword,oe)),oe};m.setFileId=function(u){return ne(u),this},m.getFileId=function(){return de()};var pe=m.__private__.convertDateToPDFDate=function(u){var y=u.getTimezoneOffset(),I=y<0?"+":"-",J=Math.floor(Math.abs(y/60)),V=Math.abs(y%60),he=[I,O(J),"'",O(V),"'"].join("");return["D:",u.getFullYear(),O(u.getMonth()+1),O(u.getDate()),O(u.getHours()),O(u.getMinutes()),O(u.getSeconds()),he].join("")},me=m.__private__.convertPDFDateToDate=function(u){var y=parseInt(u.substr(2,4),10),I=parseInt(u.substr(6,2),10)-1,J=parseInt(u.substr(8,2),10),V=parseInt(u.substr(10,2),10),he=parseInt(u.substr(12,2),10),we=parseInt(u.substr(14,2),10);return new Date(y,I,J,V,he,we,0)},qe=m.__private__.setCreationDate=function(u){var y;if(void 0===u&&(u=new Date),u instanceof Date)y=pe(u);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(u))throw new Error("Invalid argument passed to jsPDF.setCreationDate");y=u}return ce=y},A=m.__private__.getCreationDate=function(u){var y=ce;return"jsDate"===u&&(y=me(ce)),y};m.setCreationDate=function(u){return qe(u),this},m.getCreationDate=function(u){return A(u)};var S,O=m.__private__.padd2=function(u){return("0"+parseInt(u)).slice(-2)},R=m.__private__.padd2Hex=function(u){return("00"+(u=u.toString())).substr(u.length)},W=0,ae=[],re=[],se=0,Ze=[],Te=[],Fe=!1,ke=re,Ye=function(){W=0,se=0,re=[],ae=[],Ze=[],Si=Vt(),ui=Vt()};m.__private__.setCustomOutputDestination=function(u){Fe=!0,ke=u};var ge=function(u){Fe||(ke=u)};m.__private__.resetCustomOutputDestination=function(){Fe=!1,ke=re};var D=m.__private__.out=function(u){return u=u.toString(),se+=u.length+1,ke.push(u),ke},nt=m.__private__.write=function(u){return D(1===arguments.length?u.toString():Array.prototype.join.call(arguments," "))},De=m.__private__.getArrayBuffer=function(u){for(var y=u.length,I=new ArrayBuffer(y),J=new Uint8Array(I);y--;)J[y]=u.charCodeAt(y);return I},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Ce};var Ne=i.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(u){return Ne=G===E.ADVANCED?u/Se:u,this};var Ee,Le=m.__private__.getFontSize=m.getFontSize=function(){return G===E.COMPAT?Ne:Ne*Se},Be=i.R2L||!1;m.__private__.setR2L=m.setR2L=function(u){return Be=u,this},m.__private__.getR2L=m.getR2L=function(){return Be};var Xe,ot=m.__private__.setZoomMode=function(u){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(u))Ee=u;else if(isNaN(u)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(u))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+u+'" is not recognized.');Ee=u}else Ee=parseInt(u,10)};m.__private__.getZoomMode=function(){return Ee};var rt,ht=m.__private__.setPageMode=function(u){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(u))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+u+'" is not recognized.');Xe=u};m.__private__.getPageMode=function(){return Xe};var Ct=m.__private__.setLayoutMode=function(u){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(u))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+u+'" is not recognized.');rt=u};m.__private__.getLayoutMode=function(){return rt},m.__private__.setDisplayMode=m.setDisplayMode=function(u,y,I){return ot(u),Ct(y),ht(I),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(u){if(-1===Object.keys(Ke).indexOf(u))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[u]},m.__private__.getDocumentProperties=function(){return Ke},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(u){for(var y in Ke)Ke.hasOwnProperty(y)&&u[y]&&(Ke[y]=u[y]);return this},m.__private__.setDocumentProperty=function(u,y){if(-1===Object.keys(Ke).indexOf(u))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[u]=y};var lt,Se,An,mt,si,Nt={},Et={},Ai=[],_t={},Ca={},jt={},li={},Ei=null,Bt=0,et=[],vt=new Xc(m),Ta=i.hotfixes||[],fn={},Ci={},Ti=[],Qe=function u(y,I,J,V,he,we){if(!(this instanceof u))return new u(y,I,J,V,he,we);isNaN(y)&&(y=1),isNaN(I)&&(I=0),isNaN(J)&&(J=0),isNaN(V)&&(V=1),isNaN(he)&&(he=0),isNaN(we)&&(we=0),this._matrix=[y,I,J,V,he,we]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(u){this._matrix[0]=u}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(u){this._matrix[1]=u}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(u){this._matrix[2]=u}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(u){this._matrix[3]=u}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(u){this._matrix[4]=u}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(u){this._matrix[5]=u}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(u){this._matrix[0]=u}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(u){this._matrix[1]=u}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(u){this._matrix[2]=u}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(u){this._matrix[3]=u}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(u){this._matrix[4]=u}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(u){this._matrix[5]=u}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Qe.prototype.join=function(u){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(u)},Qe.prototype.multiply=function(u){return new Qe(u.sx*this.sx+u.shy*this.shx,u.sx*this.shy+u.shy*this.sy,u.shx*this.sx+u.sy*this.shx,u.shx*this.shy+u.sy*this.sy,u.tx*this.sx+u.ty*this.shx+this.tx,u.tx*this.shy+u.ty*this.sy+this.ty)},Qe.prototype.decompose=function(){var u=this.sx,y=this.shy,I=this.shx,J=this.sy,V=this.tx,he=this.ty,we=Math.sqrt(u*u+y*y),Ie=(u/=we)*I+(y/=we)*J;I-=u*Ie,J-=y*Ie;var Je=Math.sqrt(I*I+J*J);return Ie/=Je,u*(J/=Je)<y*(I/=Je)&&(u=-u,y=-y,Ie=-Ie,we=-we),{scale:new Qe(we,0,0,Je,0,0),translate:new Qe(1,0,0,1,V,he),rotate:new Qe(u,y,-y,u,0,0),skew:new Qe(1,0,Ie,1,0,0)}},Qe.prototype.toString=function(u){return this.join(" ")},Qe.prototype.inversed=function(){var u=this.sx,y=this.shy,I=this.shx,J=this.sy,V=this.tx,he=this.ty,we=1/(u*J-y*I),Ie=J*we,Je=-y*we,it=-I*we,tt=u*we;return new Qe(Ie,Je,it,tt,-Ie*V-it*he,-Je*V-tt*he)},Qe.prototype.applyToPoint=function(u){return new mo(u.x*this.sx+u.y*this.shx+this.tx,u.x*this.shy+u.y*this.sy+this.ty)},Qe.prototype.applyToRectangle=function(u){var y=this.applyToPoint(u),I=this.applyToPoint(new mo(u.x+u.w,u.y+u.h));return new er(y.x,y.y,I.x-y.x,I.y-y.y)},Qe.prototype.clone=function(){return new Qe(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},m.Matrix=Qe;var ci=m.matrixMult=function(u,y){return y.multiply(u)},Zi=new Qe(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Zi;var Fn=function(u,y){if(!Ca[u]){var I=(y instanceof xa?"Sh":"P")+(Object.keys(_t).length+1).toString(10);y.id=I,Ca[u]=I,_t[I]=y,vt.publish("addPattern",y)}};m.ShadingPattern=xa,m.TilingPattern=Ya,m.addShadingPattern=function(u,y){return j("addShadingPattern()"),Fn(u,y),this},m.beginTilingPattern=function(u){j("beginTilingPattern()"),hs(u.boundingBox[0],u.boundingBox[1],u.boundingBox[2]-u.boundingBox[0],u.boundingBox[3]-u.boundingBox[1],u.matrix)},m.endTilingPattern=function(u,y){j("endTilingPattern()"),y.stream=Te[S].join("\n"),Fn(u,y),vt.publish("endTilingPattern",y),Ti.pop().restore()};var on=m.__private__.newObject=function(){var u=Vt();return jn(u,!0),u},Vt=m.__private__.newObjectDeferred=function(){return W++,ae[W]=function(){return se},W},jn=function(u,y){return y="boolean"==typeof y&&y,ae[u]=se,y&&D(u+" 0 obj"),u},to=m.__private__.newAdditionalObject=function(){var u={objId:Vt(),content:""};return Ze.push(u),u},Si=Vt(),ui=Vt(),di=m.__private__.decodeColorString=function(u){var y=u.split(" ");if(2!==y.length||"g"!==y[1]&&"G"!==y[1])5===y.length&&("k"===y[4]||"K"===y[4])&&(y=[(1-y[0])*(1-y[3]),(1-y[1])*(1-y[3]),(1-y[2])*(1-y[3]),"r"]);else{var I=parseFloat(y[0]);y=[I,I,I,"r"]}for(var J="#",V=0;V<3;V++)J+=("0"+Math.floor(255*parseFloat(y[V])).toString(16)).slice(-2);return J},pi=m.__private__.encodeColorString=function(u){var y;"string"==typeof u&&(u={ch1:u});var I=u.ch1,J=u.ch2,V=u.ch3,he=u.ch4,we="draw"===u.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof I&&"#"!==I.charAt(0)){var Ie=new Kc(I);if(Ie.ok)I=Ie.toHex();else if(!/^\d*\.?\d*$/.test(I))throw new Error('Invalid color "'+I+'" passed to jsPDF.encodeColorString.')}if("string"==typeof I&&/^#[0-9A-Fa-f]{3}$/.test(I)&&(I="#"+I[1]+I[1]+I[2]+I[2]+I[3]+I[3]),"string"==typeof I&&/^#[0-9A-Fa-f]{6}$/.test(I)){var Je=parseInt(I.substr(1),16);I=Je>>16&255,J=Je>>8&255,V=255&Je}if(void 0===J||void 0===he&&I===J&&J===V)y="string"==typeof I?I+" "+we[0]:2===u.precision?fe(I/255)+" "+we[0]:P(I/255)+" "+we[0];else if(void 0===he||"object"===bt(he)){if(he&&!isNaN(he.a)&&0===he.a)return["1.","1.","1.",we[1]].join(" ");y="string"==typeof I?[I,J,V,we[1]].join(" "):2===u.precision?[fe(I/255),fe(J/255),fe(V/255),we[1]].join(" "):[P(I/255),P(J/255),P(V/255),we[1]].join(" ")}else y="string"==typeof I?[I,J,V,he,we[2]].join(" "):2===u.precision?[fe(I),fe(J),fe(V),fe(he),we[2]].join(" "):[P(I),P(J),P(V),P(he),we[2]].join(" ");return y},Ni=m.__private__.getFilters=function(){return c},Kn=m.__private__.putStream=function(u){var y=(u=u||{}).data||"",I=u.filters||Ni(),J=u.alreadyAppliedFilters||[],V=u.addLength1||!1,he=y.length,we=u.objectId,Ie=function(Tn){return Tn};if(null!==_&&void 0===we)throw new Error("ObjectId must be passed to putStream for file encryption");null!==_&&(Ie=Cn.encryptor(we,0));var Je={};!0===I&&(I=["FlateEncode"]);var it=u.additionalKeyValues||[],tt=(Je=void 0!==ze.API.processDataByFilters?ze.API.processDataByFilters(y,I):{data:y,reverseChain:[]}).reverseChain+(Array.isArray(J)?J.join(" "):J.toString());if(0!==Je.data.length&&(it.push({key:"Length",value:Je.data.length}),!0===V&&it.push({key:"Length1",value:he})),0!=tt.length)if(tt.split("/").length-1==1)it.push({key:"Filter",value:tt});else{it.push({key:"Filter",value:"["+tt+"]"});for(var pt=0;pt<it.length;pt+=1)if("DecodeParms"===it[pt].key){for(var It=[],Jt=0;Jt<Je.reverseChain.split("/").length-1;Jt+=1)It.push("null");It.push(it[pt].value),it[pt].value="["+It.join(" ")+"]"}}D("<<");for(var $t=0;$t<it.length;$t++)D("/"+it[$t].key+" "+it[$t].value);D(">>"),0!==Je.data.length&&(D("stream"),D(Ie(Je.data)),D("endstream"))},Pi=m.__private__.putPage=function(u){var y=u.number,I=u.data,J=u.objId,V=u.contentsObjId;jn(J,!0),D("<</Type /Page"),D("/Parent "+u.rootDictionaryObjId+" 0 R"),D("/Resources "+u.resourceDictionaryObjId+" 0 R"),D("/MediaBox ["+parseFloat(X(u.mediaBox.bottomLeftX))+" "+parseFloat(X(u.mediaBox.bottomLeftY))+" "+X(u.mediaBox.topRightX)+" "+X(u.mediaBox.topRightY)+"]"),null!==u.cropBox&&D("/CropBox ["+X(u.cropBox.bottomLeftX)+" "+X(u.cropBox.bottomLeftY)+" "+X(u.cropBox.topRightX)+" "+X(u.cropBox.topRightY)+"]"),null!==u.bleedBox&&D("/BleedBox ["+X(u.bleedBox.bottomLeftX)+" "+X(u.bleedBox.bottomLeftY)+" "+X(u.bleedBox.topRightX)+" "+X(u.bleedBox.topRightY)+"]"),null!==u.trimBox&&D("/TrimBox ["+X(u.trimBox.bottomLeftX)+" "+X(u.trimBox.bottomLeftY)+" "+X(u.trimBox.topRightX)+" "+X(u.trimBox.topRightY)+"]"),null!==u.artBox&&D("/ArtBox ["+X(u.artBox.bottomLeftX)+" "+X(u.artBox.bottomLeftY)+" "+X(u.artBox.topRightX)+" "+X(u.artBox.topRightY)+"]"),"number"==typeof u.userUnit&&1!==u.userUnit&&D("/UserUnit "+u.userUnit),vt.publish("putPage",{objId:J,pageContext:et[y],pageNumber:y,page:I}),D("/Contents "+V+" 0 R"),D(">>"),D("endobj");var he=I.join("\n");return G===E.ADVANCED&&(he+="\nQ"),jn(V,!0),Kn({data:he,filters:Ni(),objectId:V}),D("endobj"),J},Za=m.__private__.putPages=function(){var u,y,I=[];for(u=1;u<=Bt;u++)et[u].objId=Vt(),et[u].contentsObjId=Vt();for(u=1;u<=Bt;u++)I.push(Pi({number:u,data:Te[u],objId:et[u].objId,contentsObjId:et[u].contentsObjId,mediaBox:et[u].mediaBox,cropBox:et[u].cropBox,bleedBox:et[u].bleedBox,trimBox:et[u].trimBox,artBox:et[u].artBox,userUnit:et[u].userUnit,rootDictionaryObjId:Si,resourceDictionaryObjId:ui}));jn(Si,!0),D("<</Type /Pages");var J="/Kids [";for(y=0;y<Bt;y++)J+=I[y]+" 0 R ";D(J+"]"),D("/Count "+Bt),D(">>"),D("endobj"),vt.publish("postPutPages")},no=function(u){vt.publish("putFont",{font:u,out:D,newObject:on,putStream:Kn}),!0!==u.isAlreadyPutted&&(u.objectNumber=on(),D("<<"),D("/Type /Font"),D("/BaseFont /"+Ga(u.postScriptName)),D("/Subtype /Type1"),"string"==typeof u.encoding&&D("/Encoding /"+u.encoding),D("/FirstChar 32"),D("/LastChar 255"),D(">>"),D("endobj"))},io=function(){for(var u in Nt)Nt.hasOwnProperty(u)&&(!1===v||!0===v&&C.hasOwnProperty(u))&&no(Nt[u])},ao=function(u){u.objectNumber=on();var y=[];y.push({key:"Type",value:"/XObject"}),y.push({key:"Subtype",value:"/Form"}),y.push({key:"BBox",value:"["+[X(u.x),X(u.y),X(u.x+u.width),X(u.y+u.height)].join(" ")+"]"}),y.push({key:"Matrix",value:"["+u.matrix.toString()+"]"});var I=u.pages[1].join("\n");Kn({data:I,additionalKeyValues:y,objectId:u.objectNumber}),D("endobj")},oo=function(){for(var u in fn)fn.hasOwnProperty(u)&&ao(fn[u])},Kr=function(u,y){var I,J=[],V=1/(y-1);for(I=0;I<1;I+=V)J.push(I);J.push(1),0!=u[0].offset&&u.unshift({offset:0,color:u[0].color}),1!=u[u.length-1].offset&&u.push({offset:1,color:u[u.length-1].color});for(var Ie="",Je=0,it=0;it<J.length;it++){for(I=J[it];I>u[Je+1].offset;)Je++;var tt=u[Je].offset,pt=(I-tt)/(u[Je+1].offset-tt),It=u[Je].color,Jt=u[Je+1].color;Ie+=R(Math.round((1-pt)*It[0]+pt*Jt[0]).toString(16))+R(Math.round((1-pt)*It[1]+pt*Jt[1]).toString(16))+R(Math.round((1-pt)*It[2]+pt*Jt[2]).toString(16))}return Ie.trim()},vl=function(u,y){y||(y=21);var I=on(),J=Kr(u.colors,y),V=[];V.push({key:"FunctionType",value:"0"}),V.push({key:"Domain",value:"[0.0 1.0]"}),V.push({key:"Size",value:"["+y+"]"}),V.push({key:"BitsPerSample",value:"8"}),V.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),V.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kn({data:J,additionalKeyValues:V,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:I}),D("endobj"),u.objectNumber=on(),D("<< /ShadingType "+u.type),D("/ColorSpace /DeviceRGB");var he="/Coords ["+X(parseFloat(u.coords[0]))+" "+X(parseFloat(u.coords[1]))+" ";he+=2===u.type?X(parseFloat(u.coords[2]))+" "+X(parseFloat(u.coords[3])):X(parseFloat(u.coords[2]))+" "+X(parseFloat(u.coords[3]))+" "+X(parseFloat(u.coords[4]))+" "+X(parseFloat(u.coords[5])),D(he+="]"),u.matrix&&D("/Matrix ["+u.matrix.toString()+"]"),D("/Function "+I+" 0 R"),D("/Extend [true true]"),D(">>"),D("endobj")},bl=function(u,y){var I=Vt(),J=on();y.push({resourcesOid:I,objectOid:J}),u.objectNumber=J;var V=[];V.push({key:"Type",value:"/Pattern"}),V.push({key:"PatternType",value:"1"}),V.push({key:"PaintType",value:"1"}),V.push({key:"TilingType",value:"1"}),V.push({key:"BBox",value:"["+u.boundingBox.map(X).join(" ")+"]"}),V.push({key:"XStep",value:X(u.xStep)}),V.push({key:"YStep",value:X(u.yStep)}),V.push({key:"Resources",value:I+" 0 R"}),u.matrix&&V.push({key:"Matrix",value:"["+u.matrix.toString()+"]"}),Kn({data:u.stream,additionalKeyValues:V,objectId:u.objectNumber}),D("endobj")},ro=function(u){var y;for(y in _t)_t.hasOwnProperty(y)&&(_t[y]instanceof xa?vl(_t[y]):_t[y]instanceof Ya&&bl(_t[y],u))},Wr=function(u){for(var y in u.objectNumber=on(),D("<<"),u)switch(y){case"opacity":D("/ca "+fe(u[y]));break;case"stroke-opacity":D("/CA "+fe(u[y]))}D(">>"),D("endobj")},yl=function(){var u;for(u in jt)jt.hasOwnProperty(u)&&Wr(jt[u])},zo=function(){for(var u in D("/XObject <<"),fn)fn.hasOwnProperty(u)&&fn[u].objectNumber>=0&&D("/"+u+" "+fn[u].objectNumber+" 0 R");vt.publish("putXobjectDict"),D(">>")},xl=function(){Cn.oid=on(),D("<<"),D("/Filter /Standard"),D("/V "+Cn.v),D("/R "+Cn.r),D("/U <"+Cn.toHexString(Cn.U)+">"),D("/O <"+Cn.toHexString(Cn.O)+">"),D("/P "+Cn.P),D(">>"),D("endobj")},Vr=function(){for(var u in D("/Font <<"),Nt)Nt.hasOwnProperty(u)&&(!1===v||!0===v&&C.hasOwnProperty(u))&&D("/"+u+" "+Nt[u].objectNumber+" 0 R");D(">>")},wl=function(){if(Object.keys(_t).length>0){for(var u in D("/Shading <<"),_t)_t.hasOwnProperty(u)&&_t[u]instanceof xa&&_t[u].objectNumber>=0&&D("/"+u+" "+_t[u].objectNumber+" 0 R");vt.publish("putShadingPatternDict"),D(">>")}},so=function(u){if(Object.keys(_t).length>0){for(var y in D("/Pattern <<"),_t)_t.hasOwnProperty(y)&&_t[y]instanceof m.TilingPattern&&_t[y].objectNumber>=0&&_t[y].objectNumber<u&&D("/"+y+" "+_t[y].objectNumber+" 0 R");vt.publish("putTilingPatternDict"),D(">>")}},Al=function(){if(Object.keys(jt).length>0){var u;for(u in D("/ExtGState <<"),jt)jt.hasOwnProperty(u)&&jt[u].objectNumber>=0&&D("/"+u+" "+jt[u].objectNumber+" 0 R");vt.publish("putGStateDict"),D(">>")}},Gt=function(u){jn(u.resourcesOid,!0),D("<<"),D("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Vr(),wl(),so(u.objectOid),Al(),zo(),D(">>"),D("endobj")},$r=function(){var u=[];io(),yl(),oo(),ro(u),vt.publish("putResources"),u.forEach(Gt),Gt({resourcesOid:ui,objectOid:Number.MAX_SAFE_INTEGER}),vt.publish("postPutResources")},Xr=function(){vt.publish("putAdditionalObjects");for(var u=0;u<Ze.length;u++){var y=Ze[u];jn(y.objId,!0),D(y.content),D("endobj")}vt.publish("postPutAdditionalObjects")},es=function(u){Et[u.fontName]=Et[u.fontName]||{},Et[u.fontName][u.fontStyle]=u.id},Qo=function(u,y,I,J,V){var he={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:u,fontName:y,fontStyle:I,encoding:J,isStandardFont:V||!1,metadata:{}};return vt.publish("addFont",{font:he,instance:this}),Nt[he.id]=he,es(he),he.id},Cl=function(u){for(var y=0,I=Ce.length;y<I;y++){var J=Qo.call(this,u[y][0],u[y][1],u[y][2],Ce[y][3],!0);!1===v&&(C[J]=!0);var V=u[y][0].split("-");es({id:J,fontName:V[0],fontStyle:V[1]||""})}vt.publish("addFonts",{fonts:Nt,dictionary:Et})},hi=function(u){return u.foo=function(){try{return u.apply(this,arguments)}catch(J){var y=J.stack||"";~y.indexOf(" at ")&&(y=y.split(" at ")[1]);var I="Error in function "+y.split("\n")[0].split("<")[0]+": "+J.message;if(!Ge.console)throw new Error(I);Ge.console.error(I,J),Ge.alert&&alert(I)}},u.foo.bar=u,u.foo},lo=function(u,y){var I,J,V,he,we,Ie,Je,it,tt;if(V=(y=y||{}).sourceEncoding||"Unicode",we=y.outputEncoding,(y.autoencode||we)&&Nt[lt].metadata&&Nt[lt].metadata[V]&&Nt[lt].metadata[V].encoding&&(he=Nt[lt].metadata[V].encoding,!we&&Nt[lt].encoding&&(we=Nt[lt].encoding),!we&&he.codePages&&(we=he.codePages[0]),"string"==typeof we&&(we=he[we]),we)){for(Je=!1,Ie=[],I=0,J=u.length;I<J;I++)(it=we[u.charCodeAt(I)])?Ie.push(String.fromCharCode(it)):Ie.push(u[I]),Ie[I].charCodeAt(0)>>8&&(Je=!0);u=Ie.join("")}for(I=u.length;void 0===Je&&0!==I;)u.charCodeAt(I-1)>>8&&(Je=!0),I--;if(!Je)return u;for(Ie=y.noBOM?[]:[254,255],I=0,J=u.length;I<J;I++){if((tt=(it=u.charCodeAt(I))>>8)>>8)throw new Error("Character at position "+I+" of string '"+u+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ie.push(tt),Ie.push(it-(tt<<8))}return String.fromCharCode.apply(void 0,Ie)},qn=m.__private__.pdfEscape=m.pdfEscape=function(u,y){return lo(u,y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ho=m.__private__.beginPage=function(u){Te[++Bt]=[],et[Bt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(u[0]),topRightY:Number(u[1])}},ns(Bt),ge(Te[S])},ts=function(u,y){var I,J,V;switch(t=y||t,"string"==typeof u&&(I=Z(u.toLowerCase()),Array.isArray(I)&&(J=I[0],V=I[1])),Array.isArray(u)&&(J=u[0]*Se,V=u[1]*Se),isNaN(J)&&(J=o[0],V=o[1]),(J>14400||V>14400)&&(Zt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),J=Math.min(14400,J),V=Math.min(14400,V)),o=[J,V],t.substr(0,1)){case"l":V>J&&(o=[V,J]);break;case"p":J>V&&(o=[V,J])}Ho(o),ls(Wo),D(fi),0!==$o&&D($o+" J"),0!==Xo&&D(Xo+" j"),vt.publish("addPage",{pageNumber:Bt})},Tl=function(u){u>0&&u<=Bt&&(Te.splice(u,1),et.splice(u,1),Bt--,S>Bt&&(S=Bt),this.setPage(S))},ns=function(u){u>0&&u<=Bt&&(S=u)},Zl=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Te.length-1},is=function(u,y,I){var J,V=void 0;return I=I||{},y=void 0!==y?y:Nt[lt].fontStyle,J=(u=void 0!==u?u:Nt[lt].fontName).toLowerCase(),void 0!==Et[J]&&void 0!==Et[J][y]?V=Et[J][y]:void 0!==Et[u]&&void 0!==Et[u][y]?V=Et[u][y]:!1===I.disableWarning&&Zt.warn("Unable to look up font label for font '"+u+"', '"+y+"'. Refer to getFontList() for available fonts."),V||I.noFallback||null==(V=Et.times[y])&&(V=Et.times.normal),V},Nl=m.__private__.putInfo=function(){var u=on(),y=function(J){return J};for(var I in null!==_&&(y=Cn.encryptor(u,0)),D("<<"),D("/Producer ("+qn(y("jsPDF "+ze.version))+")"),Ke)Ke.hasOwnProperty(I)&&Ke[I]&&D("/"+I.substr(0,1).toUpperCase()+I.substr(1)+" ("+qn(y(Ke[I]))+")");D("/CreationDate ("+qn(y(ce))+")"),D(">>"),D("endobj")},Go=m.__private__.putCatalog=function(u){var y=(u=u||{}).rootDictionaryObjId||Si;switch(on(),D("<<"),D("/Type /Catalog"),D("/Pages "+y+" 0 R"),Ee||(Ee="fullwidth"),Ee){case"fullwidth":D("/OpenAction [3 0 R /FitH null]");break;case"fullheight":D("/OpenAction [3 0 R /FitV null]");break;case"fullpage":D("/OpenAction [3 0 R /Fit]");break;case"original":D("/OpenAction [3 0 R /XYZ null null 1]");break;default:var I=""+Ee;"%"===I.substr(I.length-1)&&(Ee=parseInt(Ee)/100),"number"==typeof Ee&&D("/OpenAction [3 0 R /XYZ null null "+fe(Ee)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":D("/PageLayout /OneColumn");break;case"single":D("/PageLayout /SinglePage");break;case"two":case"twoleft":D("/PageLayout /TwoColumnLeft");break;case"tworight":D("/PageLayout /TwoColumnRight")}Xe&&D("/PageMode /"+Xe),vt.publish("putCatalog"),D(">>"),D("endobj")},Pl=m.__private__.putTrailer=function(){D("trailer"),D("<<"),D("/Size "+(W+1)),D("/Root "+W+" 0 R"),D("/Info "+(W-1)+" 0 R"),null!==_&&D("/Encrypt "+Cn.oid+" 0 R"),D("/ID [ <"+oe+"> <"+oe+"> ]"),D(">>")},kl=m.__private__.putHeader=function(){D("%PDF-"+F),D("%\xba\xdf\xac\xe0")},Ml=m.__private__.putXRef=function(){var u="0000000000";D("xref"),D("0 "+(W+1)),D("0000000000 65535 f ");for(var y=1;y<=W;y++)D("function"==typeof ae[y]?(u+ae[y]()).slice(-10)+" 00000 n ":void 0!==ae[y]?(u+ae[y]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ii=m.__private__.buildDocument=function(){Ye(),ge(re),vt.publish("buildDocument"),kl(),Za(),Xr(),$r(),null!==_&&xl(),Nl(),Go();var u=se;return Ml(),Pl(),D("startxref"),D(""+u),D("%%EOF"),ge(Te[S]),re.join("\n")},co=m.__private__.getBlob=function(u){return new Blob([De(u)],{type:"application/pdf"})},uo=m.output=m.__private__.output=hi(function(u,y){switch("string"==typeof(y=y||{})?y={filename:y}:y.filename=y.filename||"generated.pdf",u){case void 0:return Ii();case"save":m.save(y.filename);break;case"arraybuffer":return De(Ii());case"blob":return co(Ii());case"bloburi":case"bloburl":if(void 0!==Ge.URL&&"function"==typeof Ge.URL.createObjectURL)return Ge.URL&&Ge.URL.createObjectURL(co(Ii()))||void 0;Zt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var I="",J=Ii();try{I=rl(J)}catch{I=rl(unescape(encodeURIComponent(J)))}return"data:application/pdf;filename="+y.filename+";base64,"+I;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ge)){var V="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",he=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';y.pdfObjectUrl&&(V=y.pdfObjectUrl,he="");var we='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+V+'"'+he+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(y)+");<\/script></body></html>",Ie=Ge.open();return null!==Ie&&Ie.document.write(we),Ie}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ge)){var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+y.filename+'" width="500px" height="400px" /></body></html>',it=Ge.open();if(null!==it){it.document.write(Je);var tt=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=y.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tt.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ge))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",y)+'"></iframe></body></html>',It=Ge.open();if(null!==It&&(It.document.write(pt),It.document.title=y.filename),It||typeof safari>"u")return It;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",y);default:return null}}),as=function(u){return!0===Array.isArray(Ta)&&Ta.indexOf(u)>-1};switch(n){case"pt":Se=1;break;case"mm":Se=72/25.4;break;case"cm":Se=72/2.54;break;case"in":Se=72;break;case"px":Se=1==as("px_scaling")?.75:96/72;break;case"pc":case"em":Se=12;break;case"ex":Se=6;break;default:if("number"!=typeof n)throw new Error("Invalid unit: "+n);Se=n}var Cn=null;qe(),ne();var Ll=function(u){return null!==_?Cn.encryptor(u,0):function(y){return y}},os=m.__private__.getPageInfo=m.getPageInfo=function(u){if(isNaN(u)||u%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:et[u].objId,pageNumber:u,pageContext:et[u]}},Ve=m.__private__.getPageInfoByObjId=function(u){if(isNaN(u)||u%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var y in et)if(et[y].objId===u)break;return os(y)},Fl=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:et[S].objId,pageNumber:S,pageContext:et[S]}};m.addPage=function(){return ts.apply(this,arguments),this},m.setPage=function(){return ns.apply(this,arguments),ge.call(this,Te[S]),this},m.insertPage=function(u){return this.addPage(),this.movePage(S,u),this},m.movePage=function(u,y){var I,J;if(u>y){I=Te[u],J=et[u];for(var V=u;V>y;V--)Te[V]=Te[V-1],et[V]=et[V-1];Te[y]=I,et[y]=J,this.setPage(y)}else if(u<y){I=Te[u],J=et[u];for(var he=u;he<y;he++)Te[he]=Te[he+1],et[he]=et[he+1];Te[y]=I,et[y]=J,this.setPage(y)}return this},m.deletePage=function(){return Tl.apply(this,arguments),this},m.__private__.text=m.text=function(u,y,I,J,V){var he,we,Ie,Je,it,tt,pt,It,Jt,$t=(J=J||{}).scope||this;if("number"==typeof u&&"number"==typeof y&&("string"==typeof I||Array.isArray(I))){var Tn=I;I=y,y=u,u=Tn}if(arguments[3]instanceof Qe?(j("The transform parameter of text() with a Matrix value"),Jt=V):(Ie=arguments[4],Je=arguments[5],"object"===bt(pt=arguments[3])&&null!==pt||("string"==typeof Ie&&(Je=Ie,Ie=null),"string"==typeof pt&&(Je=pt,pt=null),"number"==typeof pt&&(Ie=pt,pt=null),J={flags:pt,angle:Ie,align:Je})),isNaN(y)||isNaN(I)||null==u)throw new Error("Invalid arguments passed to jsPDF.text");if(0===u.length)return $t;var cn="",mi=!1,Bn="number"==typeof J.lineHeightFactor?J.lineHeightFactor:Pa,Li=$t.internal.scaleFactor;function fs(kt){return kt=kt.split("\t").join(Array(J.TabLen||9).join(" ")),qn(kt,pt)}function ar(kt){for(var Mt,Kt=kt.concat(),rn=[],Bi=Kt.length;Bi--;)"string"==typeof(Mt=Kt.shift())?rn.push(Mt):Array.isArray(kt)&&(1===Mt.length||void 0===Mt[1]&&void 0===Mt[2])?rn.push(Mt[0]):rn.push([Mt[0],Mt[1],Mt[2]]);return rn}function or(kt,Mt){var Kt;if("string"==typeof kt)Kt=Mt(kt)[0];else if(Array.isArray(kt)){for(var rn,Bi,hr=kt.concat(),Zo=[],bs=hr.length;bs--;)"string"==typeof(rn=hr.shift())?Zo.push(Mt(rn)[0]):Array.isArray(rn)&&"string"==typeof rn[0]&&(Bi=Mt(rn[0],rn[1],rn[2]),Zo.push([Bi[0],Bi[1],Bi[2]]));Kt=Zo}return Kt}var _o=!1,rr=!0;if("string"==typeof u)_o=!0;else if(Array.isArray(u)){var sr=u.concat();we=[];for(var vo,mn=sr.length;mn--;)("string"!=typeof(vo=sr.shift())||Array.isArray(vo)&&"string"!=typeof vo[0])&&(rr=!1);_o=rr}if(!1===_o)throw new Error('Type of text must be string or Array. "'+u+'" is not recognized.');"string"==typeof u&&(u=u.match(/[\r?\n]/)?u.split(/\r\n|\r|\n/g):[u]);var bo=Ne/$t.internal.scaleFactor,yo=bo*(Bn-1);switch(J.baseline){case"bottom":I-=yo;break;case"top":I+=bo-yo;break;case"hanging":I+=bo-2*yo;break;case"middle":I+=bo/2-yo}if((tt=J.maxWidth||0)>0&&("string"==typeof u?u=$t.splitTextToSize(u,tt):"[object Array]"===Object.prototype.toString.call(u)&&(u=u.reduce(function(kt,Mt){return kt.concat($t.splitTextToSize(Mt,tt))},[]))),vt.publish("preProcessText",he={text:u,x:y,y:I,options:J,mutex:{pdfEscape:qn,activeFontKey:lt,fonts:Nt,activeFontSize:Ne}}),u=he.text,Ie=(J=he.options).angle,Jt instanceof Qe||!Ie||"number"!=typeof Ie)Ie&&Ie instanceof Qe&&(Jt=Ie);else{Ie*=Math.PI/180,0===J.rotationDirection&&(Ie=-Ie),G===E.ADVANCED&&(Ie=-Ie);var xo=Math.cos(Ie),lr=Math.sin(Ie);Jt=new Qe(xo,lr,-lr,xo,0,0)}G!==E.ADVANCED||Jt||(Jt=Zi),void 0!==(it=J.charSpace||fo)&&(cn+=X(M(it))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(It=J.horizontalScale)&&(cn+=X(100*It)+" Tz\n");var En=-1,Jl=void 0!==J.renderingMode?J.renderingMode:J.stroke,cr=$t.internal.getCurrentPageInfo().pageContext;switch(Jl){case 0:case!1:case"fill":En=0;break;case 1:case!0:case"stroke":En=1;break;case 2:case"fillThenStroke":En=2;break;case 3:case"invisible":En=3;break;case 4:case"fillAndAddForClipping":En=4;break;case 5:case"strokeAndAddPathForClipping":En=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":En=6;break;case 7:case"addToPathForClipping":En=7}var ms=void 0!==cr.usedRenderingMode?cr.usedRenderingMode:-1;-1!==En?cn+=En+" Tr\n":-1!==ms&&(cn+="0 Tr\n"),-1!==En&&(cr.usedRenderingMode=En),Je=J.align||"left";var Wn,wo=Ne*Bn,gs=$t.internal.pageSize.getWidth(),_s=Nt[lt];it=J.charSpace||fo,tt=J.maxWidth||0,pt=Object.assign({autoencode:!0,noBOM:!0},J.flags);var ia=[],La=function(kt){return $t.getStringUnitWidth(kt,{font:_s,charSpace:it,fontSize:Ne,doKerning:!1})*Ne/Li};if("[object Array]"===Object.prototype.toString.call(u)){var Sn;we=ar(u),"left"!==Je&&(Wn=we.map(La));var Pn,aa=0;if("right"===Je){y-=Wn[0],u=[],mn=we.length;for(var Oi=0;Oi<mn;Oi++)0===Oi?(Pn=Mi(y),Sn=Ui(I)):(Pn=M(aa-Wn[Oi]),Sn=-wo),u.push([we[Oi],Pn,Sn]),aa=Wn[Oi]}else if("center"===Je){y-=Wn[0]/2,u=[],mn=we.length;for(var Di=0;Di<mn;Di++)0===Di?(Pn=Mi(y),Sn=Ui(I)):(Pn=M((aa-Wn[Di])/2),Sn=-wo),u.push([we[Di],Pn,Sn]),aa=Wn[Di]}else if("left"===Je){u=[],mn=we.length;for(var Ao=0;Ao<mn;Ao++)u.push(we[Ao])}else if("justify"===Je&&"Identity-H"===_s.encoding){u=[],mn=we.length,tt=0!==tt?tt:gs;for(var ji=0,Yt=0;Yt<mn;Yt++)if(Sn=0===Yt?Ui(I):-wo,Pn=0===Yt?Mi(y):ji,Yt<mn-1){var ur=M((tt-Wn[Yt])/(we[Yt].split(" ").length-1)),kn=we[Yt].split(" ");u.push([kn[0]+" ",Pn,Sn]),ji=0;for(var Vn=1;Vn<kn.length;Vn++){var Co=(La(kn[Vn-1]+" "+kn[Vn])-La(kn[Vn]))*Li+ur;u.push(Vn==kn.length-1?[kn[Vn],Co,0]:[kn[Vn]+" ",Co,0]),ji-=Co}}else u.push([we[Yt],Pn,Sn]);u.push(["",ji,0])}else{if("justify"!==Je)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(u=[],mn=we.length,tt=0!==tt?tt:gs,Yt=0;Yt<mn;Yt++)Sn=0===Yt?Ui(I):-wo,Pn=0===Yt?Mi(y):0,ia.push(Yt<mn-1?X(M((tt-Wn[Yt])/(we[Yt].split(" ").length-1))):0),u.push([we[Yt],Pn,Sn])}}var vs="boolean"==typeof J.R2L?J.R2L:Be;!0===vs&&(u=or(u,function(kt,Mt,Kt){return[kt.split("").reverse().join(""),Mt,Kt]})),vt.publish("postProcessText",he={text:u,x:y,y:I,options:J,mutex:{pdfEscape:qn,activeFontKey:lt,fonts:Nt,activeFontSize:Ne}}),u=he.text,mi=he.mutex.isHex||!1;var dr=Nt[lt].encoding;"WinAnsiEncoding"!==dr&&"StandardEncoding"!==dr||(u=or(u,function(kt,Mt,Kt){return[fs(kt),Mt,Kt]})),we=ar(u),u=[];for(var Fa,qa,oa,Ea=0,To=1,Sa=Array.isArray(we[0])?To:Ea,ra="",pr=function(kt,Mt,Kt){var rn="";return Kt instanceof Qe?(Kt="number"==typeof J.angle?ci(Kt,new Qe(1,0,0,1,kt,Mt)):ci(new Qe(1,0,0,1,kt,Mt),Kt),G===E.ADVANCED&&(Kt=ci(new Qe(1,0,0,-1,0,0),Kt)),rn=Kt.join(" ")+" Tm\n"):rn=X(kt)+" "+X(Mt)+" Td\n",rn},$n=0;$n<we.length;$n++){switch(ra="",Sa){case To:oa=(mi?"<":"(")+we[$n][0]+(mi?">":")"),Fa=parseFloat(we[$n][1]),qa=parseFloat(we[$n][2]);break;case Ea:oa=(mi?"<":"(")+we[$n]+(mi?">":")"),Fa=Mi(y),qa=Ui(I)}void 0!==ia&&void 0!==ia[$n]&&(ra=ia[$n]+" Tw\n"),0===$n?u.push(ra+pr(Fa,qa,Jt)+oa):Sa===Ea?u.push(ra+oa):Sa===To&&u.push(ra+pr(Fa,qa,Jt)+oa)}u=u.join(Sa===Ea?" Tj\nT* ":" Tj\n"),u+=" Tj\n";var Xn="BT\n/";return Xn+=lt+" "+Ne+" Tf\n",Xn+=X(Ne*Bn)+" TL\n",Xn+=ka+"\n",Xn+=cn,Xn+=u,D(Xn+="ET"),C[lt]=!0,$t};var ql=m.__private__.clip=m.clip=function(u){return D("evenodd"===u?"W*":"W"),this};m.clipEvenOdd=function(){return ql("evenodd")},m.__private__.discardPath=m.discardPath=function(){return D("n"),this};var ki=m.__private__.isValidStyle=function(u){var y=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(u)&&(y=!0),y};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(u){return ki(u)&&(g=u),this};var rs=m.__private__.getStyle=m.getStyle=function(u){var y=g;switch(u){case"D":case"S":y="S";break;case"F":y="f";break;case"FD":case"DF":y="B";break;case"f":case"f*":case"B":case"B*":y=u}return y},ss=m.close=function(){return D("h"),this};m.stroke=function(){return D("S"),this},m.fill=function(u){return po("f",u),this},m.fillEvenOdd=function(u){return po("f*",u),this},m.fillStroke=function(u){return po("B",u),this},m.fillStrokeEvenOdd=function(u){return po("B*",u),this};var po=function(u,y){"object"===bt(y)?Sl(y,u):D(u)},Yo=function(u){null===u||G===E.ADVANCED&&void 0===u||(u=rs(u),D(u))};function El(u,y,I,J,V){var he=new Ya(y||this.boundingBox,I||this.xStep,J||this.yStep,this.gState,V||this.matrix);he.stream=this.stream;var we=u+"$$"+this.cloneIndex+++"$$";return Fn(we,he),he}var Sl=function(u,y){var I=Ca[u.key],J=_t[I];if(J instanceof xa)D("q"),D(Il(y)),J.gState&&m.setGState(J.gState),D(u.matrix.toString()+" cm"),D("/"+I+" sh"),D("Q");else if(J instanceof Ya){var V=new Qe(1,0,0,-1,0,na());u.matrix&&(V=V.multiply(u.matrix||Zi),I=El.call(J,u.key,u.boundingBox,u.xStep,u.yStep,V).id),D("q"),D("/Pattern cs"),D("/"+I+" scn"),J.gState&&m.setGState(J.gState),D(y),D("Q")}},Il=function(u){switch(u){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ko=m.moveTo=function(u,y){return D(X(M(u))+" "+X(B(y))+" m"),this},Na=m.lineTo=function(u,y){return D(X(M(u))+" "+X(B(y))+" l"),this},ea=m.curveTo=function(u,y,I,J,V,he){return D([X(M(u)),X(B(y)),X(M(I)),X(B(J)),X(M(V)),X(B(he)),"c"].join(" ")),this};m.__private__.line=m.line=function(u,y,I,J,V){if(isNaN(u)||isNaN(y)||isNaN(I)||isNaN(J)||!ki(V))throw new Error("Invalid arguments passed to jsPDF.line");return G===E.COMPAT?this.lines([[I-u,J-y]],u,y,[1,1],V||"S"):this.lines([[I-u,J-y]],u,y,[1,1]).stroke()},m.__private__.lines=m.lines=function(u,y,I,J,V,he){var we,Ie,Je,it,tt,Tn,cn,mi;if("number"==typeof u&&(mi=I,I=y,y=u,u=mi),J=J||[1,1],he=he||!1,isNaN(y)||isNaN(I)||!Array.isArray(u)||!Array.isArray(J)||!ki(V)||"boolean"!=typeof he)throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(y,I),we=J[0],Ie=J[1],it=u.length,Tn=y,cn=I,Je=0;Je<it;Je++)2===(tt=u[Je]).length?Na(Tn=tt[0]*we+Tn,cn=tt[1]*Ie+cn):ea(tt[0]*we+Tn,tt[1]*Ie+cn,tt[2]*we+Tn,tt[3]*Ie+cn,Tn=tt[4]*we+Tn,cn=tt[5]*Ie+cn);return he&&ss(),Yo(V),this},m.path=function(u){for(var y=0;y<u.length;y++){var I=u[y],J=I.c;switch(I.op){case"m":Ko(J[0],J[1]);break;case"l":Na(J[0],J[1]);break;case"c":ea.apply(this,J);break;case"h":ss()}}return this},m.__private__.rect=m.rect=function(u,y,I,J,V){if(isNaN(u)||isNaN(y)||isNaN(I)||isNaN(J)||!ki(V))throw new Error("Invalid arguments passed to jsPDF.rect");return G===E.COMPAT&&(J=-J),D([X(M(u)),X(B(y)),X(M(I)),X(M(J)),"re"].join(" ")),Yo(V),this},m.__private__.triangle=m.triangle=function(u,y,I,J,V,he,we){if(isNaN(u)||isNaN(y)||isNaN(I)||isNaN(J)||isNaN(V)||isNaN(he)||!ki(we))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[I-u,J-y],[V-I,he-J],[u-V,y-he]],u,y,[1,1],we,!0),this},m.__private__.roundedRect=m.roundedRect=function(u,y,I,J,V,he,we){if(isNaN(u)||isNaN(y)||isNaN(I)||isNaN(J)||isNaN(V)||isNaN(he)||!ki(we))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ie=4/3*(Math.SQRT2-1);return V=Math.min(V,.5*I),he=Math.min(he,.5*J),this.lines([[I-2*V,0],[V*Ie,0,V,he-he*Ie,V,he],[0,J-2*he],[0,he*Ie,-V*Ie,he,-V,he],[2*V-I,0],[-V*Ie,0,-V,-he*Ie,-V,-he],[0,2*he-J],[0,-he*Ie,V*Ie,-he,V,-he]],u+V,y,[1,1],we,!0),this},m.__private__.ellipse=m.ellipse=function(u,y,I,J,V){if(isNaN(u)||isNaN(y)||isNaN(I)||isNaN(J)||!ki(V))throw new Error("Invalid arguments passed to jsPDF.ellipse");var he=4/3*(Math.SQRT2-1)*I,we=4/3*(Math.SQRT2-1)*J;return Ko(u+I,y),ea(u+I,y-we,u+he,y-J,u,y-J),ea(u-he,y-J,u-I,y-we,u-I,y),ea(u-I,y+we,u-he,y+J,u,y+J),ea(u+he,y+J,u+I,y+we,u+I,y),Yo(V),this},m.__private__.circle=m.circle=function(u,y,I,J){if(isNaN(u)||isNaN(y)||isNaN(I)||!ki(J))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(u,y,I,I,J)},m.setFont=function(u,y,I){return I&&(y=ye(y,I)),lt=is(u,y,{disableWarning:!1}),this};var Ul=m.__private__.getFont=m.getFont=function(){return Nt[is.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var u,y,I={};for(u in Et)if(Et.hasOwnProperty(u))for(y in I[u]=[],Et[u])Et[u].hasOwnProperty(y)&&I[u].push(y);return I},m.addFont=function(u,y,I,J,V){var he=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==he.indexOf(arguments[3])?V=arguments[3]:arguments[3]&&-1==he.indexOf(arguments[3])&&(I=ye(I,J)),Qo.call(this,u,y,I,V=V||"Identity-H")};var Pa,Wo=i.lineWidth||.200025,ho=m.__private__.getLineWidth=m.getLineWidth=function(){return Wo},ls=m.__private__.setLineWidth=m.setLineWidth=function(u){return Wo=u,D(X(M(u))+" w"),this};m.__private__.setLineDash=ze.API.setLineDash=ze.API.setLineDashPattern=function(u,y){if(u=u||[],y=y||0,isNaN(y)||!Array.isArray(u))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return u=u.map(function(I){return X(M(I))}).join(" "),y=X(M(y)),D("["+u+"] "+y+" d"),this};var cs=m.__private__.getLineHeight=m.getLineHeight=function(){return Ne*Pa};m.__private__.getLineHeight=m.getLineHeight=function(){return Ne*Pa};var us=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(u){return"number"==typeof(u=u||1.15)&&(Pa=u),this},ds=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Pa};us(i.lineHeight);var Mi=m.__private__.getHorizontalCoordinate=function(u){return M(u)},Ui=m.__private__.getVerticalCoordinate=function(u){return G===E.ADVANCED?u:et[S].mediaBox.topRightY-et[S].mediaBox.bottomLeftY-M(u)},Ol=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(u){return X(Mi(u))},ta=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(u){return X(Ui(u))},fi=i.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return di(fi)},m.__private__.setStrokeColor=m.setDrawColor=function(u,y,I,J){return fi=pi({ch1:u,ch2:y,ch3:I,ch4:J,pdfColorType:"draw",precision:2}),D(fi),this};var Vo=i.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return di(Vo)},m.__private__.setFillColor=m.setFillColor=function(u,y,I,J){return Vo=pi({ch1:u,ch2:y,ch3:I,ch4:J,pdfColorType:"fill",precision:2}),D(Vo),this};var ka=i.textColor||"0 g",Dl=m.__private__.getTextColor=m.getTextColor=function(){return di(ka)};m.__private__.setTextColor=m.setTextColor=function(u,y,I,J){return ka=pi({ch1:u,ch2:y,ch3:I,ch4:J,pdfColorType:"text",precision:3}),this};var fo=i.charSpace,jl=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(fo||0)};m.__private__.setCharSpace=m.setCharSpace=function(u){if(isNaN(u))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fo=u,this};var $o=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(u){var y=m.CapJoinStyles[u];if(void 0===y)throw new Error("Line cap style of '"+u+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $o=y,D(y+" J"),this};var Xo=0;m.__private__.setLineJoin=m.setLineJoin=function(u){var y=m.CapJoinStyles[u];if(void 0===y)throw new Error("Line join style of '"+u+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xo=y,D(y+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(u){if(u=u||0,isNaN(u))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return D(X(M(u))+" M"),this},m.GState=jr,m.setGState=function(u){(u="string"==typeof u?jt[li[u]]:ps(null,u)).equals(Ei)||(D("/"+u.id+" gs"),Ei=u)};var ps=function(u,y){if(!u||!li[u]){var I=!1;for(var J in jt)if(jt.hasOwnProperty(J)&&jt[J].equals(y)){I=!0;break}if(I)y=jt[J];else{var V="GS"+(Object.keys(jt).length+1).toString(10);jt[V]=y,y.id=V}return u&&(li[u]=y.id),vt.publish("addGState",y),y}};m.addGState=function(u,y){return ps(u,y),this},m.saveGraphicsState=function(){return D("q"),Ai.push({key:lt,size:Ne,color:ka}),this},m.restoreGraphicsState=function(){D("Q");var u=Ai.pop();return lt=u.key,Ne=u.size,ka=u.color,Ei=null,this},m.setCurrentTransformationMatrix=function(u){return D(u.toString()+" cm"),this},m.comment=function(u){return D("#"+u),this};var mo=function(u,y){var I=u||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return I},set:function(he){isNaN(he)||(I=parseFloat(he))}});var J=y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return J},set:function(he){isNaN(he)||(J=parseFloat(he))}});var V="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return V},set:function(he){V=he.toString()}}),this},er=function(u,y,I,J){mo.call(this,u,y),this.type="rect";var V=I||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return V},set:function(we){isNaN(we)||(V=parseFloat(we))}});var he=J||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return he},set:function(we){isNaN(we)||(he=parseFloat(we))}}),this},tr=function(){this.page=Bt,this.currentPage=S,this.pages=Te.slice(0),this.pagesContext=et.slice(0),this.x=An,this.y=mt,this.matrix=si,this.width=Ma(S),this.height=na(S),this.outputDestination=ke,this.id="",this.objectNumber=-1};tr.prototype.restore=function(){Bt=this.page,et=this.pagesContext,Te=this.pages,An=this.x,mt=this.y,si=this.matrix,nr(S=this.currentPage,this.width),ir(S,this.height),ke=this.outputDestination};var hs=function(u,y,I,J,V){Ti.push(new tr),Bt=S=0,Te=[],An=u,mt=y,si=V,Ho([I,J])},Bl=function(u){if(Ci[u])Ti.pop().restore();else{var y=new tr,I="Xo"+(Object.keys(fn).length+1).toString(10);y.id=I,Ci[u]=I,fn[I]=y,vt.publish("addFormObject",y),Ti.pop().restore()}};for(var go in m.beginFormObject=function(u,y,I,J,V){return hs(u,y,I,J,V),this},m.endFormObject=function(u){return Bl(u),this},m.doFormObject=function(u,y){var I=fn[Ci[u]];return D("q"),D(y.toString()+" cm"),D("/"+I.id+" Do"),D("Q"),this},m.getFormObject=function(u){var y=fn[Ci[u]];return{x:y.x,y:y.y,width:y.width,height:y.height,matrix:y.matrix}},m.save=function(u,y){return u=u||"generated.pdf",(y=y||{}).returnPromise=y.returnPromise||!1,!1===y.returnPromise?(ya(co(Ii()),u),"function"==typeof ya.unload&&Ge.setTimeout&&setTimeout(ya.unload,911),this):new Promise(function(I,J){try{var V=ya(co(Ii()),u);"function"==typeof ya.unload&&Ge.setTimeout&&setTimeout(ya.unload,911),I(V)}catch(he){J(he.message)}})},ze.API)ze.API.hasOwnProperty(go)&&("events"===go&&ze.API.events.length?function(u,y){var J,V;for(V=y.length-1;-1!==V;V--)u.subscribe.apply(u,[y[V][0]].concat("function"==typeof(J=y[V][1])?[J]:J))}(vt,ze.API.events):m[go]=ze.API[go]);var Ma=m.getPageWidth=function(u){return(et[u=u||S].mediaBox.topRightX-et[u].mediaBox.bottomLeftX)/Se},nr=m.setPageWidth=function(u,y){et[u].mediaBox.topRightX=y*Se+et[u].mediaBox.bottomLeftX},na=m.getPageHeight=function(u){return(et[u=u||S].mediaBox.topRightY-et[u].mediaBox.bottomLeftY)/Se},ir=m.setPageHeight=function(u,y){et[u].mediaBox.topRightY=y*Se+et[u].mediaBox.bottomLeftY};return m.internal={pdfEscape:qn,getStyle:rs,getFont:Ul,getFontSize:Le,getCharSpace:jl,getTextColor:Dl,getLineHeight:cs,getLineHeightFactor:ds,getLineWidth:ho,write:nt,getHorizontalCoordinate:Mi,getVerticalCoordinate:Ui,getCoordinateString:Ol,getVerticalCoordinateString:ta,collections:{},newObject:on,newAdditionalObject:to,newObjectDeferred:Vt,newObjectDeferredBegin:jn,getFilters:Ni,putStream:Kn,events:vt,scaleFactor:Se,pageSize:{getWidth:function(){return Ma(S)},setWidth:function(u){nr(S,u)},getHeight:function(){return na(S)},setHeight:function(u){ir(S,u)}},encryptionOptions:_,encryption:Cn,getEncryptor:Ll,output:uo,getNumberOfPages:Zl,pages:Te,out:D,f2:fe,f3:P,getPageInfo:os,getPageInfoByObjId:Ve,getCurrentPageInfo:Fl,getPDFVersion:k,Point:mo,Rectangle:er,Matrix:Qe,hasHotfix:as},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ma(S)},set:function(u){nr(S,u)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return na(S)},set:function(u){ir(S,u)},enumerable:!0,configurable:!0}),Cl.call(m,Ce),lt="F1",ts(o,t),vt.publish("initialized"),m}Ha.prototype.lsbFirstWord=function(i){return String.fromCharCode(i>>0&255,i>>8&255,i>>16&255,i>>24&255)},Ha.prototype.toHexString=function(i){return i.split("").map(function(a){return("0"+(255&a.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ha.prototype.hexToBytes=function(i){for(var a=[],t=0;t<i.length;t+=2)a.push(String.fromCharCode(parseInt(i.substr(t,2),16)));return a.join("")},Ha.prototype.processOwnerPassword=function(i,a){return cl(ll(a).substr(0,5),i)},Ha.prototype.encryptor=function(i,a){var t=ll(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&a,a>>8&255)).substr(0,10);return function(n){return cl(t,n)}},jr.prototype.equals=function(i){var a,t="id,objectNumber,equals";if(!i||bt(i)!==bt(this))return!1;var n=0;for(a in this)if(!(t.indexOf(a)>=0)){if(this.hasOwnProperty(a)&&!i.hasOwnProperty(a)||this[a]!==i[a])return!1;n++}for(a in i)i.hasOwnProperty(a)&&t.indexOf(a)<0&&n--;return 0===n},ze.API={events:[]},ze.version="3.0.1";var Dt=ze.API,ul=1,wa=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ka=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$e=function(i){return i.toFixed(2)},$i=function(i){return i.toFixed(5)};Dt.__acroform__={};var Ln=function(i,a){i.prototype=Object.create(a.prototype),i.prototype.constructor=i},tu=function(i){return i*ul},yi=function(i){var a=new iu,t=Oe.internal.getHeight(i)||0,n=Oe.internal.getWidth(i)||0;return a.BBox=[0,0,Number($e(n)),Number($e(t))],a},Lh=Dt.__acroform__.setBit=function(i,a){if(i=i||0,a=a||0,isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<a},Fh=Dt.__acroform__.clearBit=function(i,a){if(i=i||0,a=a||0,isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<a)},qh=Dt.__acroform__.getBit=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(i&1<<a)?0:1},zt=Dt.__acroform__.getBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qh(i,a-1)},Qt=Dt.__acroform__.setBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Lh(i,a-1)},Ht=Dt.__acroform__.clearBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Fh(i,a-1)},Eh=Dt.__acroform__.calculateCoordinates=function(i,a){var t=a.internal.getHorizontalCoordinate,n=a.internal.getVerticalCoordinate,o=i[0],r=i[1],c=i[2],d=i[3],h={};return h.lowerLeft_X=t(o)||0,h.lowerLeft_Y=n(r+d)||0,h.upperRight_X=t(o+c)||0,h.upperRight_Y=n(r)||0,[Number($e(h.lowerLeft_X)),Number($e(h.lowerLeft_Y)),Number($e(h.upperRight_X)),Number($e(h.upperRight_Y))]},Sh=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var a=[],n=dl(i,i._V||i.DV),o=i.scope.internal.getFont(i.fontName,i.fontStyle).id;a.push("/Tx BMC"),a.push("q"),a.push("BT"),a.push(i.scope.__private__.encodeColorString(i.color)),a.push("/"+o+" "+$e(n.fontSize)+" Tf"),a.push("1 0 0 1 0 0 Tm"),a.push(n.text),a.push("ET"),a.push("Q"),a.push("EMC");var r=yi(i);return r.scope=i.scope,r.stream=a.join("\n"),r}},dl=function(i,a){var t=0===i.fontSize?i.maxFontSize:i.fontSize,n={text:"",fontSize:""},o=(a=")"==(a="("==a.substr(0,1)?a.substr(1):a).substr(a.length-1)?a.substr(0,a.length-1):a).split(" ");o=o.map(i.multiline?function(P){return P.split("\n")}:function(P){return[P]});var r=t,c=Oe.internal.getHeight(i)||0;c=c<0?-c:c;var P,d=Oe.internal.getWidth(i)||0;d=d<0?-d:d,r++;e:for(;r>0;){a="",r--;var g,_,v=Br("3",i,r).height,C=i.multiline?c-r:(c-v)/2,m=C+=2,F=0,k=0,q=0;if(r<=0){a="(...) Tj\n",a+="% Width of Text: "+Br(a,i,r=12).width+", FieldWidth:"+d+"\n";break}for(var Z="",E=0,G=0;G<o.length;G++)if(o.hasOwnProperty(G)){var $=!1;if(1!==o[G].length&&q!==o[G].length-1){if((v+2)*(E+2)+2>c)continue e;Z+=o[G][q],$=!0,k=G,G--}else{Z=" "==(Z+=o[G][q]+" ").substr(Z.length-1)?Z.substr(0,Z.length-1):Z;var le=parseInt(G),ye=(P=le)+1<o.length&&Br(Z+" "+o[P+1][0],i,r).width<=d-4,X=G>=o.length-1;if(ye&&!X){Z+=" ",q=0;continue}if(ye||X){if(X)k=le;else if(i.multiline&&(v+2)*(E+2)+2>c)continue e}else{if(!i.multiline||(v+2)*(E+2)+2>c)continue e;k=le}}for(var j="",ie=F;ie<=k;ie++){var fe=o[ie];if(i.multiline){if(ie===k){j+=fe[q]+" ",q=(q+1)%fe.length;continue}if(ie===F){j+=fe[fe.length-1]+" ";continue}}j+=fe[0]+" "}switch(j=" "==j.substr(j.length-1)?j.substr(0,j.length-1):j,_=Br(j,i,r).width,i.textAlign){case"right":g=d-_-2;break;case"center":g=(d-_)/2;break;default:g=2}a+=$e(g)+" "+$e(m)+" Td\n",a+="("+wa(j)+") Tj\n",a+=-$e(g)+" 0 Td\n",m=-(r+2),_=0,F=$?k:k+1,E++,Z=""}break}return n.text=a,n.fontSize=r,n},Br=function(i,a,t){var n=a.scope.internal.getFont(a.fontName,a.fontStyle),o=a.scope.getStringUnitWidth(i,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:a.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:o}},Ih={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uh=function(i,a){var t={type:"reference",object:i};void 0===a.internal.getPageInfo(i.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})&&a.internal.getPageInfo(i.page).pageContext.annotations.push(t)},nu=Dt.__acroform__.arrayToPdfArray=function(i,a,t){var n=function(c){return c};if(Array.isArray(i)){for(var o="[",r=0;r<i.length;r++)switch(0!==r&&(o+=" "),bt(i[r])){case"boolean":case"number":case"object":o+=i[r].toString();break;case"string":"/"!==i[r].substr(0,1)?(void 0!==a&&t&&(n=t.internal.getEncryptor(a)),o+="("+wa(n(i[r].toString()))+")"):o+=i[r].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},pl=function(i,a,t){var n=function(o){return o};return void 0!==a&&t&&(n=t.internal.getEncryptor(a)),(i=i||"").toString(),"("+wa(n(i))+")"},xi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xi.prototype.toString=function(){return this.objId+" 0 R"},xi.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},xi.prototype.getKeyValueListForStream=function(){var i=[],a=Object.getOwnPropertyNames(this).filter(function(r){return"content"!=r&&"appearanceStreamContent"!=r&&"scope"!=r&&"objId"!=r&&"_"!=r.substring(0,1)});for(var t in a)if(!1===Object.getOwnPropertyDescriptor(this,a[t]).configurable){var n=a[t],o=this[n];o&&(Array.isArray(o)?i.push({key:n,value:nu(o,this.objId,this.scope)}):o instanceof xi?(o.scope=this.scope,i.push({key:n,value:o.objId+" 0 R"})):"function"!=typeof o&&i.push({key:n,value:o}))}return i};var iu=function(){xi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,a=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return a},set:function(t){a=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){i=t.trim()},get:function(){return i||null}})};Ln(iu,xi);var au=function(){xi.call(this);var i,a=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return a.length>0?a:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return a}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+wa(t(i))+")"}},set:function(t){i=t}})};Ln(au,xi);var ai=function i(){xi.call(this);var a=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return a},set:function(Z){if(isNaN(Z))throw new Error('Invalid value "'+Z+'" for attribute F supplied.');a=Z}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(a,3))},set:function(Z){this.F=!0===Boolean(Z)?Qt(a,3):Ht(a,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(Z){if(isNaN(Z))throw new Error('Invalid value "'+Z+'" for attribute Ff supplied.');t=Z}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(Z){n=void 0!==Z?Z:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(Z){n[0]=Z}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(Z){n[1]=Z}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(Z){n[2]=Z}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(Z){n[3]=Z}});var o="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return o},set:function(Z){switch(Z){case"/Btn":case"/Tx":case"/Ch":case"/Sig":o=Z;break;default:throw new Error('Invalid value "'+Z+'" for attribute FT supplied.')}}});var r=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!r||r.length<1){if(this instanceof zr)return;r="FieldObject"+i.FieldNum++}var Z=function(E){return E};return this.scope&&(Z=this.scope.internal.getEncryptor(this.objId)),"("+wa(Z(r))+")"},set:function(Z){r=Z.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return r},set:function(Z){r=Z}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(Z){c=Z}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(Z){d=Z}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(Z){h=Z}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===g?50/ul:g},set:function(Z){g=Z}});var _="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return _},set:function(Z){_=Z}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof zr||this instanceof Aa))return pl(v,this.objId,this.scope)},set:function(Z){Z=Z.toString(),v=Z}});var C=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(C)return this instanceof ln?C:pl(C,this.objId,this.scope)},set:function(Z){Z=Z.toString(),C=this instanceof ln?Z:"("===Z.substr(0,1)?Ka(Z.substr(1,Z.length-2)):Ka(Z)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ln?Ka(C.substr(1,C.length-1)):C},set:function(Z){Z=Z.toString(),C=this instanceof ln?"/"+Z:Z}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(Z){this.V=Z}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ln?m:pl(m,this.objId,this.scope)},set:function(Z){Z=Z.toString(),m=this instanceof ln?Z:"("===Z.substr(0,1)?Ka(Z.substr(1,Z.length-2)):Ka(Z)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ln?Ka(m.substr(1,m.length-1)):m},set:function(Z){Z=Z.toString(),m=this instanceof ln?"/"+Z:Z}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var F,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(Z){Z=Boolean(Z),k=Z}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(F)return F},set:function(Z){F=Z}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,1))},set:function(Z){this.Ff=!0===Boolean(Z)?Qt(this.Ff,1):Ht(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,2))},set:function(Z){this.Ff=!0===Boolean(Z)?Qt(this.Ff,2):Ht(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,3))},set:function(Z){this.Ff=!0===Boolean(Z)?Qt(this.Ff,3):Ht(this.Ff,3)}});var q=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==q)return q},set:function(Z){if(-1===[0,1,2].indexOf(Z))throw new Error('Invalid value "'+Z+'" for attribute Q supplied.');q=Z}}),Object.defineProperty(this,"textAlign",{get:function(){var Z;switch(q){case 0:default:Z="left";break;case 1:Z="center";break;case 2:Z="right"}return Z},configurable:!0,enumerable:!0,set:function(Z){switch(Z){case"right":case 2:q=2;break;case"center":case 1:q=1;break;default:q=0}}})};Ln(ai,xi);var Wa=function(){ai.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){i=t}});var a=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nu(a,this.objId,this.scope)},set:function(t){var n,o;o=[],"string"==typeof(n=t)&&(o=function(r,c,d){d||(d=1);for(var h,g=[];h=c.exec(r);)g.push(h[d]);return g}(n,/\((.*?)\)/g)),a=o}}),this.getOptions=function(){return a},this.setOptions=function(t){a=t,this.sort&&a.sort()},this.addOption=function(t){t=(t=t||"").toString(),a.push(t),this.sort&&a.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==a.indexOf(t)&&(a.splice(a.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?Qt(this.Ff,18):Ht(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?Qt(this.Ff,19):Ht(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=Qt(this.Ff,20),a.sort()):this.Ff=Ht(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?Qt(this.Ff,22):Ht(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?Qt(this.Ff,23):Ht(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?Qt(this.Ff,27):Ht(this.Ff,27)}}),this.hasAppearanceStream=!1};Ln(Wa,ai);var Va=function(){Wa.call(this),this.fontName="helvetica",this.combo=!1};Ln(Va,Wa);var $a=function(){Va.call(this),this.combo=!0};Ln($a,Va);var Jr=function(){$a.call(this),this.edit=!0};Ln(Jr,$a);var ln=function(){ai.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?Qt(this.Ff,15):Ht(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?Qt(this.Ff,16):Ht(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?Qt(this.Ff,17):Ht(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?Qt(this.Ff,26):Ht(this.Ff,26)}});var i,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(r){return r};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(a).length){var n,o=[];for(n in o.push("<<"),a)o.push("/"+n+" ("+wa(t(a[n]))+")");return o.push(">>"),o.join("\n")}},set:function(t){"object"===bt(t)&&(a=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(t){"string"==typeof t&&(a.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(t){i="/"+t}})};Ln(ln,ai);var Rr=function(){ln.call(this),this.pushButton=!0};Ln(Rr,ln);var Xa=function(){ln.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=void 0!==a?a:[]}})};Ln(Xa,ln);var zr=function(){var i,a;ai.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return a},set:function(o){a=o}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var o=function(d){return d};this.scope&&(o=this.scope.internal.getEncryptor(this.objId));var r,c=[];for(r in c.push("<<"),n)c.push("/"+r+" ("+wa(o(n[r]))+")");return c.push(">>"),c.join("\n")},set:function(o){"object"===bt(o)&&(n=o)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(o){"string"==typeof o&&(n.CA=o)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(o){t=o}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(o){t="/"+o}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Oe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ln(zr,ai),Xa.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var a in this.Kids)if(this.Kids.hasOwnProperty(a)){var t=this.Kids[a];t.appearanceStreamContent=i.createAppearanceStream(t.optionName),t.caption=i.getCA()}},Xa.prototype.createOption=function(i){var a=new zr;return a.Parent=this,a.optionName=i,this.Kids.push(a),jh.call(this.scope,a),a};var Qr=function(){ln.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Oe.CheckBox.createAppearanceStream()};Ln(Qr,ln);var Aa=function(){ai.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,13))},set:function(a){this.Ff=!0===Boolean(a)?Qt(this.Ff,13):Ht(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,21))},set:function(a){this.Ff=!0===Boolean(a)?Qt(this.Ff,21):Ht(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,23))},set:function(a){this.Ff=!0===Boolean(a)?Qt(this.Ff,23):Ht(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,24))},set:function(a){this.Ff=!0===Boolean(a)?Qt(this.Ff,24):Ht(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,25))},set:function(a){this.Ff=!0===Boolean(a)?Qt(this.Ff,25):Ht(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,26))},set:function(a){this.Ff=!0===Boolean(a)?Qt(this.Ff,26):Ht(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(a){Number.isInteger(a)&&(i=a)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ln(Aa,ai);var Hr=function(){Aa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(zt(this.Ff,14))},set:function(i){this.Ff=!0===Boolean(i)?Qt(this.Ff,14):Ht(this.Ff,14)}}),this.password=!0};Ln(Hr,Aa);var Oe={CheckBox:{createAppearanceStream:function(){return{N:{On:Oe.CheckBox.YesNormal},D:{On:Oe.CheckBox.YesPushDown,Off:Oe.CheckBox.OffPushDown}}},YesPushDown:function(i){var a=yi(i);a.scope=i.scope;var t=[],n=i.scope.internal.getFont(i.fontName,i.fontStyle).id,o=i.scope.__private__.encodeColorString(i.color),r=dl(i,i.caption);return t.push("0.749023 g"),t.push("0 0 "+$e(Oe.internal.getWidth(i))+" "+$e(Oe.internal.getHeight(i))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+$e(r.fontSize)+" Tf "+o),t.push("BT"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC"),a.stream=t.join("\n"),a},YesNormal:function(i){var a=yi(i);a.scope=i.scope;var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),o=[],r=Oe.internal.getHeight(i),c=Oe.internal.getWidth(i),d=dl(i,i.caption);return o.push("1 g"),o.push("0 0 "+$e(c)+" "+$e(r)+" re"),o.push("f"),o.push("q"),o.push("0 0 1 rg"),o.push("0 0 "+$e(c-1)+" "+$e(r-1)+" re"),o.push("W"),o.push("n"),o.push("0 g"),o.push("BT"),o.push("/"+t+" "+$e(d.fontSize)+" Tf "+n),o.push(d.text),o.push("ET"),o.push("Q"),a.stream=o.join("\n"),a},OffPushDown:function(i){var a=yi(i);a.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$e(Oe.internal.getWidth(i))+" "+$e(Oe.internal.getHeight(i))+" re"),t.push("f"),a.stream=t.join("\n"),a}},RadioButton:{Circle:{createAppearanceStream:function(i){var a={D:{Off:Oe.RadioButton.Circle.OffPushDown},N:{}};return a.N[i]=Oe.RadioButton.Circle.YesNormal,a.D[i]=Oe.RadioButton.Circle.YesPushDown,a},getCA:function(){return"l"},YesNormal:function(i){var a=yi(i);a.scope=i.scope;var t=[],n=Oe.internal.getWidth(i)<=Oe.internal.getHeight(i)?Oe.internal.getWidth(i)/4:Oe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var r=Number((n*Oe.internal.Bezier_C).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+$i(Oe.internal.getWidth(i)/2)+" "+$i(Oe.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+r+" "+r+" "+n+" 0 "+n+" c"),t.push("-"+r+" "+n+" -"+n+" "+r+" -"+n+" 0 c"),t.push("-"+n+" -"+r+" -"+r+" -"+n+" 0 -"+n+" c"),t.push(r+" -"+n+" "+n+" -"+r+" "+n+" 0 c"),t.push("f"),t.push("Q"),a.stream=t.join("\n"),a},YesPushDown:function(i){var a=yi(i);a.scope=i.scope;var t=[],n=Oe.internal.getWidth(i)<=Oe.internal.getHeight(i)?Oe.internal.getWidth(i)/4:Oe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),r=Number((o*Oe.internal.Bezier_C).toFixed(5)),c=Number((n*Oe.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$i(Oe.internal.getWidth(i)/2)+" "+$i(Oe.internal.getHeight(i)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+r+" "+r+" "+o+" 0 "+o+" c"),t.push("-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c"),t.push("-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c"),t.push(r+" -"+o+" "+o+" -"+r+" "+o+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+$i(Oe.internal.getWidth(i)/2)+" "+$i(Oe.internal.getHeight(i)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),t.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),t.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),t.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),t.push("f"),t.push("Q"),a.stream=t.join("\n"),a},OffPushDown:function(i){var a=yi(i);a.scope=i.scope;var t=[],n=Oe.internal.getWidth(i)<=Oe.internal.getHeight(i)?Oe.internal.getWidth(i)/4:Oe.internal.getHeight(i)/4;n=Number((.9*n).toFixed(5));var o=Number((2*n).toFixed(5)),r=Number((o*Oe.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$i(Oe.internal.getWidth(i)/2)+" "+$i(Oe.internal.getHeight(i)/2)+" cm"),t.push(o+" 0 m"),t.push(o+" "+r+" "+r+" "+o+" 0 "+o+" c"),t.push("-"+r+" "+o+" -"+o+" "+r+" -"+o+" 0 c"),t.push("-"+o+" -"+r+" -"+r+" -"+o+" 0 -"+o+" c"),t.push(r+" -"+o+" "+o+" -"+r+" "+o+" 0 c"),t.push("f"),t.push("Q"),a.stream=t.join("\n"),a}},Cross:{createAppearanceStream:function(i){var a={D:{Off:Oe.RadioButton.Cross.OffPushDown},N:{}};return a.N[i]=Oe.RadioButton.Cross.YesNormal,a.D[i]=Oe.RadioButton.Cross.YesPushDown,a},getCA:function(){return"8"},YesNormal:function(i){var a=yi(i);a.scope=i.scope;var t=[],n=Oe.internal.calculateCross(i);return t.push("q"),t.push("1 1 "+$e(Oe.internal.getWidth(i)-2)+" "+$e(Oe.internal.getHeight(i)-2)+" re"),t.push("W"),t.push("n"),t.push($e(n.x1.x)+" "+$e(n.x1.y)+" m"),t.push($e(n.x2.x)+" "+$e(n.x2.y)+" l"),t.push($e(n.x4.x)+" "+$e(n.x4.y)+" m"),t.push($e(n.x3.x)+" "+$e(n.x3.y)+" l"),t.push("s"),t.push("Q"),a.stream=t.join("\n"),a},YesPushDown:function(i){var a=yi(i);a.scope=i.scope;var t=Oe.internal.calculateCross(i),n=[];return n.push("0.749023 g"),n.push("0 0 "+$e(Oe.internal.getWidth(i))+" "+$e(Oe.internal.getHeight(i))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+$e(Oe.internal.getWidth(i)-2)+" "+$e(Oe.internal.getHeight(i)-2)+" re"),n.push("W"),n.push("n"),n.push($e(t.x1.x)+" "+$e(t.x1.y)+" m"),n.push($e(t.x2.x)+" "+$e(t.x2.y)+" l"),n.push($e(t.x4.x)+" "+$e(t.x4.y)+" m"),n.push($e(t.x3.x)+" "+$e(t.x3.y)+" l"),n.push("s"),n.push("Q"),a.stream=n.join("\n"),a},OffPushDown:function(i){var a=yi(i);a.scope=i.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+$e(Oe.internal.getWidth(i))+" "+$e(Oe.internal.getHeight(i))+" re"),t.push("f"),a.stream=t.join("\n"),a}}},createDefaultAppearanceStream:function(i){var a=i.scope.internal.getFont(i.fontName,i.fontStyle).id,t=i.scope.__private__.encodeColorString(i.color);return"/"+a+" "+i.fontSize+" Tf "+t}};Oe.internal={Bezier_C:.551915024494,calculateCross:function(i){var a=Oe.internal.getWidth(i),t=Oe.internal.getHeight(i),n=Math.min(a,t);return{x1:{x:(a-n)/2,y:(t-n)/2+n},x2:{x:(a-n)/2+n,y:(t-n)/2},x3:{x:(a-n)/2,y:(t-n)/2},x4:{x:(a-n)/2+n,y:(t-n)/2+n}}}},Oe.internal.getWidth=function(i){var a=0;return"object"===bt(i)&&(a=tu(i.Rect[2])),a},Oe.internal.getHeight=function(i){var a=0;return"object"===bt(i)&&(a=tu(i.Rect[3])),a};var i,a,jh=Dt.addField=function(i){if(function(i,a){if(a.scope=i,void 0!==i.internal&&(void 0===i.internal.acroformPlugin||!1===i.internal.acroformPlugin.isInitialized)){if(ai.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(Ih)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ul=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new au,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){var t;(t=i).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),i.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var o in n)if(n.hasOwnProperty(o)){var r=n[o];r.objId=void 0,r.hasAnnotation&&Uh(r,t)}}(i)}),i.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(i)}),i.internal.events.subscribe("postPutPages",function(t){!function(n,o){var r=!n;for(var c in n||(o.internal.newObjectDeferredBegin(o.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),o.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||o.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var d=n[c],h=[],g=d.Rect;if(d.Rect&&(d.Rect=Eh(d.Rect,o)),o.internal.newObjectDeferredBegin(d.objId,!0),d.DA=Oe.createDefaultAppearanceStream(d),"object"===bt(d)&&"function"==typeof d.getKeyValueListForStream&&(h=d.getKeyValueListForStream()),d.Rect=g,d.hasAppearanceStream&&!d.appearanceStreamContent){var _=Sh(d);h.push({key:"AP",value:"<</N "+_+">>"}),o.internal.acroformPlugin.xForms.push(_)}if(d.appearanceStreamContent){var v="";for(var C in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(C)){var m=d.appearanceStreamContent[C];if(v+="/"+C+" ",v+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var c in m)if(m.hasOwnProperty(c)){var F=m[c];"function"==typeof F&&(F=F.call(o,d)),v+="/"+c+" "+F+" ",o.internal.acroformPlugin.xForms.indexOf(F)>=0||o.internal.acroformPlugin.xForms.push(F)}}else"function"==typeof(F=m)&&(F=F.call(o,d)),v+="/"+c+" "+F,o.internal.acroformPlugin.xForms.indexOf(F)>=0||o.internal.acroformPlugin.xForms.push(F);v+=">>"}h.push({key:"AP",value:"<<\n"+v+">>"})}o.internal.putStream({additionalKeyValues:h,objectId:d.objId}),o.internal.out("endobj")}r&&function(i,a){for(var t in i)if(i.hasOwnProperty(t)){var n=t,o=i[t];a.internal.newObjectDeferredBegin(o.objId,!0),"object"===bt(o)&&"function"==typeof o.putStream&&o.putStream(),delete i[n]}}(o.internal.acroformPlugin.xForms,o)}(t,i)}),i.internal.acroformPlugin.isInitialized=!0}}(this,i),!(i instanceof ai))throw new Error("Invalid argument passed to jsPDF.addField.");var a;return(a=i).scope.internal.acroformPlugin.printedOut&&(a.scope.internal.acroformPlugin.printedOut=!1,a.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),a.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(a),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};function ou(i){return i.reduce(function(a,t,n){return a[t]=n,a},{})}Dt.AcroFormChoiceField=Wa,Dt.AcroFormListBox=Va,Dt.AcroFormComboBox=$a,Dt.AcroFormEditBox=Jr,Dt.AcroFormButton=ln,Dt.AcroFormPushButton=Rr,Dt.AcroFormRadioButton=Xa,Dt.AcroFormCheckBox=Qr,Dt.AcroFormTextField=Aa,Dt.AcroFormPasswordField=Hr,Dt.AcroFormAppearance=Oe,Dt.AcroForm={ChoiceField:Wa,ListBox:Va,ComboBox:$a,EditBox:Jr,Button:ln,PushButton:Rr,RadioButton:Xa,CheckBox:Qr,TextField:Aa,PasswordField:Hr,Appearance:Oe},ze.AcroForm={ChoiceField:Wa,ListBox:Va,ComboBox:$a,EditBox:Jr,Button:ln,PushButton:Rr,RadioButton:Xa,CheckBox:Qr,TextField:Aa,PasswordField:Hr,Appearance:Oe},function(i){i.__addimage__={};var a="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(P,M){var H,B,ce,oe,de,ne=a;if("RGBA"===(M=M||a)||void 0!==P.data&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(ye(P))for(de in t)for(ce=t[de],H=0;H<ce.length;H+=1){for(oe=!0,B=0;B<ce[H].length;B+=1)if(void 0!==ce[H][B]&&ce[H][B]!==P[B]){oe=!1;break}if(!0===oe){ne=de;break}}else for(de in t)for(ce=t[de],H=0;H<ce.length;H+=1){for(oe=!0,B=0;B<ce[H].length;B+=1)if(void 0!==ce[H][B]&&ce[H][B]!==P.charCodeAt(B)){oe=!1;break}if(!0===oe){ne=de;break}}return ne===a&&M!==a&&(ne=M),ne},o=function P(M){for(var H=this.internal.write,B=this.internal.putStream,ce=(0,this.internal.getFilters)();-1!==ce.indexOf("FlateEncode");)ce.splice(ce.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:M.width}),oe.push({key:"Height",value:M.height}),M.colorSpace===q.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&void 0!==M.sMask?M.objectId+2:M.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===q.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&void 0!==M.decodeParameters&&oe.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var de="",ne=0,pe=M.transparency.length;ne<pe;ne++)de+=M.transparency[ne]+" "+M.transparency[ne]+" ";oe.push({key:"Mask",value:"["+de+"]"})}if(void 0!==M.sMask&&oe.push({key:"SMask",value:M.objectId+1+" 0 R"}),B({data:M.data,additionalKeyValues:oe,alreadyAppliedFilters:void 0!==M.filter?["/"+M.filter]:void 0,objectId:M.objectId}),H("endobj"),"sMask"in M&&void 0!==M.sMask){var A={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:"/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,data:M.sMask};"filter"in M&&(A.filter=M.filter),P.call(this,A)}if(M.colorSpace===q.INDEXED){var S=this.internal.newObject();B({data:j(new Uint8Array(M.palette)),objectId:S}),H("endobj")}},r=function(){var P=this.internal.collections.addImage_images;for(var M in P)o.call(this,P[M])},c=function(){var P,M=this.internal.collections.addImage_images,H=this.internal.write;for(var B in M)H("/I"+(P=M[B]).index,P.objectId,"0","R")},d=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var P=this.internal.collections.addImage_images;return d.call(this),P},g=function(){return Object.keys(this.internal.collections.addImage_images).length},_=function(P){return"function"==typeof i["process"+P.toUpperCase()]},v=function(P){return"object"===bt(P)&&1===P.nodeType},C=function(P,M){if("IMG"===P.nodeName&&P.hasAttribute("src")){var H=""+P.getAttribute("src");if(0===H.indexOf("data:image/"))return Jo(unescape(H).split("base64,").pop());var B=i.loadFile(H,!0);if(void 0!==B)return B}if("CANVAS"===P.nodeName){if(0===P.width||0===P.height)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var ce;switch(M){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Jo(P.toDataURL(ce,1).split("base64,").pop())}},m=function(P){var M=this.internal.collections.addImage_images;if(M)for(var H in M)if(P===M[H].alias)return M[H]},F=function(P,M,H){return P||M||(P=-96,M=-96),P<0&&(P=-1*H.width*72/P/this.internal.scaleFactor),M<0&&(M=-1*H.height*72/M/this.internal.scaleFactor),0===P&&(P=M*H.width/H.height),0===M&&(M=P*H.height/H.width),[P,M]},k=function(P,M,H,B,ce,oe){var de=F.call(this,H,B,ce),ne=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,me=h.call(this);if(H=de[0],B=de[1],me[ce.index]=ce,oe){oe*=Math.PI/180;var qe=Math.cos(oe),A=Math.sin(oe),S=function(R){return R.toFixed(4)},O=[S(qe),S(A),S(-1*A),S(qe),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,ne(P),pe(M+B),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([ne(H),"0","0",ne(B),"0","0","cm"].join(" "))):this.internal.write([ne(H),"0","0",ne(B),ne(P),pe(M+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},q=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Z=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=i.__addimage__.sHashCode=function(P){var M,H,B=0;if("string"==typeof P)for(H=P.length,M=0;M<H;M++)B=(B<<5)-B+P.charCodeAt(M),B|=0;else if(ye(P))for(H=P.byteLength/2,M=0;M<H;M++)B=(B<<5)-B+P[M],B|=0;return B},G=i.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var M=!0;return 0===P.length&&(M=!1),P.length%4!=0&&(M=!1),!1===/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))&&(M=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))&&(M=!1),M},$=i.__addimage__.extractImageFromDataUrl=function(P){if(null==P||!(P=P.trim()).startsWith("data:"))return null;var M=P.indexOf(",");return M<0?null:P.substring(0,M).trim().endsWith("base64")?P.substring(M+1):null},le=i.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};i.__addimage__.isArrayBuffer=function(P){return le()&&P instanceof ArrayBuffer};var ye=i.__addimage__.isArrayBufferView=function(P){return le()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},X=i.__addimage__.binaryStringToUint8Array=function(P){for(var M=P.length,H=new Uint8Array(M),B=0;B<M;B++)H[B]=P.charCodeAt(B);return H},j=i.__addimage__.arrayBufferToBinaryString=function(P){for(var M="",H=ye(P)?P:new Uint8Array(P),B=0;B<H.length;B+=8192)M+=String.fromCharCode.apply(null,H.subarray(B,B+8192));return M};i.addImage=function(){var P,M,H,B,ce,oe,de,ne,pe;if("number"==typeof arguments[1]?(M=a,H=arguments[1],B=arguments[2],ce=arguments[3],oe=arguments[4],de=arguments[5],ne=arguments[6],pe=arguments[7]):(M=arguments[1],H=arguments[2],B=arguments[3],ce=arguments[4],oe=arguments[5],de=arguments[6],ne=arguments[7],pe=arguments[8]),"object"===bt(P=arguments[0])&&!v(P)&&"imageData"in P){var me=P;P=me.imageData,M=me.format||M||a,H=me.x||H||0,B=me.y||B||0,ce=me.w||me.width||ce,oe=me.h||me.height||oe,de=me.alias||de,ne=me.compression||ne,pe=me.rotation||me.angle||pe}var qe=this.internal.getFilters();if(void 0===ne&&-1!==qe.indexOf("FlateEncode")&&(ne="SLOW"),isNaN(H)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var A=ie.call(this,P,M,de,ne);return k.call(this,H,B,ce,oe,A,pe),this};var ie=function(P,M,H,B){var ce,oe,de,pe;if("string"==typeof P&&n(P)===a){P=unescape(P);var ne=fe(P,!1);(""!==ne||void 0!==(ne=i.loadFile(P,!0)))&&(P=ne)}if(v(P)&&(P=C(P,M)),M=n(P,M),!_(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if((null==(de=H)||0===de.length)&&(H="string"==typeof(pe=P)||ye(pe)?E(pe):ye(pe.data)?E(pe.data):null),(ce=m.call(this,H))||(le()&&(P instanceof Uint8Array||"RGBA"===M||(oe=P,P=X(P))),ce=this["process"+M.toUpperCase()](P,g.call(this),H,function(pe){return pe&&"string"==typeof pe&&(pe=pe.toUpperCase()),pe in i.image_compression?pe:Z.NONE}(B),oe)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},fe=i.__addimage__.convertBase64ToBinaryString=function(P,M){M="boolean"!=typeof M||M;var H,B="";if("string"==typeof P){var ce;H=null!==(ce=$(P))&&void 0!==ce?ce:P;try{B=Jo(H)}catch(oe){if(M)throw G(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};i.getImageProperties=function(P){var M,H,B="";if(v(P)&&(P=C(P)),"string"==typeof P&&n(P)===a&&(""===(B=fe(P,!1))&&(B=i.loadFile(P)||""),P=B),H=n(P),!_(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!le()||P instanceof Uint8Array||(P=X(P)),!(M=this["process"+H.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=H,M}}(ze.API),i=ze.API,a=function(t){if(void 0!==t&&""!=t)return!0},ze.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(t){for(var n,o,r,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),g=t.pageContext.annotations,_=!1,v=0;v<g.length&&!_;v++)switch((n=g[v]).type){case"link":(a(n.options.url)||a(n.options.pageNumber))&&(_=!0);break;case"reference":case"text":case"freetext":_=!0}if(0!=_){this.internal.write("/Annots [");for(var C=0;C<g.length;C++){n=g[C];var m=this.internal.pdfEscape,F=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),q=this.internal.newAdditionalObject(),Z=this.internal.getEncryptor(k.objId),E=n.title||"Note";r="<</Type /Annot /Subtype /Text "+(o="/Rect ["+c(n.bounds.x)+" "+d(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+d(n.bounds.y)+"] ")+"/Contents ("+m(Z(n.contents))+")",r+=" /Popup "+q.objId+" 0 R",r+=" /P "+h.objId+" 0 R",r+=" /T ("+m(Z(E))+") >>",k.content=r;var G=k.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(o="/Rect ["+c(n.bounds.x+30)+" "+d(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+d(n.bounds.y)+"] ")+" /Parent "+G,n.open&&(r+=" /Open true"),q.content=r+=" >>",this.internal.write(k.objId,"0 R",q.objId,"0 R");break;case"freetext":o="/Rect ["+c(n.bounds.x)+" "+d(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+d(n.bounds.y+n.bounds.h)+"] ";var $=n.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+o+"/Contents ("+m(F(n.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",r+=" /Border [0 0 0]",this.internal.write(r+=" >>");break;case"link":if(n.options.name){var le=this.annotations._nameMap[n.options.name];n.options.pageNumber=le.page,n.options.top=le.y}else n.options.top||(n.options.top=0);if(o="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",r="",n.options.url)r="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /A <</S /URI /URI ("+m(F(n.options.url))+") >>";else if(n.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+o+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,r+=" /FitV "+n.options.left+"]";break;default:var ye=d(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),r+=" /XYZ "+n.options.left+" "+ye+" "+n.options.zoom+"]"}""!=r&&this.internal.write(r+=" >>")}}this.internal.write("]")}}]),i.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},i.link=function(t,n,o,r,c){var d=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:h(t),y:g(n),w:h(t+o),h:g(n+r)},options:c,type:"link"})},i.textWithLink=function(t,n,o,r){var c,d,h=this.getTextWidth(t),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){var _=this.splitTextToSize(t,d=r.maxWidth).length;c=Math.ceil(g*_)}else d=h,c=g;return this.text(t,n,o,r),"center"===r.align&&(n-=h/2),"right"===r.align&&(n-=h),this.link(n,(o+=.2*g)-g,d,c,r),h},i.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor},function(i){var a={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},o=[1570,1571,1573,1575];i.__arabicParser__={};var r=i.__arabicParser__.isInArabicSubstitutionA=function(k){return void 0!==a[k.charCodeAt(0)]},c=i.__arabicParser__.isArabicLetter=function(k){return"string"==typeof k&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},d=i.__arabicParser__.isArabicEndLetter=function(k){return c(k)&&r(k)&&a[k.charCodeAt(0)].length<=2},h=i.__arabicParser__.isArabicAlfLetter=function(k){return c(k)&&o.indexOf(k.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return c(k)&&r(k)&&a[k.charCodeAt(0)].length>=1};var g=i.__arabicParser__.arabicLetterHasFinalForm=function(k){return c(k)&&r(k)&&a[k.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(k){return c(k)&&r(k)&&a[k.charCodeAt(0)].length>=3};var _=i.__arabicParser__.arabicLetterHasMedialForm=function(k){return c(k)&&r(k)&&4==a[k.charCodeAt(0)].length},v=i.__arabicParser__.resolveLigatures=function(k){var q=0,Z=t,E="",G=0;for(q=0;q<k.length;q+=1)void 0!==Z[k.charCodeAt(q)]?(G++,"number"==typeof(Z=Z[k.charCodeAt(q)])&&(E+=String.fromCharCode(Z),Z=t,G=0),q===k.length-1&&(Z=t,E+=k.charAt(q-(G-1)),q-=G-1,G=0)):(Z=t,E+=k.charAt(q-G),q-=G,G=0);return E};i.__arabicParser__.isArabicDiacritic=function(k){return void 0!==k&&void 0!==n[k.charCodeAt(0)]};var C=i.__arabicParser__.getCorrectForm=function(k,q,Z){return c(k)?!1===r(k)?-1:!g(k)||!c(q)&&!c(Z)||!c(Z)&&d(q)||d(k)&&!c(q)||d(k)&&h(q)||d(k)&&d(q)?0:_(k)&&c(q)&&!d(q)&&c(Z)&&g(Z)?3:d(k)||!c(Z)?1:2:-1},m=function(k){var q=0,Z=0,E=0,G="",$="",le="",ye=(k=k||"").split("\\s+"),X=[];for(q=0;q<ye.length;q+=1){for(X.push(""),Z=0;Z<ye[q].length;Z+=1)$=ye[q][Z-1],le=ye[q][Z+1],c(G=ye[q][Z])?(E=C(G,$,le),X[q]+=-1!==E?String.fromCharCode(a[G.charCodeAt(0)][E]):G):X[q]+=G;X[q]=v(X[q])}return X.join(" ")},F=i.__arabicParser__.processArabic=i.processArabic=function(){var k,q="string"==typeof arguments[0]?arguments[0]:arguments[0].text,Z=[];if(Array.isArray(q)){var E=0;for(Z=[],E=0;E<q.length;E+=1)Array.isArray(q[E])?Z.push([m(q[E][0]),q[E][1],q[E][2]]):Z.push([m(q[E])]);k=Z}else k=m(q);return"string"==typeof arguments[0]?k:(arguments[0].text=k,arguments[0])};i.events.push(["preProcessText",F])}(ze.API),ze.API.autoPrint=function(i){var a;return"javascript"===((i=i||{}).variant=i.variant||"non-conform",i.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+a+" 0 R")})),this},function(i){var a=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(d){t=d}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(d){n=isNaN(d)||!1===Number.isInteger(d)||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var o=300;Object.defineProperty(this,"height",{get:function(){return o},set:function(d){o=isNaN(d)||!1===Number.isInteger(d)||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=o+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(d){r=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};a.prototype.getContext=function(t,n){var o;if("2d"!==(t=t||"2d"))return null;for(o in n)this.pdf.context2d.hasOwnProperty(o)&&(this.pdf.context2d[o]=n[o]);return this.pdf.context2d._canvas=this,this.pdf.context2d},a.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new a,this.canvas.pdf=this}])}(ze.API),function(i){var a={left:0,top:0,bottom:0,right:0},t=!1,n=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},a),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(k){g=k}});var _=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return _},set:function(k){_=k}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(k){v=k}});var C=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return C},set:function(k){C=k}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var F=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return F},set:function(k){F=k}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction="function"==typeof h?h:void 0,this},i.getTextDimensions=function(h,g){n.call(this);var _=(g=g||{}).fontSize||this.getFontSize(),v=g.font||this.getFont(),C=g.scaleFactor||this.internal.scaleFactor,m=0,F=0,k=0,q=this;if(!Array.isArray(h)&&"string"!=typeof h){if("number"!=typeof h)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var Z=g.maxWidth;Z>0?"string"==typeof h?h=this.splitTextToSize(h,Z):"[object Array]"===Object.prototype.toString.call(h)&&(h=h.reduce(function(G,$){return G.concat(q.splitTextToSize($,Z))},[])):h=Array.isArray(h)?h:[h];for(var E=0;E<h.length;E++)m<(k=this.getStringUnitWidth(h[E],{font:v})*_)&&(m=k);return 0!==m&&(F=h.length),{w:m/=C,h:Math.max((F*_*this.getLineHeightFactor()-_*(this.getLineHeightFactor()-1))/C,0)}},i.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||a;return this.internal.__cell__.lastCell=new r(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=i.cell=function(){var h;h=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var g=this.internal.__cell__.lastCell,_=this.internal.__cell__.padding,v=this.internal.__cell__.margins||a,C=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return void 0!==g.lineNumber&&(g.lineNumber===h.lineNumber?(h.x=(g.x||0)+(g.width||0),h.y=g.y||0):g.y+g.height+h.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=v.top,m&&C&&(this.printHeaderRow(h.lineNumber,!0),h.y+=C[0].height)):h.y=g.y+g.height||h.y),void 0!==h.text[0]&&(this.rect(h.x,h.y,h.width,h.height,!0===t?"FD":void 0),"right"===h.align?this.text(h.text,h.x+h.width-_,h.y+_,{align:"right",baseline:"top"}):"center"===h.align?this.text(h.text,h.x+h.width/2,h.y+_,{align:"center",baseline:"top",maxWidth:h.width-_-_}):this.text(h.text,h.x+_,h.y+_,{align:"left",baseline:"top",maxWidth:h.width-_-_})),this.internal.__cell__.lastCell=h,this};i.table=function(h,g,_,v,C){if(n.call(this),!_)throw new Error("No data for PDF table.");var m,F,k,q,Z=[],E=[],G=[],$={},le={},ye=[],X=[],j=(C=C||{}).autoSize||!1,ie=!1!==C.printHeaders,fe=C.css&&void 0!==C.css["font-size"]?16*C.css["font-size"]:C.fontSize||12,P=C.margins||Object.assign({width:this.getPageWidth()},a),M="number"==typeof C.padding?C.padding:3,H=C.headerBackgroundColor||"#c8c8c8",B=C.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=ie,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=fe,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=B,this.setFontSize(fe),null==v)E=Z=Object.keys(_[0]),G=Z.map(function(){return"left"});else if(Array.isArray(v)&&"object"===bt(v[0]))for(Z=v.map(function(me){return me.name}),E=v.map(function(me){return me.prompt||me.name||""}),G=v.map(function(me){return me.align||"left"}),m=0;m<v.length;m+=1)le[v[m].name]=v[m].width*(19.049976/25.4);else Array.isArray(v)&&"string"==typeof v[0]&&(E=Z=v,G=Z.map(function(){return"left"}));if(j||Array.isArray(v)&&"string"==typeof v[0])for(m=0;m<Z.length;m+=1){for($[q=Z[m]]=_.map(function(me){return me[q]}),this.setFont(void 0,"bold"),ye.push(this.getTextDimensions(E[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),F=$[q],this.setFont(void 0,"normal"),k=0;k<F.length;k+=1)ye.push(this.getTextDimensions(F[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);le[q]=Math.max.apply(null,ye)+M+M,ye=[]}if(ie){var ce={};for(m=0;m<Z.length;m+=1)ce[Z[m]]={},ce[Z[m]].text=E[m],ce[Z[m]].align=G[m];var oe=d.call(this,ce,le);X=Z.map(function(me){return new r(h,g,le[me],oe,ce[me].text,void 0,ce[me].align)}),this.setTableHeaderRow(X),this.printHeaderRow(1,!1)}var de=v.reduce(function(me,qe){return me[qe.name]=qe.align,me},{});for(m=0;m<_.length;m+=1){"rowStart"in C&&C.rowStart instanceof Function&&C.rowStart({row:m,data:_[m]},this);var ne=d.call(this,_[m],le);for(k=0;k<Z.length;k+=1){var pe=_[m][Z[k]];"cellStart"in C&&C.cellStart instanceof Function&&C.cellStart({row:m,col:k,data:pe},this),c.call(this,new r(h,g,le[Z[k]],ne,pe,m+2,de[Z[k]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=g,this};var d=function(h,g){var _=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,C=this.internal.scaleFactor;return Object.keys(h).map(function(m){var F=h[m];return this.splitTextToSize(F.hasOwnProperty("text")?F.text:F,g[m]-_-_)},this).map(function(m){return this.getLineHeightFactor()*m.length*v/C+_+_},this).reduce(function(m,F){return Math.max(m,F)},0)};i.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},i.printHeaderRow=function(h,g){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var _;if(t=!0,"function"==typeof this.internal.__cell__.headerFunction){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var C=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){_=this.internal.__cell__.tableHeaderRow[m].clone(),g&&(_.y=this.internal.__cell__.margins.top||0,C.push(_)),_.lineNumber=h;var F=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,_),this.setTextColor(F)}C.length>0&&this.setTableHeaderRow(C),this.setFont(void 0,"normal"),t=!1}}(ze.API);var ru={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},su=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],hl=ou(su),lu=[100,200,300,400,500,600,700,800,900],Bh=ou(lu);function fl(i){var r,a=i.family.replace(/"|'/g,"").toLowerCase(),t=ru[r=(r=i.style)||"normal"]?r:"normal",n=function(r){return r?"number"==typeof r?r>=100&&r<=900&&r%100==0?r:400:/^\d00$/.test(r)?parseInt(r):"bold"===r?700:400:400}(i.weight),o=function(r){return"number"==typeof hl[r=r||"normal"]?r:"normal"}(i.stretch);return{family:a,style:t,weight:n,stretch:o,src:i.src||[],ref:i.ref||{name:a,style:[o,t,n].join(" ")}}}function cu(i,a,t,n){var o;for(o=t;o>=0&&o<a.length;o+=n)if(i[a[o]])return i[a[o]];for(o=t;o>=0&&o<a.length;o-=n)if(i[a[o]])return i[a[o]]}var Jh={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uu={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function du(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function pu(i){return i.trimLeft()}function zh(i,a){for(var t=0;t<i.length;){if(i.charAt(t)===a)return[i.substring(0,t),i.substring(t+1)];t+=1}return null}function Qh(i){var a=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===a?null:[a[0],i.substring(a[0].length)]}var Gr,hu,fu,ml=["times"];(function(i){var a,t,n,o,r,c,d,h,g,_=function(A){return this.isStrokeTransparent=(A=A||{}).isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=void 0!==A.transform?A.transform.clone():new h,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new c,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new c,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof A.ignoreClearRect||A.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new v(this),a=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,h=this.internal.Matrix,g=new _}]);var v=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var S=A;Object.defineProperty(this,"pdf",{get:function(){return S}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(ge){O=Boolean(ge)}});var R=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return R},set:function(ge){R=Boolean(ge)}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(ge){isNaN(ge)||(W=ge)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(ge){isNaN(ge)||(ae=ge)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(ge){var D;"number"==typeof ge?D=[ge,ge,ge,ge]:((D=new Array(4))[0]=ge[0],D[1]=ge.length>=2?ge[1]:D[0],D[2]=ge.length>=3?ge[2]:D[0],D[3]=ge.length>=4?ge[3]:D[1]),g.margin=D}});var re=!1;Object.defineProperty(this,"autoPaging",{get:function(){return re},set:function(ge){re=ge}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(ge){se=ge}});var Ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ze},set:function(ge){Ze=ge}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(ge){ge instanceof _&&(g=ge)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(ge){g.path=ge}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(ge){Te=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var D;D=C(ge),this.ctx.fillStyle=D.style,this.ctx.isFillTransparent=0===D.a,this.ctx.fillOpacity=D.a,this.pdf.setFillColor(D.r,D.g,D.b,{a:D.a}),this.pdf.setTextColor(D.r,D.g,D.b,{a:D.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var D=C(ge);this.ctx.strokeStyle=D.style,this.ctx.isStrokeTransparent=0===D.a,this.ctx.strokeOpacity=D.a,0===D.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(D.r,D.g,D.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){-1!==["butt","round","square"].indexOf(ge)&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){-1!==["bevel","round","miter"].indexOf(ge)&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){-1!==["right","end","center","left","start"].indexOf(ge)&&(this.ctx.textAlign=ge)}});var Fe=null,Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(ge){Fe=null,Ye=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var D;if(this.ctx.font=ge,null!==(D=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))){var nt=D[1],De=D[3],Ce=D[4],Ne=D[6],Ee=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor("px"===Ee?parseFloat(Ce)*this.pdf.internal.scaleFactor:"em"===Ee?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var Le=function(Ke){var lt,Se,An=[],mt=Ke.trim();if(""===mt)return ml;if(mt in uu)return[uu[mt]];for(;""!==mt;){switch(Se=null,lt=(mt=pu(mt)).charAt(0)){case'"':case"'":Se=zh(mt.substring(1),lt);break;default:Se=Qh(mt)}if(null===Se||(An.push(Se[0]),""!==(mt=pu(Se[1]))&&","!==mt.charAt(0)))return ml;mt=mt.replace(/^,/,"")}return An}(Ne);if(this.fontFaces){var Be=function Rh(i,a,t){for(var n=(t=t||{}).defaultFontFamily||"times",o=Object.assign({},Jh,t.genericFontFamilies||{}),r=null,c=null,d=0;d<a.length;++d)if(o[(r=fl(a[d])).family]&&(r.family=o[r.family]),i.hasOwnProperty(r.family)){c=i[r.family];break}if(!(c=c||i[n]))throw new Error("Could not find a font-family for the rule '"+du(r)+"' and default family '"+n+"'.");if(c=function(h,g){if(g[h])return g[h];var _=hl[h],C=cu(g,su,_,_<=hl.normal?-1:1);if(!C)throw new Error("Could not find a matching font-stretch value for "+h);return C}(r.stretch,c),c=function(h,g){if(g[h])return g[h];for(var _=ru[h],v=0;v<_.length;++v)if(g[_[v]])return g[_[v]];throw new Error("Could not find a matching font-style for "+h)}(r.style,c),!(c=function(h,g){if(g[h])return g[h];if(400===h&&g[500])return g[500];if(500===h&&g[400])return g[400];var v=cu(g,lu,Bh[h],h<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+h);return v}(r.weight,c)))throw new Error("Failed to resolve a font for the rule '"+du(r)+"'.");return c}(function ke(ge,D){if(null===Fe){var nt=(De=ge.getFontList(),Ce=[],Object.keys(De).forEach(function(Ne){De[Ne].forEach(function(Ee){var Le=null;switch(Ee){case"bold":Le={family:Ne,weight:"bold"};break;case"italic":Le={family:Ne,style:"italic"};break;case"bolditalic":Le={family:Ne,weight:"bold",style:"italic"};break;case"":case"normal":Le={family:Ne}}null!==Le&&(Le.ref={name:Ne,style:Ee},Ce.push(Le))})}),Ce);Fe=function(De){for(var Ce={},Ne=0;Ne<De.length;++Ne){var Ee=fl(De[Ne]),Le=Ee.family,Be=Ee.stretch,Xe=Ee.style,ot=Ee.weight;Ce[Le]=Ce[Le]||{},Ce[Le][Be]=Ce[Le][Be]||{},Ce[Le][Be][Xe]=Ce[Le][Be][Xe]||{},Ce[Le][Be][Xe][ot]=Ee}return Ce}(nt.concat(D))}var De,Ce;return Fe}(this.pdf,this.fontFaces),Le.map(function(Ke){return{family:Ke,stretch:"normal",weight:De,style:nt}}));this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Xe="";("bold"===De||parseInt(De,10)>=700||"bold"===nt)&&(Xe="bold"),"italic"===nt&&(Xe+="italic"),0===Xe.length&&(Xe="normal");for(var ot="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Le.length;ht++){if(void 0!==this.pdf.internal.getFont(Le[ht],Xe,{noFallback:!0,disableWarning:!0})){ot=Le[ht];break}if("bolditalic"===Xe&&void 0!==this.pdf.internal.getFont(Le[ht],"bold",{noFallback:!0,disableWarning:!0}))ot=Le[ht],Xe="bold";else if(void 0!==this.pdf.internal.getFont(Le[ht],"normal",{noFallback:!0,disableWarning:!0})){ot=Le[ht],Xe="normal";break}}if(""===ot)for(var Ct=0;Ct<Le.length;Ct++)if(rt[Le[Ct]]){ot=rt[Le[Ct]];break}this.pdf.setFont(ot=""===ot?"Times":ot,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,qe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,qe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=Boolean(ge)}})};v.prototype.setLineDash=function(A){this.lineDash=A},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){$.call(this,"fill",!1)},v.prototype.stroke=function(){$.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(A,S){if(isNaN(A)||isNaN(S))throw Zt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new c(A,S));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new c(A,S)},v.prototype.closePath=function(){var A=new c(0,0),S=0;for(S=this.path.length-1;-1!==S;S--)if("begin"===this.path[S].type&&"object"===bt(this.path[S+1])&&"number"==typeof this.path[S+1].x){A=new c(this.path[S+1].x,this.path[S+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(A.x,A.y)},v.prototype.lineTo=function(A,S){if(isNaN(A)||isNaN(S))throw Zt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new c(A,S));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new c(O.x,O.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},v.prototype.quadraticCurveTo=function(A,S,O,R){if(isNaN(O)||isNaN(R)||isNaN(A)||isNaN(S))throw Zt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new c(O,R)),ae=this.ctx.transform.applyToPoint(new c(A,S));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:W.x,y:W.y}),this.ctx.lastPoint=new c(W.x,W.y)},v.prototype.bezierCurveTo=function(A,S,O,R,W,ae){if(isNaN(W)||isNaN(ae)||isNaN(A)||isNaN(S)||isNaN(O)||isNaN(R))throw Zt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var re=this.ctx.transform.applyToPoint(new c(W,ae)),se=this.ctx.transform.applyToPoint(new c(A,S)),Ze=this.ctx.transform.applyToPoint(new c(O,R));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:Ze.x,y2:Ze.y,x:re.x,y:re.y}),this.ctx.lastPoint=new c(re.x,re.y)},v.prototype.arc=function(A,S,O,R,W,ae){if(isNaN(A)||isNaN(S)||isNaN(O)||isNaN(R)||isNaN(W))throw Zt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=Boolean(ae),!this.ctx.transform.isIdentity){var re=this.ctx.transform.applyToPoint(new c(A,S));A=re.x,S=re.y;var se=this.ctx.transform.applyToPoint(new c(0,O)),Ze=this.ctx.transform.applyToPoint(new c(0,0));O=Math.sqrt(Math.pow(se.x-Ze.x,2)+Math.pow(se.y-Ze.y,2))}Math.abs(W-R)>=2*Math.PI&&(R=0,W=2*Math.PI),this.path.push({type:"arc",x:A,y:S,radius:O,startAngle:R,endAngle:W,counterclockwise:ae})},v.prototype.arcTo=function(A,S,O,R,W){throw new Error("arcTo not implemented.")},v.prototype.rect=function(A,S,O,R){if(isNaN(A)||isNaN(S)||isNaN(O)||isNaN(R))throw Zt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,S),this.lineTo(A+O,S),this.lineTo(A+O,S+R),this.lineTo(A,S+R),this.lineTo(A,S),this.lineTo(A+O,S),this.lineTo(A,S)},v.prototype.fillRect=function(A,S,O,R){if(isNaN(A)||isNaN(S)||isNaN(O)||isNaN(R))throw Zt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var W={};"butt"!==this.lineCap&&(W.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,S,O,R),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},v.prototype.strokeRect=function(A,S,O,R){if(isNaN(A)||isNaN(S)||isNaN(O)||isNaN(R))throw Zt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");F.call(this)||(this.beginPath(),this.rect(A,S,O,R),this.stroke())},v.prototype.clearRect=function(A,S,O,R){if(isNaN(A)||isNaN(S)||isNaN(O)||isNaN(R))throw Zt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,S,O,R))},v.prototype.save=function(A){A="boolean"!=typeof A||A;for(var S=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(S),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var R=new _(this.ctx);this.ctxStack.push(this.ctx),this.ctx=R}},v.prototype.restore=function(A){A="boolean"!=typeof A||A;for(var S=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(S),A&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var C=function(A){var S,O,R,W;if(!0===A.isCanvasGradient&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))S=0,O=0,R=0,W=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(null!==ae)S=parseInt(ae[1]),O=parseInt(ae[2]),R=parseInt(ae[3]),W=1;else if(null!==(ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A)))S=parseInt(ae[1]),O=parseInt(ae[2]),R=parseInt(ae[3]),W=parseFloat(ae[4]);else{if(W=1,"string"==typeof A&&"#"!==A.charAt(0)){var re=new Kc(A);A=re.ok?re.toHex():"#000000"}4===A.length?(S=A.substring(1,2),S+=S,O=A.substring(2,3),O+=O,R=A.substring(3,4),R+=R):(S=A.substring(1,3),O=A.substring(3,5),R=A.substring(5,7)),S=parseInt(S,16),O=parseInt(O,16),R=parseInt(R,16)}}return{r:S,g:O,b:R,a:W,style:A}},m=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},F=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};v.prototype.fillText=function(A,S,O,R){if(isNaN(S)||isNaN(O)||"string"!=typeof A)throw Zt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(R=isNaN(R)?void 0:R,!m.call(this)){var W=ne(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;M.call(this,{text:A,x:S,y:O,scale:ae,angle:W,align:this.textAlign,maxWidth:R})}},v.prototype.strokeText=function(A,S,O,R){if(isNaN(S)||isNaN(O)||"string"!=typeof A)throw Zt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!F.call(this)){R=isNaN(R)?void 0:R;var W=ne(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;M.call(this,{text:A,x:S,y:O,scale:ae,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:R})}},v.prototype.measureText=function(A){if("string"!=typeof A)throw Zt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var S=this.pdf,O=this.pdf.internal.scaleFactor,R=S.internal.getFontSize(),W=S.getStringUnitWidth(A)*R/S.internal.scaleFactor,ae=function(re){var se=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return se}}),this};return new ae({width:W*=Math.round(96*O/72*1e4)/1e4})},v.prototype.scale=function(A,S){if(isNaN(A)||isNaN(S))throw Zt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new h(A,0,0,S,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},v.prototype.rotate=function(A){if(isNaN(A))throw Zt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var S=new h(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(S)},v.prototype.translate=function(A,S){if(isNaN(A)||isNaN(S))throw Zt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new h(1,0,0,1,A,S);this.ctx.transform=this.ctx.transform.multiply(O)},v.prototype.transform=function(A,S,O,R,W,ae){if(isNaN(A)||isNaN(S)||isNaN(O)||isNaN(R)||isNaN(W)||isNaN(ae))throw Zt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var re=new h(A,S,O,R,W,ae);this.ctx.transform=this.ctx.transform.multiply(re)},v.prototype.setTransform=function(A,S,O,R,W,ae){A=isNaN(A)?1:A,S=isNaN(S)?0:S,O=isNaN(O)?0:O,R=isNaN(R)?1:R,W=isNaN(W)?0:W,ae=isNaN(ae)?0:ae,this.ctx.transform=new h(A,S,O,R,W,ae)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(A,S,O,R,W,ae,re,se,Ze){var Te=this.pdf.getImageProperties(A),Fe=1,ke=1,Ye=1,ge=1;void 0!==R&&void 0!==se&&(Ye=se/R,ge=Ze/W,Fe=Te.width/R*se/R,ke=Te.height/W*Ze/W),void 0===ae&&(ae=S,re=O,S=0,O=0),void 0!==R&&void 0===se&&(se=R,Ze=W),void 0===R&&void 0===se&&(se=Te.width,Ze=Te.height);for(var D,nt=this.ctx.transform.decompose(),De=ne(nt.rotate.shx),Ce=new h,Ne=(Ce=(Ce=(Ce=Ce.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale)).applyToRectangle(new d(ae-S*Ye,re-O*ge,R*Fe,W*ke)),Ee=q.call(this,Ne),Le=[],Be=0;Be<Ee.length;Be+=1)-1===Le.indexOf(Ee[Be])&&Le.push(Ee[Be]);if(G(Le),this.autoPaging)for(var Xe=Le[0],ot=Le[Le.length-1],rt=Xe;rt<ot+1;rt++){this.pdf.setPage(rt);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=1===rt?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=1===rt?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(rt-2)*lt;if(0!==this.ctx.clip_path.length){var An=this.path;D=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(D,this.posX+this.margin[3],-Se+Ct+this.ctx.prevPageLastElemOffset),le.call(this,"fill",!0),this.path=An}var mt=JSON.parse(JSON.stringify(Ne));mt=E([mt],this.posX+this.margin[3],-Se+Ct+this.ctx.prevPageLastElemOffset)[0];var si=(rt>Xe||rt<ot)&&k.call(this);si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,lt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,De),si&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Ne.x,Ne.y,Ne.w,Ne.h,null,null,De)};var q=function(A,S,O){var R=[];S=S||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":R.push(Math.floor((A.y+W)/O)+1);break;case"arc":R.push(Math.floor((A.y+W-A.radius)/O)+1),R.push(Math.floor((A.y+W+A.radius)/O)+1);break;case"qct":var ae=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);R.push(Math.floor((ae.y+W)/O)+1),R.push(Math.floor((ae.y+ae.h+W)/O)+1);break;case"bct":var re=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);R.push(Math.floor((re.y+W)/O)+1),R.push(Math.floor((re.y+re.h+W)/O)+1);break;case"rect":R.push(Math.floor((A.y+W)/O)+1),R.push(Math.floor((A.y+A.h+W)/O)+1)}for(var se=0;se<R.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<R[se];)Z.call(this);return R},Z=function(){var A=this.fillStyle,S=this.strokeStyle,O=this.font,R=this.lineCap,W=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=S,this.font=O,this.lineCap=R,this.lineWidth=W,this.lineJoin=ae},E=function(A,S,O){for(var R=0;R<A.length;R++)switch(A[R].type){case"bct":A[R].x2+=S,A[R].y2+=O;case"qct":A[R].x1+=S,A[R].y1+=O;default:A[R].x+=S,A[R].y+=O}return A},G=function(A){return A.sort(function(S,O){return S-O})},$=function(A,S){for(var O,R,W=this.fillStyle,ae=this.strokeStyle,re=this.lineCap,se=this.lineWidth,Ze=Math.abs(se*this.ctx.transform.scaleX),Te=this.lineJoin,Fe=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),Ye=[],ge=0;ge<ke.length;ge++)if(void 0!==ke[ge].x)for(var D=q.call(this,ke[ge]),nt=0;nt<D.length;nt+=1)-1===Ye.indexOf(D[nt])&&Ye.push(D[nt]);for(var De=0;De<Ye.length;De++)for(;this.pdf.internal.getNumberOfPages()<Ye[De];)Z.call(this);if(G(Ye),this.autoPaging)for(var Ce=Ye[0],Ne=Ye[Ye.length-1],Ee=Ce;Ee<Ne+1;Ee++){this.pdf.setPage(Ee),this.fillStyle=W,this.strokeStyle=ae,this.lineCap=re,this.lineWidth=Ze,this.lineJoin=Te;var Le=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=1===Ee?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=1===Ee?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ee-2)*ot;if(0!==this.ctx.clip_path.length){var ht=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(O,this.posX+this.margin[3],-rt+Be+this.ctx.prevPageLastElemOffset),le.call(this,A,!0),this.path=ht}if(R=JSON.parse(JSON.stringify(Fe)),this.path=E(R,this.posX+this.margin[3],-rt+Be+this.ctx.prevPageLastElemOffset),!1===S||0===Ee){var Ct=(Ee>Ce||Ee<Ne)&&k.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Le,ot,null).clip().discardPath()),le.call(this,A,S),Ct&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=Ze,le.call(this,A,S),this.lineWidth=se;this.path=Fe},le=function(A,S){if(("stroke"!==A||S||!F.call(this))&&("stroke"===A||S||!m.call(this))){for(var O,R,W=[],ae=this.path,re=0;re<ae.length;re++){var se=ae[re];switch(se.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:se,deltas:[],abs:[]});break;case"lt":var Ze=W.length;if(ae[re-1]&&!isNaN(ae[re-1].x)&&(O=[se.x-ae[re-1].x,se.y-ae[re-1].y],Ze>0))for(;Ze>=0;Ze--)if(!0!==W[Ze-1].close&&!0!==W[Ze-1].begin){W[Ze-1].deltas.push(O),W[Ze-1].abs.push(se);break}break;case"bct":W[W.length-1].deltas.push(O=[se.x1-ae[re-1].x,se.y1-ae[re-1].y,se.x2-ae[re-1].x,se.y2-ae[re-1].y,se.x-ae[re-1].x,se.y-ae[re-1].y]);break;case"qct":W[W.length-1].deltas.push(O=[ae[re-1].x+2/3*(se.x1-ae[re-1].x)-ae[re-1].x,ae[re-1].y+2/3*(se.y1-ae[re-1].y)-ae[re-1].y,se.x+2/3*(se.x1-se.x)-ae[re-1].x,se.y+2/3*(se.y1-se.y)-ae[re-1].y,se.x-ae[re-1].x,se.y-ae[re-1].y]);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(se)}}R=S?null:"stroke"===A?"stroke":"fill";for(var nt=!1,De=0;De<W.length;De++)if(W[De].arc)for(var Ce=W[De].abs,Ne=0;Ne<Ce.length;Ne++){var Ee=Ce[Ne];"arc"===Ee.type?j.call(this,Ee.x,Ee.y,Ee.radius,Ee.startAngle,Ee.endAngle,Ee.counterclockwise,void 0,S,!nt):H.call(this,Ee.x,Ee.y),nt=!0}else!0===W[De].close?(this.pdf.internal.out("h"),nt=!1):!0!==W[De].begin&&(B.call(this,W[De].deltas,W[De].start.x,W[De].start.y),nt=!0);R&&ie.call(this,R),S&&fe.call(this)}},ye=function(A){var S=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=S*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-O;case"top":return A+S-O;case"hanging":return A+S-2*O;case"middle":return A+S/2-O;default:return A}},X=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(S,O){this.colorStops.push([S,O])},A.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(A,S,O,R,W,ae,re,se,Ze){for(var Te=oe.call(this,O,R,W,ae),Fe=0;Fe<Te.length;Fe++){var ke=Te[Fe];0===Fe&&(Ze?P.call(this,ke.x1+A,ke.y1+S):H.call(this,ke.x1+A,ke.y1+S)),ce.call(this,A,S,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}se?fe.call(this):ie.call(this,re)},ie=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},fe=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(A,S){this.pdf.internal.out(t(A)+" "+n(S)+" m")},M=function(A){var S;switch(A.align){case"right":case"end":S="right";break;case"center":S="center";break;default:S="left"}var O=this.pdf.getTextDimensions(A.text),R=ye.call(this,A.y),W=X.call(this,R)-O.h,ae=this.ctx.transform.applyToPoint(new c(A.x,R)),re=this.ctx.transform.decompose(),se=new h;se=(se=(se=se.multiply(re.translate)).multiply(re.skew)).multiply(re.scale);for(var Ze,Te,Fe,ke=this.ctx.transform.applyToRectangle(new d(A.x,R,O.w,O.h)),Ye=se.applyToRectangle(new d(A.x,W,O.w,O.h)),ge=q.call(this,Ye),D=[],nt=0;nt<ge.length;nt+=1)-1===D.indexOf(ge[nt])&&D.push(ge[nt]);if(G(D),this.autoPaging)for(var De=D[0],Ce=D[D.length-1],Ne=De;Ne<Ce+1;Ne++){this.pdf.setPage(Ne);var Ee=1===Ne?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.margin[2],Xe=Be-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],rt=ot-this.margin[3],ht=1===Ne?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Ne-2)*Xe;if(0!==this.ctx.clip_path.length){var Ct=this.path;Ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ze,this.posX+this.margin[3],-1*ht+Ee),le.call(this,"fill",!0),this.path=Ct}var Ke=E([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-ht+Ee+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*A.scale),this.lineWidth=(Fe=this.lineWidth)*A.scale);var lt="text"!==this.autoPaging;if(lt||Ke.y+Ke.h<=Be){if(lt||Ke.y>=Ee&&Ke.x<=ot){var Se=lt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||ot-Ke.x)[0],An=E([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-ht+Ee+this.ctx.prevPageLastElemOffset)[0],mt=lt&&(Ne>De||Ne<Ce)&&k.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Xe,null).clip().discardPath()),this.pdf.text(Se,An.x,An.y,{angle:A.angle,align:S,renderingMode:A.renderingMode}),mt&&this.pdf.restoreGraphicsState()}}else Ke.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-Ke.y);A.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Fe)}else A.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*A.scale),this.lineWidth=(Fe=this.lineWidth)*A.scale),this.pdf.text(A.text,ae.x+this.posX,ae.y+this.posY,{angle:A.angle,align:S,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=Fe)},H=function(A,S,O,R){R=R||0,this.pdf.internal.out(t(A+(O=O||0))+" "+n(S+R)+" l")},B=function(A,S,O){return this.pdf.lines(A,S,O,null,null)},ce=function(A,S,O,R,W,ae,re,se){this.pdf.internal.out([a(o(O+A)),a(r(R+S)),a(o(W+A)),a(r(ae+S)),a(o(re+A)),a(r(se+S)),"c"].join(" "))},oe=function(A,S,O,R){for(var W=2*Math.PI,ae=Math.PI/2;S>O;)S-=W;var re=Math.abs(O-S);re<W&&R&&(re=W-re);for(var se=[],Ze=R?-1:1,Te=S;re>1e-5;){var Fe=Te+Ze*Math.min(re,ae);se.push(de.call(this,A,Te,Fe)),re-=Math.abs(Fe-Te),Te=Fe}return se},de=function(A,S,O){var R=(O-S)/2,W=A*Math.cos(R),ae=A*Math.sin(R),re=W,se=-ae,Ze=re*re+se*se,Te=Ze+re*W+se*ae,Fe=4/3*(Math.sqrt(2*Ze*Te)-Te)/(re*ae-se*W),ke=re-Fe*se,Ye=se+Fe*re,ge=ke,D=-Ye,nt=R+S,De=Math.cos(nt),Ce=Math.sin(nt);return{x1:A*Math.cos(S),y1:A*Math.sin(S),x2:ke*De-Ye*Ce,y2:ke*Ce+Ye*De,x3:ge*De-D*Ce,y3:ge*Ce+D*De,x4:A*Math.cos(O),y4:A*Math.sin(O)}},ne=function(A){return 180*A/Math.PI},pe=function(A,S,O,R,W,ae){var re=A+.5*(O-A),se=S+.5*(R-S),Ze=W+.5*(O-W),Te=ae+.5*(R-ae),Fe=Math.min(A,W,re,Ze),ke=Math.max(A,W,re,Ze),Ye=Math.min(S,ae,se,Te),ge=Math.max(S,ae,se,Te);return new d(Fe,Ye,ke-Fe,ge-Ye)},me=function(A,S,O,R,W,ae,re,se){var Ze,Te,Fe,ke,Ye,ge,D,nt,De,Ce,Ne,Ee,Le,Be,Xe=O-A,ot=R-S,rt=W-O,ht=ae-R,Ct=re-W,Ke=se-ae;for(Te=0;Te<41;Te++)De=(D=(Fe=A+(Ze=Te/40)*Xe)+Ze*((Ye=O+Ze*rt)-Fe))+Ze*(Ye+Ze*(W+Ze*Ct-Ye)-D),Ce=(nt=(ke=S+Ze*ot)+Ze*((ge=R+Ze*ht)-ke))+Ze*(ge+Ze*(ae+Ze*Ke-ge)-nt),0==Te?(Ne=De,Ee=Ce,Le=De,Be=Ce):(Ne=Math.min(Ne,De),Ee=Math.min(Ee,Ce),Le=Math.max(Le,De),Be=Math.max(Be,Ce));return new d(Math.round(Ne),Math.round(Ee),Math.round(Le-Ne),Math.round(Be-Ee))},qe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(ze.API),function(i){var a=function(r){var c,d,h,g,_,v,C,m,F,k;for(/[^\x00-\xFF]/.test(r),d=[],h=0,g=(r+=c="\0\0\0\0".slice(r.length%4||4)).length;g>h;h+=4)0!==(_=(r.charCodeAt(h)<<24)+(r.charCodeAt(h+1)<<16)+(r.charCodeAt(h+2)<<8)+r.charCodeAt(h+3))?(v=(_=((_=((_=((_=(_-(k=_%85))/85)-(F=_%85))/85)-(m=_%85))/85)-(C=_%85))/85)%85,d.push(v+33,C+33,m+33,F+33,k+33)):d.push(122);return function(q,Z){for(var E=Z;E>0;E--)q.pop()}(d,c.length),String.fromCharCode.apply(String,d)+"~>"},t=function(r){var c,d,h,g,_,v=String,C="length",m=255,F="charCodeAt",k="slice",q="replace";for(r[k](-2),r=r[k](0,-2)[q](/\s/g,"")[q]("z","!!!!!"),h=[],g=0,_=(r+=c="uuuuu"[k](r[C]%5||5))[C];_>g;g+=5)d=52200625*(r[F](g)-33)+614125*(r[F](g+1)-33)+7225*(r[F](g+2)-33)+85*(r[F](g+3)-33)+(r[F](g+4)-33),h.push(m&d>>24,m&d>>16,m&d>>8,m&d);return function(Z,E){for(var G=E;G>0;G--)Z.pop()}(h,c[C]),v.fromCharCode.apply(v,h)},n=function(r){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(r=r.replace(/\s/g,"")).indexOf(">")&&(r=r.substr(0,r.indexOf(">"))),r.length%2&&(r+="0"),!1===c.test(r))return"";for(var d="",h=0;h<r.length;h+=2)d+=String.fromCharCode("0x"+(r[h]+r[h+1]));return d},o=function(r){for(var c=new Uint8Array(r.length),d=r.length;d--;)c[d]=r.charCodeAt(d);return(c=jo(c)).reduce(function(h,g){return h+String.fromCharCode(g)},"")};i.processDataByFilters=function(r,c){var d=0,h=r||"",g=[];for("string"==typeof(c=c||[])&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=a(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=n(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(_){return("0"+_.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}}(ze.API),function(i){i.loadFile=function(a,t,n){return function(o,r,c){r=!1!==r,c="function"==typeof c?c:function(){};var d=void 0;try{d=function(h,g,_){var v=new XMLHttpRequest,C=0,m=function(F){var k=F.length,q=[],Z=String.fromCharCode;for(C=0;C<k;C+=1)q.push(Z(255&F.charCodeAt(C)));return q.join("")};if(v.open("GET",h,!g),v.overrideMimeType("text/plain; charset=x-user-defined"),!1===g&&(v.onload=function(){_(200===v.status?m(this.responseText):void 0)}),v.send(null),g&&200===v.status)return m(v.responseText)}(o,r,c)}catch{}return d}(a,t,n)},i.loadImageFile=i.loadFile}(ze.API),function(i){function a(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):Promise.resolve().then(Ae.t.bind(Ae,4159,23))).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):Ae.e(678).then(Ae.bind(Ae,7678))).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=bt(c);return"undefined"===d?"undefined":"string"===d||c instanceof String?"string":"number"===d||c instanceof Number?"number":"function"===d||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&1===c.nodeType?"element":"object"===d?"object":"unknown"},o=function(c,d){var h=document.createElement(c);for(var g in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[g]=d.style[g];return h},r=function c(d){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),h);return(g=g.setProgress(1,c,1,[c])).set(d)};(r.prototype=Object.create(Promise.prototype)).constructor=r,r.convert=function(c,d){return c.__proto__=d||r.prototype,c},r.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},r.prototype.from=function(c,d){return this.then(function(){switch(d=d||function(h){switch(n(h)){case"string":return"string";case"element":return"canvas"===h.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(c)){case"string":return this.then(t).then(function(h){return this.set({src:o("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},r.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},r.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=function h(g,_){for(var v=3===g.nodeType?document.createTextNode(g.nodeValue):g.cloneNode(!1),C=g.firstChild;C;C=C.nextSibling)!0!==_&&1===C.nodeType&&"SCRIPT"===C.nodeName||v.appendChild(h(C,_));return 1===g.nodeType&&("CANVAS"===g.nodeName?(v.width=g.width,v.height=g.height,v.getContext("2d").drawImage(g,0,0)):"TEXTAREA"!==g.nodeName&&"SELECT"!==g.nodeName||(v.value=g.value),v.addEventListener("load",function(){v.scrollTop=g.scrollTop,v.scrollLeft=g.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===d.tagName&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(o("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},r.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(a).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},r.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(a).then(function(d){var h=this.opt.jsPDF,g=this.opt.fontFaces,_="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:_,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,h.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var C=0;C<g.length;++C){var m=g[C],F=m.src.find(function(k){return"truetype"===k.format});F&&h.addFont(F.url,m.ref.name,m.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=0==v.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,h.context2d.save(!0),d(this.prop.container,v)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},r.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},r.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},r.prototype.output=function(c,d,h){return"img"===(h=h||"pdf").toLowerCase()||"image"===h.toLowerCase()?this.outputImg(c,d):this.outputPdf(c,d)},r.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},r.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},r.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},r.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},r.prototype.set=function(c){if("object"!==n(c))return this;var d=Object.keys(c||{}).map(function(h){if(h in r.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(d)})},r.prototype.get=function(c,d){return this.then(function(){var h=c in r.template.prop?this.prop[c]:this.opt[c];return d?d(h):h})},r.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(2===c.length&&(c=[c[0],c[1],c[0],c[1]]),4===c.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},r.prototype.setPageSize=function(c){function d(h,g){return Math.floor(h*g/72*96)}return this.then(function(){(c=c||ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},r.prototype.setProgress=function(c,d,h,g){return null!=c&&(this.progress.val=c),null!=d&&(this.progress.state=d),null!=h&&(this.progress.n=h),null!=g&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},r.prototype.updateProgress=function(c,d,h,g){return this.setProgress(c?this.progress.val+c:null,d||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},r.prototype.then=function(c,d){var h=this;return this.thenCore(c,d,function(g,_){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return h.updateProgress(null,g),v}).then(g,_).then(function(v){return h.updateProgress(1),v})})},r.prototype.thenCore=function(c,d,h){h=h||Promise.prototype.then,c&&(c=c.bind(this)),d&&(d=d.bind(this));var g=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:r.convert(Object.assign({},this),Promise.prototype),_=h.call(g,c,d);return r.convert(_,this.__proto__)},r.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},r.prototype.thenList=function(c){var d=this;return c.forEach(function(h){d=d.thenCore(h)}),d},r.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return r.convert(d,this)},r.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},r.prototype.error=function(c){return this.then(function(){throw new Error(c)})},r.prototype.using=r.prototype.set,r.prototype.saveAs=r.prototype.save,r.prototype.export=r.prototype.output,r.prototype.run=r.prototype.then,ze.getPageSize=function(c,d,h){if("object"===bt(c)){var g=c;c=g.orientation,d=g.unit||d,h=g.format||h}d=d||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var _,v=(""+h).toLowerCase(),C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":_=1;break;case"mm":_=72/25.4;break;case"cm":_=72/2.54;break;case"in":_=72;break;case"px":_=.75;break;case"pc":case"em":_=12;break;case"ex":_=6;break;default:throw"Invalid unit: "+d}var m,F=0,k=0;if(C.hasOwnProperty(v))F=C[v][1]/_,k=C[v][0]/_;else try{F=h[1],k=h[0]}catch{throw new Error("Invalid format: "+h)}if("p"===c||"portrait"===c)c="p",k>F&&(m=k,k=F,F=m);else{if("l"!==c&&"landscape"!==c)throw"Invalid orientation: "+c;c="l",F>k&&(m=k,k=F,F=m)}return{width:k,height:F,unit:d,k:_,orientation:c}},i.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(fl):null;var h=new r(d);return d.worker?h:h.from(c).doCallback()}}(ze.API),ze.API.addJS=function(i){return fu=i,this.internal.events.subscribe("postPutResources",function(){Gr=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Gr+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fu+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Gr&&void 0!==hu&&this.internal.out("/Names <</JavaScript "+Gr+" 0 R>>")}),this},function(i){var a;i.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var o=t.outline.render().split(/\r\n/),r=0;r<o.length;r++){var c=o[r],d=n.exec(c);null!=d&&t.internal.newObjectDeferredBegin(d[1],!1),t.internal.write(c)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,_=[];for(r=0;r<g;r++){var v=t.internal.newObject();_.push(v);var C=t.internal.getPageInfo(r+1);t.internal.write("<< /D["+C.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),r=0;r<_.length;r++)t.internal.write("(page_"+(r+1)+")"+_[r]+" 0 R");t.internal.write(" ] >>","endobj"),a=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+a+" 0 R"))}]),i.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,o,r){var c={title:o,options:r,children:[]};return null==n&&(n=this.root),n.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var o=0;o<n.children.length;o++)this.genIds_r(n.children[o])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var o=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<n.children.length;r++){var c=n.children[r];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),r>0&&this.line("/Prev "+this.makeRef(n.children[r-1])),r<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[r+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var h=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+o(0)+" 0]")}this.objEnd()}for(var g=0;g<n.children.length;g++)this.renderItems(n.children[g])},t.outline.line=function(n){this.ctx.val+=n+"\r\n"},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+="\r\n"+n.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(n,o){for(var r=0;r<o.children.length;r++)n.count++,this.count_r(n,o.children[r]);return n.count}}])}(ze.API),function(i){var a=[192,193,194,195,196,197,198,199];i.processJPEG=function(t,n,o,r,c,d){var h,g=this.decode.DCT_DECODE,_=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=c||t)?new Uint8Array(t):t,(h=function(v){for(var C,m=256*v.charCodeAt(4)+v.charCodeAt(5),F=v.length,k={width:0,height:0,numcomponents:1},q=4;q<F;q+=2){if(-1!==a.indexOf(v.charCodeAt((q+=m)+1))){C=256*v.charCodeAt(q+5)+v.charCodeAt(q+6),k={width:256*v.charCodeAt(q+7)+v.charCodeAt(q+8),height:C,numcomponents:v.charCodeAt(q+9)};break}m=256*v.charCodeAt(q+2)+v.charCodeAt(q+3)}return k}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}_={data:t,width:h.width,height:h.height,colorSpace:d,bitsPerComponent:8,filter:g,index:n,alias:o}}return _}}(ze.API);var eo,Yr,mu,gu,_u,Hh=function(){var i,a,t;function n(r){var c,h,g,_,v,C,m,F,k,q,Z,E,G;for(this.data=r,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(c=this.readUInt32(),F=function(){var $,le;for(le=[],$=0;$<4;++$)le.push(String.fromCharCode(this.data[this.pos++]));return le}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(c);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},_=this.readUInt16(),g=this.readUInt16()||100,v.delay=1e3*_/g,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for("fdAT"===F&&(this.pos+=4,c-=4),r=v?.data||this.imgData,Z=0;0<=c?Z<c:Z>c;0<=c?++Z:--Z)r.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(c),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((k=h-this.transparency.indexed.length)>0)for(E=0;0<=k?E<k:E>k;0<=k?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(c)[0];break;case 2:this.transparency.rgb=this.read(c)}break;case"tEXt":C=(q=this.read(c)).indexOf(0),m=String.fromCharCode.apply(String,q.slice(0,C)),this.text[m]=String.fromCharCode.apply(String,q.slice(C+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(G=this.colorType)||6===G,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=c}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(r){var c,d;for(d=[],c=0;0<=r?c<r:c>r;0<=r?++c:--c)d.push(this.data[this.pos++]);return d},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(r){var c=this.pixelBitlength/8,d=new Uint8Array(this.width*this.height*c),h=0,g=this;if(null==r&&(r=this.imgData),0===r.length)return new Uint8Array(0);function _(v,C,m,F){var k,q,Z,E,G,$,le,ye,j,ie,fe,P,M,H,B,ce,oe,de,ne,pe,me=Math.ceil((g.width-v)/m),qe=Math.ceil((g.height-C)/F),A=g.width==me&&g.height==qe;for(M=c*me,fe=A?d:new Uint8Array(M*qe),$=r.length,P=0,q=0;P<qe&&h<$;){switch(r[h++]){case 0:for(E=ce=0;ce<M;E=ce+=1)fe[q++]=r[h++];break;case 1:for(E=oe=0;oe<M;E=oe+=1)k=r[h++],G=E<c?0:fe[q-c],fe[q++]=(k+G)%256;break;case 2:for(E=de=0;de<M;E=de+=1)k=r[h++],Z=(E-E%c)/c,fe[q++]=((H=P&&fe[(P-1)*M+Z*c+E%c])+k)%256;break;case 3:for(E=ne=0;ne<M;E=ne+=1)k=r[h++],Z=(E-E%c)/c,G=E<c?0:fe[q-c],H=P&&fe[(P-1)*M+Z*c+E%c],fe[q++]=(k+Math.floor((G+H)/2))%256;break;case 4:for(E=pe=0;pe<M;E=pe+=1)k=r[h++],Z=(E-E%c)/c,0===P?H=B=0:(H=fe[(P-1)*M+Z*c+E%c],B=Z&&fe[(P-1)*M+(Z-1)*c+E%c]),le=(G=E<c?0:fe[q-c])+H-B,ye=Math.abs(le-G),j=Math.abs(le-H),ie=Math.abs(le-B),fe[q++]=(k+(ye<=j&&ye<=ie?G:j<=ie?H:B))%256;break;default:throw new Error("Invalid filter algorithm: "+r[h-1])}if(!A){var S=((C+P*F)*g.width+v)*c,O=P*M;for(E=0;E<me;E+=1){for(var R=0;R<c;R+=1)d[S++]=fe[O++];S+=(m-1)*c}}P++}}return r=Er(r),1==g.interlaceMethod?(_(0,0,8,8),_(4,0,8,8),_(0,4,4,8),_(2,0,4,4),_(0,2,2,4),_(1,0,2,2),_(0,1,1,2)):_(0,0,1,1),d},n.prototype.decodePalette=function(){var r,c,d,h,g,_,v,C,m;for(d=this.palette,_=this.transparency.indexed||[],g=new Uint8Array((_.length||0)+d.length),h=0,r=0,c=v=0,C=d.length;v<C;c=v+=3)g[h++]=d[c],g[h++]=d[c+1],g[h++]=d[c+2],g[h++]=null!=(m=_[r++])?m:255;return g},n.prototype.copyToImageData=function(r,c){var d,h,g,_,v,C,m,F,k,q,Z;if(h=this.colors,k=null,d=this.hasAlphaChannel,this.palette.length&&(k=null!=(Z=this._decodedPalette)?Z:this._decodedPalette=this.decodePalette(),h=4,d=!0),F=(g=r.data||r).length,v=k||c,_=C=0,1===h)for(;_<F;)m=k?4*c[_/4]:C,q=v[m++],g[_++]=q,g[_++]=q,g[_++]=q,g[_++]=d?v[m++]:255,C=m;else for(;_<F;)m=k?4*c[_/4]:C,g[_++]=v[m++],g[_++]=v[m++],g[_++]=v[m++],g[_++]=d?v[m++]:255,C=m},n.prototype.decode=function(){var r;return r=new Uint8Array(this.width*this.height*4),this.copyToImageData(r,this.decodePixels()),r};var o=function(){if("[object Window]"===Object.prototype.toString.call(Ge)){try{a=Ge.document.createElement("canvas"),t=a.getContext("2d")}catch{return!1}return!0}return!1};return o(),i=function(r){var c;if(!0===o())return t.width=r.width,t.height=r.height,t.clearRect(0,0,r.width,r.height),t.putImageData(r,0,0),(c=new Image).src=a.toDataURL(),c;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(r){var c,d,h,g,_,v,C,m;if(this.animation){for(m=[],d=_=0,v=(C=this.animation.frames).length;_<v;d=++_)h=r.createImageData((c=C[d]).width,c.height),g=this.decodePixels(new Uint8Array(c.data)),this.copyToImageData(h,g),c.imageData=h,m.push(c.image=i(h));return m}},n.prototype.renderFrame=function(r,c){var d,h,g;return d=(h=this.animation.frames)[c],g=h[c-1],0===c&&r.clearRect(0,0,this.width,this.height),1===g?.disposeOp?r.clearRect(g.xOffset,g.yOffset,g.width,g.height):2===g?.disposeOp&&r.putImageData(g.imageData,g.xOffset,g.yOffset),0===d.blendOp&&r.clearRect(d.xOffset,d.yOffset,d.width,d.height),r.drawImage(d.image,d.xOffset,d.yOffset)},n.prototype.animate=function(r){var c,d,h,g,_,v,C=this;return d=0,g=(v=this.animation).numFrames,h=v.frames,_=v.numPlays,(c=function(){var m,F;if(m=d++%g,F=h[m],C.renderFrame(r,m),g>1&&d/g<_)return C.animation._timeout=setTimeout(c,F.delay)})()},n.prototype.stopAnimation=function(){var r;return clearTimeout(null!=(r=this.animation)?r._timeout:void 0)},n.prototype.render=function(r){var c,d;return r._png&&r._png.stopAnimation(),r._png=this,r.width=this.width,r.height=this.height,c=r.getContext("2d"),this.animation?(this.decodeFrames(c),this.animate(c)):(d=c.createImageData(this.width,this.height),this.copyToImageData(d,this.decodePixels()),c.putImageData(d,0,0))},n}();function Gh(i){var a=0;if(71!==i[a++]||73!==i[a++]||70!==i[a++]||56!==i[a++]||56!=(i[a++]+1&253)||97!==i[a++])throw new Error("Invalid GIF 87a/89a header.");var t=i[a++]|i[a++]<<8,n=i[a++]|i[a++]<<8,o=i[a++],c=1<<1+(7&o);a++,a++;var d=null,h=null;o>>7&&(d=a,h=c,a+=3*c);var g=!0,_=[],v=0,C=null,m=0,F=null;for(this.width=t,this.height=n;g&&a<i.length;)switch(i[a++]){case 33:switch(i[a++]){case 255:if(11!==i[a]||78==i[a+1]&&69==i[a+2]&&84==i[a+3]&&83==i[a+4]&&67==i[a+5]&&65==i[a+6]&&80==i[a+7]&&69==i[a+8]&&50==i[a+9]&&46==i[a+10]&&48==i[a+11]&&3==i[a+12]&&1==i[a+13]&&0==i[a+16])a+=14,F=i[a++]|i[a++]<<8,a++;else for(a+=12;;){if(!((P=i[a++])>=0))throw Error("Invalid block size");if(0===P)break;a+=P}break;case 249:if(4!==i[a++]||0!==i[a+4])throw new Error("Invalid graphics extension block.");var k=i[a++];v=i[a++]|i[a++]<<8,C=i[a++],0==(1&k)&&(C=null),m=k>>2&7,a++;break;case 254:for(;;){if(!((P=i[a++])>=0))throw Error("Invalid block size");if(0===P)break;a+=P}break;default:throw new Error("Unknown graphic control label: 0x"+i[a-1].toString(16))}break;case 44:var q=i[a++]|i[a++]<<8,Z=i[a++]|i[a++]<<8,E=i[a++]|i[a++]<<8,G=i[a++]|i[a++]<<8,$=i[a++],le=$>>6&1,ye=1<<1+(7&$),X=d,j=h,ie=!1;$>>7&&(ie=!0,X=a,j=ye,a+=3*ye);var fe=a;for(a++;;){var P;if(!((P=i[a++])>=0))throw Error("Invalid block size");if(0===P)break;a+=P}_.push({x:q,y:Z,width:E,height:G,has_local_palette:ie,palette_offset:X,palette_size:j,data_offset:fe,data_length:a-fe,transparent_index:C,interlaced:!!le,delay:v,disposal:m});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+i[a-1].toString(16))}this.numFrames=function(){return _.length},this.loopCount=function(){return F},this.frameInfo=function(M){if(M<0||M>=_.length)throw new Error("Frame index out of range.");return _[M]},this.decodeAndBlitFrameBGRA=function(M,H){var B=this.frameInfo(M),ce=B.width*B.height,oe=new Uint8Array(ce);vu(i,B.data_offset,oe,ce);var de=B.palette_offset,ne=B.transparent_index;null===ne&&(ne=256);var pe=B.width,me=t-pe,qe=pe,A=4*(B.y*t+B.x),S=4*((B.y+B.height)*t+B.x),O=A,R=4*me;!0===B.interlaced&&(R+=4*t*7);for(var W=8,ae=0,re=oe.length;ae<re;++ae){var se=oe[ae];if(0===qe&&(qe=pe,(O+=R)>=S&&(R=4*me+4*t*(W-1),O=A+(pe+me)*(W<<1),W>>=1)),se===ne)O+=4;else{var Ze=i[de+3*se],Te=i[de+3*se+1];H[O++]=i[de+3*se+2],H[O++]=Te,H[O++]=Ze,H[O++]=255}--qe}},this.decodeAndBlitFrameRGBA=function(M,H){var B=this.frameInfo(M),ce=B.width*B.height,oe=new Uint8Array(ce);vu(i,B.data_offset,oe,ce);var de=B.palette_offset,ne=B.transparent_index;null===ne&&(ne=256);var pe=B.width,me=t-pe,qe=pe,A=4*(B.y*t+B.x),S=4*((B.y+B.height)*t+B.x),O=A,R=4*me;!0===B.interlaced&&(R+=4*t*7);for(var W=8,ae=0,re=oe.length;ae<re;++ae){var se=oe[ae];if(0===qe&&(qe=pe,(O+=R)>=S&&(R=4*me+4*t*(W-1),O=A+(pe+me)*(W<<1),W>>=1)),se===ne)O+=4;else{var Te=i[de+3*se+1],Fe=i[de+3*se+2];H[O++]=i[de+3*se],H[O++]=Te,H[O++]=Fe,H[O++]=255}--qe}}}function vu(i,a,t,n){for(var o=i[a++],r=1<<o,c=r+1,d=c+1,h=o+1,g=(1<<h)-1,_=0,v=0,C=0,m=i[a++],F=new Int32Array(4096),k=null;;){for(;_<16&&0!==m;)v|=i[a++]<<_,_+=8,1===m?m=i[a++]:--m;if(_<h)break;var q=v&g;if(v>>=h,_-=h,q!==r){if(q===c)break;for(var Z=q<d?q:k,E=0,G=Z;G>r;)G=F[G]>>8,++E;var $=G;if(C+E+(Z!==q?1:0)>n)return void Zt.log("Warning, gif stream longer than expected.");t[C++]=$;var le=C+=E;for(Z!==q&&(t[C++]=$),G=Z;E--;)t[--le]=255&(G=F[G]),G>>=8;null!==k&&d<4096&&(F[d++]=k<<8|$,d>=g+1&&h<12&&(++h,g=g<<1|1)),k=q}else d=c+1,g=(1<<(h=o+1))-1,k=null}return C!==n&&Zt.log("Warning, gif stream shorter than expected."),t}function gl(i){var a,t,n,o,r,c=Math.floor,d=new Array(64),h=new Array(64),g=new Array(64),_=new Array(64),v=new Array(65535),C=new Array(65535),m=new Array(64),F=new Array(64),k=[],q=0,Z=7,E=new Array(64),G=new Array(64),$=new Array(64),le=new Array(256),ye=new Array(2048),X=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],j=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],fe=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(A,S){for(var O=0,R=0,W=new Array,ae=1;ae<=16;ae++){for(var re=1;re<=A[ae];re++)W[S[R]]=[],W[S[R]][0]=O,W[S[R]][1]=ae,R++,O++;O*=2}return W}function de(A){for(var S=A[0],O=A[1]-1;O>=0;)S&1<<O&&(q|=1<<Z),O--,--Z<0&&(255==q?(ne(255),ne(0)):ne(q),Z=7,q=0)}function ne(A){k.push(A)}function pe(A){ne(A>>8&255),ne(255&A)}function me(A,S,O,R,W){for(var ae,re=W[0],se=W[240],Ze=function(Ce,Ne){var Ee,Le,Be,Xe,ot,rt,ht,Ct,Ke,lt,Se=0;for(Ke=0;Ke<8;++Ke){var An=(Ee=Ce[Se])+(Ct=Ce[Se+7]),mt=Ee-Ct,si=(Le=Ce[Se+1])+(ht=Ce[Se+6]),Nt=Le-ht,Et=(Be=Ce[Se+2])+(rt=Ce[Se+5]),Ai=Be-rt,_t=(Xe=Ce[Se+3])+(ot=Ce[Se+4]),Ca=Xe-ot,jt=An+_t,li=An-_t,Ei=si+Et,Bt=si-Et;Ce[Se]=jt+Ei,Ce[Se+4]=jt-Ei;var et=.707106781*(Bt+li);Ce[Se+2]=li+et,Ce[Se+6]=li-et;var vt=.382683433*((jt=Ca+Ai)-(Bt=Nt+mt)),Ta=.5411961*jt+vt,fn=1.306562965*Bt+vt,Ci=.707106781*(Ei=Ai+Nt),Ti=mt+Ci,Qe=mt-Ci;Ce[Se+5]=Qe+Ta,Ce[Se+3]=Qe-Ta,Ce[Se+1]=Ti+fn,Ce[Se+7]=Ti-fn,Se+=8}for(Se=0,Ke=0;Ke<8;++Ke){var ci=(Ee=Ce[Se])+(Ct=Ce[Se+56]),Zi=Ee-Ct,Fn=(Le=Ce[Se+8])+(ht=Ce[Se+48]),on=Le-ht,Vt=(Be=Ce[Se+16])+(rt=Ce[Se+40]),jn=Be-rt,to=(Xe=Ce[Se+24])+(ot=Ce[Se+32]),Si=Xe-ot,ui=ci+to,di=ci-to,pi=Fn+Vt,Ni=Fn-Vt;Ce[Se]=ui+pi,Ce[Se+32]=ui-pi;var Kn=.707106781*(Ni+di);Ce[Se+16]=di+Kn,Ce[Se+48]=di-Kn;var Pi=.382683433*((ui=Si+jn)-(Ni=on+Zi)),Za=.5411961*ui+Pi,no=1.306562965*Ni+Pi,io=.707106781*(pi=jn+on),ao=Zi+io,oo=Zi-io;Ce[Se+40]=oo+Za,Ce[Se+24]=oo-Za,Ce[Se+8]=ao+no,Ce[Se+56]=ao-no,Se++}for(Ke=0;Ke<64;++Ke)m[Ke]=(lt=Ce[Ke]*Ne[Ke])>0?lt+.5|0:lt-.5|0;return m}(A,S),Te=0;Te<64;++Te)F[X[Te]]=Ze[Te];var Fe=F[0]-O;O=F[0],0==Fe?de(R[0]):(de(R[C[ae=32767+Fe]]),de(v[ae]));for(var ke=63;ke>0&&0==F[ke];)ke--;if(0==ke)return de(re),O;for(var Ye,ge=1;ge<=ke;){for(var D=ge;0==F[ge]&&ge<=ke;)++ge;var nt=ge-D;if(nt>=16){Ye=nt>>4;for(var De=1;De<=Ye;++De)de(se);nt&=15}de(W[(nt<<4)+C[ae=32767+F[ge]]]),de(v[ae]),ge++}return 63!=ke&&de(re),O}function qe(A){A=Math.min(Math.max(A,1),100),r!=A&&(function(S){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],R=0;R<64;R++){var W=c((O[R]*S+50)/100);W=Math.min(Math.max(W,1),255),d[X[R]]=W}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],re=0;re<64;re++){var se=c((ae[re]*S+50)/100);se=Math.min(Math.max(se,1),255),h[X[re]]=se}for(var Ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,Fe=0;Fe<8;Fe++)for(var ke=0;ke<8;ke++)g[Te]=1/(d[X[Te]]*Ze[Fe]*Ze[ke]*8),_[Te]=1/(h[X[Te]]*Ze[Fe]*Ze[ke]*8),Te++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),r=A)}this.encode=function(A,S){var Le,Be;S&&qe(S),k=new Array,q=0,Z=7,pe(65496),pe(65504),pe(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),pe(1),pe(1),ne(0),ne(0),function(){pe(65499),pe(132),ne(0);for(var Le=0;Le<64;Le++)ne(d[Le]);ne(1);for(var Be=0;Be<64;Be++)ne(h[Be])}(),Le=A.width,Be=A.height,pe(65472),pe(17),ne(8),pe(Be),pe(Le),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1),function(){pe(65476),pe(418),ne(0);for(var Le=0;Le<16;Le++)ne(j[Le+1]);for(var Be=0;Be<=11;Be++)ne(ie[Be]);ne(16);for(var Xe=0;Xe<16;Xe++)ne(fe[Xe+1]);for(var ot=0;ot<=161;ot++)ne(P[ot]);ne(1);for(var rt=0;rt<16;rt++)ne(M[rt+1]);for(var ht=0;ht<=11;ht++)ne(H[ht]);ne(17);for(var Ct=0;Ct<16;Ct++)ne(B[Ct+1]);for(var Ke=0;Ke<=161;Ke++)ne(ce[Ke])}(),pe(65498),pe(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var O=0,R=0,W=0;q=0,Z=7,this.encode.displayName="_encode_";for(var ae,re,se,Ze,Te,Fe,ke,Ye,ge,D=A.data,De=A.height,Ce=4*A.width,Ne=0;Ne<De;){for(ae=0;ae<Ce;){for(Te=Ce*Ne+ae,ke=-1,Ye=0,ge=0;ge<64;ge++)Fe=Te+(Ye=ge>>3)*Ce+(ke=4*(7&ge)),Ne+Ye>=De&&(Fe-=Ce*(Ne+1+Ye-De)),ae+ke>=Ce&&(Fe-=ae+ke-Ce+4),re=D[Fe++],se=D[Fe++],Ze=D[Fe++],E[ge]=(ye[re]+ye[se+256>>0]+ye[Ze+512>>0]>>16)-128,G[ge]=(ye[re+768>>0]+ye[se+1024>>0]+ye[Ze+1280>>0]>>16)-128,$[ge]=(ye[re+1280>>0]+ye[se+1536>>0]+ye[Ze+1792>>0]>>16)-128;O=me(E,g,O,a,n),R=me(G,_,R,t,o),W=me($,_,W,t,o),ae+=32}Ne+=8}if(Z>=0){var Ee=[];Ee[1]=Z+1,Ee[0]=(1<<Z+1)-1,de(Ee)}return pe(65497),new Uint8Array(k)},i=i||50,function(){for(var A=String.fromCharCode,S=0;S<256;S++)le[S]=A(S)}(),a=oe(j,ie),t=oe(M,H),n=oe(fe,P),o=oe(B,ce),function(){for(var A=1,S=2,O=1;O<=15;O++){for(var R=A;R<S;R++)C[32767+R]=O,v[32767+R]=[],v[32767+R][1]=O,v[32767+R][0]=R;for(var W=-(S-1);W<=-A;W++)C[32767+W]=O,v[32767+W]=[],v[32767+W][1]=O,v[32767+W][0]=S-1+W;A<<=1,S<<=1}}(),function(){for(var A=0;A<256;A++)ye[A]=19595*A,ye[A+256>>0]=38470*A,ye[A+512>>0]=7471*A+32768,ye[A+768>>0]=-11059*A,ye[A+1024>>0]=-21709*A,ye[A+1280>>0]=32768*A+8421375,ye[A+1536>>0]=-27439*A,ye[A+1792>>0]=-5329*A}(),qe(i)}function oi(i,a){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!a,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function bu(i){function a(j){if(!j)throw Error("assert :P")}function t(j,ie,fe){for(var P=0;4>P;P++)if(j[ie+P]!=fe.charCodeAt(P))return!0;return!1}function n(j,ie,fe,P,M){for(var H=0;H<M;H++)j[ie+H]=fe[P+H]}function o(j,ie,fe,P){for(var M=0;M<P;M++)j[ie+M]=fe}function r(j){return new Int32Array(j)}function c(j,ie){for(var fe=[],P=0;P<j;P++)fe.push(new ie);return fe}function d(j,ie){var fe=[];return function P(M,H,B){for(var ce=B[H],oe=0;oe<ce&&(M.push(B.length>H+1?[]:new ie),!(B.length<H+1));oe++)P(M[oe],H+1,B)}(fe,0,j),fe}var h=function(){var j=this;function ie(s,l){for(var p=1<<l-1>>>0;s&p;)p>>>=1;return p?(s&p-1)+p:s}function fe(s,l,p,f,b){a(!(f%p));do{s[l+(f-=p)]=b}while(0<f)}function P(s,l,p,f,b){if(a(2328>=b),512>=b)var x=r(512);else if(null==(x=r(b)))return 0;return function(w,T,N,L,z,ee){var te,K,be=T,ue=1<<N,Q=r(16),Y=r(16);for(a(0!=z),a(null!=L),a(null!=w),a(0<N),K=0;K<z;++K){if(15<L[K])return 0;++Q[L[K]]}if(Q[0]==z)return 0;for(Y[1]=0,te=1;15>te;++te){if(Q[te]>1<<te)return 0;Y[te+1]=Y[te]+Q[te]}for(K=0;K<z;++K)te=L[K],0<L[K]&&(ee[Y[te]++]=K);if(1==Y[15])return(L=new M).g=0,L.value=ee[0],fe(w,be,1,ue,L),ue;var _e,xe=-1,ve=ue-1,Ue=0,Pe=1,Re=1,Me=1<<N;for(K=0,te=1,z=2;te<=N;++te,z<<=1){if(Pe+=Re<<=1,0>(Re-=Q[te]))return 0;for(;0<Q[te];--Q[te])(L=new M).g=te,L.value=ee[K++],fe(w,be+Ue,z,Me,L),Ue=ie(Ue,te)}for(te=N+1,z=2;15>=te;++te,z<<=1){if(Pe+=Re<<=1,0>(Re-=Q[te]))return 0;for(;0<Q[te];--Q[te]){if(L=new M,(Ue&ve)!=xe){for(be+=Me,_e=1<<(xe=te)-N;15>xe&&!(0>=(_e-=Q[xe]));)++xe,_e<<=1;ue+=Me=1<<(_e=xe-N),w[T+(xe=Ue&ve)].g=_e+N,w[T+xe].value=be-T-xe}L.g=te-N,L.value=ee[K++],fe(w,be+(Ue>>N),z,Me,L),Ue=ie(Ue,te)}}return Pe!=2*Y[15]-1?0:ue}(s,l,p,f,b,x)}function M(){this.value=this.g=0}function H(){this.value=this.g=0}function B(){this.G=c(5,M),this.H=r(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(mn,H)}function ce(s,l,p,f){a(null!=s),a(null!=l),a(2147483648>f),s.Ca=254,s.I=0,s.b=-8,s.Ka=0,s.oa=l,s.pa=p,s.Jd=l,s.Yc=p+f,s.Zc=4<=f?p+f-4+1:p,ae(s)}function oe(s,l){for(var p=0;0<l--;)p|=se(s,128)<<l;return p}function de(s,l){var p=oe(s,l);return re(s)?-p:p}function ne(s,l,p,f){var b,x=0;for(a(null!=s),a(null!=l),a(4294967288>f),s.Sb=f,s.Ra=0,s.u=0,s.h=0,4<f&&(f=4),b=0;b<f;++b)x+=l[p+b]<<8*b;s.Ra=x,s.bb=f,s.oa=l,s.pa=p}function pe(s){for(;8<=s.u&&s.bb<s.Sb;)s.Ra>>>=8,s.Ra+=s.oa[s.pa+s.bb]<<xo-8>>>0,++s.bb,s.u-=8;O(s)&&(s.h=1,s.u=0)}function me(s,l){if(a(0<=l),!s.h&&l<=yo){var p=S(s)&bo[l];return s.u+=l,pe(s),p}return s.h=1,s.u=0}function qe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function S(s){return s.Ra>>>(s.u&xo-1)>>>0}function O(s){return a(s.bb<=s.Sb),s.h||s.bb==s.Sb&&s.u>xo}function R(s,l){s.u=l,s.h=O(s)}function W(s){s.u>=lr&&(a(s.u>=lr),pe(s))}function ae(s){a(null!=s&&null!=s.oa),s.pa<s.Zc?(s.I=(s.oa[s.pa++]|s.I<<8)>>>0,s.b+=8):(a(null!=s&&null!=s.oa),s.pa<s.Yc?(s.b+=8,s.I=s.oa[s.pa++]|s.I<<8):s.Ka?s.b=0:(s.I<<=8,s.b+=8,s.Ka=1))}function re(s){return oe(s,1)}function se(s,l){var p=s.Ca;0>s.b&&ae(s);var f=s.b,b=p*l>>>8,x=(s.I>>>f>b)+0;for(x?(p-=b,s.I-=b+1<<f>>>0):p=b+1,f=p,b=0;256<=f;)b+=8,f>>=8;return s.b-=f=7^b+En[f],s.Ca=(p<<f)-1,x}function Ze(s,l,p){s[l+0]=p>>24&255,s[l+1]=p>>16&255,s[l+2]=p>>8&255,s[l+3]=p>>0&255}function Te(s,l){return s[l+0]<<0|s[l+1]<<8}function Fe(s,l){return Te(s,l)|s[l+2]<<16}function ke(s,l){return Te(s,l)|Te(s,l+2)<<16}function Ye(s,l){var p=1<<l;return a(null!=s),a(0<l),s.X=r(p),null==s.X?0:(s.Mb=32-l,s.Xa=l,1)}function ge(s,l){a(null!=s),a(null!=l),a(s.Xa==l.Xa),n(l.X,0,s.X,0,1<<l.Xa)}function D(){this.X=[],this.Xa=this.Mb=0}function nt(s,l,p,f){a(null!=p),a(null!=f);var b=p[0],x=f[0];return 0==b&&(b=(s*x+l/2)/l),0==x&&(x=(l*b+s/2)/s),0>=b||0>=x?0:(p[0]=b,f[0]=x,1)}function De(s,l){return s+(1<<l)-1>>>l}function Ce(s,l){return((4278255360&s)+(4278255360&l)>>>0&4278255360)+((16711935&s)+(16711935&l)>>>0&16711935)>>>0}function Ne(s,l){j[l]=function(p,f,b,x,w,T,N){var L;for(L=0;L<w;++L){var z=j[s](T[N+L-1],b,x+L);T[N+L]=Ce(p[f+L],z)}}}function Ee(){this.ud=this.hd=this.jd=0}function Le(s,l){return((4278124286&(s^l))>>>1)+(s&l)>>>0}function Be(s){return 0<=s&&256>s?s:0>s?0:255<s?255:void 0}function Xe(s,l){return Be(s+(s-l+.5>>1))}function ot(s,l,p){return Math.abs(l-p)-Math.abs(s-p)}function rt(s,l,p,f,b,x,w){for(f=x[w-1],p=0;p<b;++p)x[w+p]=f=Ce(s[l+p],f)}function ht(s,l,p,f,b){var x;for(x=0;x<p;++x){var w=s[l+x],T=w>>8&255,N=16711935&(N=(N=16711935&w)+((T<<16)+T));f[b+x]=(4278255360&w)+N>>>0}}function Ct(s,l){l.jd=s>>0&255,l.hd=s>>8&255,l.ud=s>>16&255}function Ke(s,l,p,f,b,x){var w;for(w=0;w<f;++w){var T=l[p+w],N=T>>>8,L=T,z=255&(z=(z=T>>>16)+((s.jd<<24>>24)*(N<<24>>24)>>>5));L=255&(L=(L+=(s.hd<<24>>24)*(N<<24>>24)>>>5)+((s.ud<<24>>24)*(z<<24>>24)>>>5)),b[x+w]=(4278255360&T)+(z<<16)+L}}function lt(s,l,p,f,b){j[l]=function(x,w,T,N,L,z,ee,te,K){for(N=ee;N<te;++N)for(ee=0;ee<K;++ee)L[z++]=b(T[f(x[w++])])},j[s]=function(x,w,T,N,L,z,ee){var te=8>>x.b,K=x.Ea,be=x.K[0],ue=x.w;if(8>te)for(x=(1<<x.b)-1,ue=(1<<te)-1;w<T;++w){var Q,Y=0;for(Q=0;Q<K;++Q)Q&x||(Y=f(N[L++])),z[ee++]=b(be[Y&ue]),Y>>=te}else j["VP8LMapColor"+p](N,L,be,ue,z,ee,w,T,K)}}function Se(s,l,p,f,b){for(p=l+p;l<p;){var x=s[l++];f[b++]=x>>16&255,f[b++]=x>>8&255,f[b++]=x>>0&255}}function An(s,l,p,f,b){for(p=l+p;l<p;){var x=s[l++];f[b++]=x>>16&255,f[b++]=x>>8&255,f[b++]=x>>0&255,f[b++]=x>>24&255}}function mt(s,l,p,f,b){for(p=l+p;l<p;){var x=(w=s[l++])>>16&240|w>>12&15,w=w>>0&240|w>>28&15;f[b++]=x,f[b++]=w}}function si(s,l,p,f,b){for(p=l+p;l<p;){var x=(w=s[l++])>>16&248|w>>13&7,w=w>>5&224|w>>3&31;f[b++]=x,f[b++]=w}}function Nt(s,l,p,f,b){for(p=l+p;l<p;){var x=s[l++];f[b++]=x>>0&255,f[b++]=x>>8&255,f[b++]=x>>16&255}}function Et(s,l,p,f,b,x){if(0==x)for(p=l+p;l<p;)Ze(f,((x=s[l++])[0]>>24|x[1]>>8&65280|x[2]<<8&16711680|x[3]<<24)>>>0),b+=32;else n(f,b,s,l,p)}function Ai(s,l){j[l][0]=j[s+"0"],j[l][1]=j[s+"1"],j[l][2]=j[s+"2"],j[l][3]=j[s+"3"],j[l][4]=j[s+"4"],j[l][5]=j[s+"5"],j[l][6]=j[s+"6"],j[l][7]=j[s+"7"],j[l][8]=j[s+"8"],j[l][9]=j[s+"9"],j[l][10]=j[s+"10"],j[l][11]=j[s+"11"],j[l][12]=j[s+"12"],j[l][13]=j[s+"13"],j[l][14]=j[s+"0"],j[l][15]=j[s+"0"]}function _t(s){return s==Ql||s==Hl||s==Ts||s==Gl}function Ca(){this.eb=[],this.size=this.A=this.fb=0}function jt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function li(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ca,this.f.kb=new jt,this.sd=null}function Ei(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function et(s){return alert("todo:WebPSamplerProcessPlane"),s.T}function vt(s,l){var p=s.T,f=l.ba.f.RGBA,b=f.eb,x=f.fb+s.ka*f.A,w=ti[l.ba.S],T=s.y,N=s.O,L=s.f,z=s.N,ee=s.ea,te=s.W,K=l.cc,be=l.dc,ue=l.Mc,Q=l.Nc,Y=s.ka,_e=s.ka+s.T,xe=s.U,ve=xe+1>>1;for(0==Y?w(T,N,null,null,L,z,ee,te,L,z,ee,te,b,x,null,null,xe):(w(l.ec,l.fc,T,N,K,be,ue,Q,L,z,ee,te,b,x-f.A,b,x,xe),++p);Y+2<_e;Y+=2)w(T,(N+=2*s.fa)-s.fa,T,N,K=L,be=z,ue=ee,Q=te,L,z+=s.Rc,ee,te+=s.Rc,b,(x+=2*f.A)-f.A,b,x,xe);return N+=s.fa,s.j+_e<s.o?(n(l.ec,l.fc,T,N,xe),n(l.cc,l.dc,L,z,ve),n(l.Mc,l.Nc,ee,te,ve),p--):1&_e||w(T,N,null,null,L,z,ee,te,L,z,ee,te,b,x+f.A,null,null,xe),p}function Ta(s,l,p){var f=s.F,b=[s.J];if(null!=f){var x=s.U,w=l.ba.S,T=w==Cs||w==Ts;l=l.ba.f.RGBA;var N=[0],L=s.ka;N[0]=s.T,s.Kb&&(0==L?--N[0]:(--L,b[0]-=s.width),s.j+s.ka+s.T==s.o&&(N[0]=s.o-s.j-L));var z=l.eb;s=Mt(f,b[0],s.width,x,N,z,(L=l.fb+L*l.A)+(T?0:3),l.A),a(p==N),s&&_t(w)&&Xn(z,L,T,x,N,l.A)}return 0}function fn(s){var l=s.ma,p=l.ba.S,f=11>p,b=p==ws||p==As||p==Cs||p==zl||12==p||_t(p);if(l.memory=null,l.Ib=null,l.Jb=null,l.Nd=null,!rr(l.Oa,s,b?11:12))return 0;if(b&&_t(p)&&we(),s.da)alert("todo:use_scaling");else{if(f){if(l.Ib=et,s.Kb){if(l.memory=r(s.U+2*(p=s.U+1>>1)),null==l.memory)return 0;l.ec=l.memory,l.fc=0,l.cc=l.ec,l.dc=l.fc+s.U,l.Mc=l.cc,l.Nc=l.dc+p,l.Ib=vt,we()}}else alert("todo:EmitYUV");b&&(l.Jb=Ta,f&&V())}if(f&&!qu){for(s=0;256>s;++s)Bf[s]=89858*(s-128)+Ns>>Zs,zf[s]=-22014*(s-128)+Ns,Rf[s]=-45773*(s-128),Jf[s]=113618*(s-128)+Ns>>Zs;for(s=mr;s<Wl;++s)Qf[s-mr]=Bn(l=76283*(s-16)+Ns>>Zs,255),Hf[s-mr]=Bn(l+8>>4,15);qu=1}return 1}function Ci(s){var l=s.ma,p=s.U,f=s.T;return a(!(1&s.ka)),0>=p||0>=f?0:(p=l.Ib(s,l),null!=l.Jb&&l.Jb(s,l,p),l.Dc+=p,1)}function Ti(s){s.ma.memory=null}function Qe(s,l,p,f){return 47!=me(s,8)?0:(l[0]=me(s,14)+1,p[0]=me(s,14)+1,f[0]=me(s,1),0!=me(s,3)?0:!s.h)}function ci(s,l){if(4>s)return s+1;var p=s-2>>1;return(2+(1&s)<<p)+me(l,p)+1}function Zi(s,l){return 120<l?l-120:1<=(p=((p=Nf[l-1])>>4)*s+(8-(15&p)))?p:1;var p}function Fn(s,l,p){var f=S(p),b=s[l+=255&f].g-8;return 0<b&&(R(p,p.u+8),f=S(p),l+=s[l].value,l+=f&(1<<b)-1),R(p,p.u+s[l].g),s[l].value}function on(s,l,p){return p.g+=s.g,p.value+=s.value<<l>>>0,a(8>=p.g),s.g}function Vt(s,l,p){var f=s.xc;return a((l=0==f?0:s.vc[s.md*(p>>f)+(l>>f)])<s.Wb),s.Ya[l]}function jn(s,l,p,f){var b=s.ab,x=s.c*l,w=s.C;l=w+l;var T=p,N=f;for(f=s.Ta,p=s.Ua;0<b--;){var L=s.gc[b],z=w,ee=l,te=T,K=N,be=(N=f,T=p,L.Ea);switch(a(z<ee),a(ee<=L.nc),L.hc){case 2:ms(te,K,(ee-z)*be,N,T);break;case 0:var ue=z,Q=ee,Y=N,_e=T,xe=(Me=L).Ea;0==ue&&(Jl(te,K,null,null,1,Y,_e),rt(te,K+1,0,0,xe-1,Y,_e+1),K+=xe,_e+=xe,++ue);for(var ve=1<<Me.b,Ue=ve-1,Pe=De(xe,Me.b),Re=Me.K,Me=Me.w+(ue>>Me.b)*Pe;ue<Q;){var gt=Re,xt=Me,ft=1;for(cr(te,K,Y,_e-xe,1,Y,_e);ft<xe;){var ct=(ft&~Ue)+ve;ct>xe&&(ct=xe),(0,ia[gt[xt++]>>8&15])(te,K+ +ft,Y,_e+ft-xe,ct-ft,Y,_e+ft),ft=ct}K+=xe,_e+=xe,++ue&Ue||(Me+=Pe)}ee!=L.nc&&n(N,T-be,N,T+(ee-z-1)*be,be);break;case 1:for(be=te,Q=K,xe=(te=L.Ea)-(_e=te&~(Y=(K=1<<L.b)-1)),ue=De(te,L.b),ve=L.K,L=L.w+(z>>L.b)*ue;z<ee;){for(Ue=ve,Pe=L,Re=new Ee,Me=Q+_e,gt=Q+te;Q<Me;)Ct(Ue[Pe++],Re),La(Re,be,Q,K,N,T),Q+=K,T+=K;Q<gt&&(Ct(Ue[Pe++],Re),La(Re,be,Q,xe,N,T),Q+=xe,T+=xe),++z&Y||(L+=ue)}break;case 3:if(te==N&&K==T&&0<L.b){for(Q=N,te=be=T+(ee-z)*be-(_e=(ee-z)*De(L.Ea,L.b)),K=N,Y=T,ue=[],_e=(xe=_e)-1;0<=_e;--_e)ue[_e]=K[Y+_e];for(_e=xe-1;0<=_e;--_e)Q[te+_e]=ue[_e];Wn(L,z,ee,N,be,N,T)}else Wn(L,z,ee,te,K,N,T)}T=f,N=p}N!=p&&n(f,p,T,N,x)}function to(s,l){var p=s.V,f=s.Ba+s.c*s.C,b=l-s.C;if(a(l<=s.l.o),a(16>=b),0<b){var x=s.l,w=s.Ta,T=s.Ua,N=x.width;if(jn(s,b,p,f),b=T=[T],a((p=s.C)<(f=l)),a(x.v<x.va),f>x.o&&(f=x.o),p<x.j){var L=x.j-p;p=x.j,b[0]+=L*N}if(p>=f?p=0:(b[0]+=4*x.v,x.ka=p-x.j,x.U=x.va-x.v,x.T=f-p,p=1),p){if(T=T[0],11>(p=s.ca).S){var z=p.f.RGBA,ee=(f=p.S,b=x.U,x=x.T,L=z.eb,z.A),te=x;for(z=z.fb+s.Ma*z.A;0<te--;){var K=w,be=T,ue=b,Q=L,Y=z;switch(f){case xs:Sn(K,be,ue,Q,Y);break;case ws:Pn(K,be,ue,Q,Y);break;case Ql:Pn(K,be,ue,Q,Y),Xn(Q,Y,0,ue,1,0);break;case Au:Di(K,be,ue,Q,Y);break;case As:Et(K,be,ue,Q,Y,1);break;case Hl:Et(K,be,ue,Q,Y,1),Xn(Q,Y,0,ue,1,0);break;case Cs:Et(K,be,ue,Q,Y,0);break;case Ts:Et(K,be,ue,Q,Y,0),Xn(Q,Y,1,ue,1,0);break;case zl:aa(K,be,ue,Q,Y);break;case Gl:aa(K,be,ue,Q,Y),kt(Q,Y,ue,1,0);break;case Cu:Oi(K,be,ue,Q,Y);break;default:a(0)}T+=N,z+=ee}s.Ma+=x}else alert("todo:EmitRescaledRowsYUVA");a(s.Ma<=p.height)}}s.C=l,a(s.C<=s.i)}function Si(s){var l;if(0<s.ua)return 0;for(l=0;l<s.Wb;++l){var p=s.Ya[l].G,f=s.Ya[l].H;if(0<p[1][f[1]+0].g||0<p[2][f[2]+0].g||0<p[3][f[3]+0].g)return 0}return 1}function ui(s,l,p,f,b,x){if(0!=s.Z){var w=s.qd,T=s.rd;for(a(null!=la[s.Z]);l<p;++l)la[s.Z](w,T,f,b,f,b,x),w=f,T=b,b+=x;s.qd=w,s.rd=T}}function di(s,l){var p=s.l.ma,f=0==p.Z||1==p.Z?s.l.j:s.C;if(f=s.C<f?f:s.C,a(l<=s.l.o),l>f){var b=s.l.width,x=p.ca,w=p.tb+b*f,T=s.V,N=s.Ba+s.c*f,L=s.gc;a(1==s.ab),a(3==L[0].hc),gs(L[0],f,l,T,N,x,w),ui(p,f,l,x,w,b)}s.C=s.Ma=l}function pi(s,l,p,f,b,x,w){var T=s.$/f,N=s.$%f,L=s.m,z=s.s,ee=p+s.$,te=ee;b=p+f*b;var K=p+f*x,be=280+z.ua,ue=s.Pb?T:16777216,Q=0<z.ua?z.Wa:null,Y=z.wc,_e=ee<K?Vt(z,N,T):null;a(s.C<x),a(K<=b);var xe=!1;e:for(;;){for(;xe||ee<K;){var ve=0;if(T>=ue){var Ue=ee-p;a((ue=s).Pb),ue.wd=ue.m,ue.xd=Ue,0<ue.s.ua&&ge(ue.s.Wa,ue.s.vb),ue=T+kf}if(N&Y||(_e=Vt(z,N,T)),a(null!=_e),_e.Qb&&(l[ee]=_e.qb,xe=!0),!xe)if(W(L),_e.jc){Ue=l;var Pe=ee,Re=_e.pd[S(ve=L)&mn-1];a(_e.jc),256>Re.g?(R(ve,ve.u+Re.g),Ue[Pe]=Re.value,ve=0):(R(ve,ve.u+Re.g-256),a(256<=Re.value),ve=Re.value),0==ve&&(xe=!0)}else ve=Fn(_e.G[0],_e.H[0],L);if(L.h)break;if(xe||256>ve){if(!xe)if(_e.nd)l[ee]=(_e.qb|ve<<8)>>>0;else{if(W(L),xe=Fn(_e.G[1],_e.H[1],L),W(L),Ue=Fn(_e.G[2],_e.H[2],L),Pe=Fn(_e.G[3],_e.H[3],L),L.h)break;l[ee]=(Pe<<24|xe<<16|ve<<8|Ue)>>>0}if(xe=!1,++ee,++N>=f&&(N=0,++T,null!=w&&T<=x&&!(T%16)&&w(s,T),null!=Q))for(;te<ee;)ve=l[te++],Q.X[(506832829*ve&4294967295)>>>Q.Mb]=ve}else if(280>ve){if(ve=ci(ve-256,L),Ue=Fn(_e.G[4],_e.H[4],L),W(L),Ue=Zi(f,Ue=ci(Ue,L)),L.h)break;if(ee-p<Ue||b-ee<ve)break e;for(Pe=0;Pe<ve;++Pe)l[ee+Pe]=l[ee+Pe-Ue];for(ee+=ve,N+=ve;N>=f;)N-=f,++T,null!=w&&T<=x&&!(T%16)&&w(s,T);if(a(ee<=b),N&Y&&(_e=Vt(z,N,T)),null!=Q)for(;te<ee;)ve=l[te++],Q.X[(506832829*ve&4294967295)>>>Q.Mb]=ve}else{if(!(ve<be))break e;for(xe=ve-280,a(null!=Q);te<ee;)ve=l[te++],Q.X[(506832829*ve&4294967295)>>>Q.Mb]=ve;ve=ee,a(!(xe>>>(Ue=Q).Xa)),l[ve]=Ue.X[xe],xe=!0}xe||a(L.h==O(L))}if(s.Pb&&L.h&&ee<b)a(s.m.h),s.a=5,s.m=s.wd,s.$=s.xd,0<s.s.ua&&ge(s.s.vb,s.s.Wa);else{if(L.h)break e;w?.(s,T>x?x:T),s.a=0,s.$=ee-p}return 1}return s.a=3,0}function Ni(s){a(null!=s),s.vc=null,s.yc=null,s.Ya=null;var l=s.Wa;null!=l&&(l.X=null),s.vb=null,a(null!=s)}function Kn(){var s=new Bl;return null==s?null:(s.a=0,s.xb=Nu,Ai("Predictor","VP8LPredictors"),Ai("Predictor","VP8LPredictors_C"),Ai("PredictorAdd","VP8LPredictorsAdd"),Ai("PredictorAdd","VP8LPredictorsAdd_C"),ms=ht,La=Ke,Sn=Se,Pn=An,aa=mt,Oi=si,Di=Nt,j.VP8LMapColor32b=wo,j.VP8LMapColor8b=_s,s)}function Pi(s,l,p,f,b){var x=1,w=[s],T=[l],N=f.m,L=f.s,z=null,ee=0;e:for(;;){if(p)for(;x&&me(N,1);){var te=w,K=T,be=f,ue=1,Q=be.m,Y=be.gc[be.ab],_e=me(Q,2);if(be.Oc&1<<_e)x=0;else{switch(be.Oc|=1<<_e,Y.hc=_e,Y.Ea=te[0],Y.nc=K[0],Y.K=[null],++be.ab,a(4>=be.ab),_e){case 0:case 1:Y.b=me(Q,3)+2,ue=Pi(De(Y.Ea,Y.b),De(Y.nc,Y.b),0,be,Y.K),Y.K=Y.K[0];break;case 3:var xe,ve=me(Q,8)+1,Ue=16<ve?0:4<ve?1:2<ve?2:3;if(te[0]=De(Y.Ea,Ue),Y.b=Ue,xe=ue=Pi(ve,1,0,be,Y.K)){var Pe,Re=ve,Me=Y,gt=1<<(8>>Me.b),xt=r(gt);if(null==xt)xe=0;else{var ft=Me.K[0],ct=Me.w;for(xt[0]=Me.K[0][0],Pe=1;Pe<1*Re;++Pe)xt[Pe]=Ce(ft[ct+Pe],xt[Pe-1]);for(;Pe<4*gt;++Pe)xt[Pe]=0;Me.K[0]=null,Me.K[0]=xt,xe=1}}ue=xe;break;case 2:break;default:a(0)}x=ue}}if(w=w[0],T=T[0],x&&me(N,1)&&!(x=1<=(ee=me(N,4))&&11>=ee)){f.a=3;break e}var Pt;if(Pt=x)t:{var Tt,at,Xt,In=f,en=w,Un=T,wt=ee,Rn=p,zn=In.m,un=In.s,gn=[null],Mn=1,ni=0,Fi=Pf[wt];n:for(;;){if(Rn&&me(zn,1)){var dn=me(zn,3)+2,Ri=De(en,dn),Ia=De(Un,dn),No=Ri*Ia;if(!Pi(Ri,Ia,0,In,gn))break n;for(gn=gn[0],un.xc=dn,Tt=0;Tt<No;++Tt){var ca=gn[Tt]>>8&65535;gn[Tt]=ca,ca>=Mn&&(Mn=ca+1)}}if(zn.h)break n;for(at=0;5>at;++at){var Rt=Tu[at];!at&&0<wt&&(Rt+=1<<wt),ni<Rt&&(ni=Rt)}var Vl=c(Mn*Fi,M),Iu=Mn,Uu=c(Iu,B);if(null==Uu)var ks=null;else a(65536>=Iu),ks=Uu;var gr=r(ni);if(null==ks||null==gr||null==Vl){In.a=1;break n}var Ms=Vl;for(Tt=Xt=0;Tt<Mn;++Tt){var _i=ks[Tt],Po=_i.G,ko=_i.H,Ou=0,Ls=1,Du=0;for(at=0;5>at;++at){Rt=Tu[at],Po[at]=Ms,ko[at]=Xt,!at&&0<wt&&(Rt+=1<<wt);a:{var Fs,$l=Rt,qs=In,_r=gr,Kf=Ms,Wf=Xt,Xl=0,ua=qs.m,Vf=me(ua,1);if(o(_r,0,0,$l),Vf){var $f=me(ua,1)+1,Xf=me(ua,1),ju=me(ua,0==Xf?1:8);_r[ju]=1,2==$f&&(_r[ju=me(ua,8)]=1);var Es=1}else{var Bu=r(19),Ju=me(ua,4)+4;if(19<Ju){qs.a=3;var Ss=0;break a}for(Fs=0;Fs<Ju;++Fs)Bu[Zf[Fs]]=me(ua,3);var ec=void 0,vr=void 0,Ru=qs,em=Bu,Is=$l,zu=_r,tc=0,da=Ru.m,Qu=8,Hu=c(128,M);i:for(;P(Hu,0,7,em,19);){if(me(da,1)){var tm=2+2*me(da,3);if((ec=2+me(da,tm))>Is)break i}else ec=Is;for(vr=0;vr<Is&&ec--;){W(da);var Gu=Hu[0+(127&S(da))];R(da,da.u+Gu.g);var Mo=Gu.value;if(16>Mo)zu[vr++]=Mo,0!=Mo&&(Qu=Mo);else{var nm=16==Mo,Yu=Mo-16,im=Cf[Yu],Ku=me(da,Af[Yu])+im;if(vr+Ku>Is)break i;for(var am=nm?Qu:0;0<Ku--;)zu[vr++]=am}}tc=1;break i}tc||(Ru.a=3),Es=tc}(Es=Es&&!ua.h)&&(Xl=P(Kf,Wf,8,_r,$l)),Es&&0!=Xl?Ss=Xl:(qs.a=3,Ss=0)}if(0==Ss)break n;if(Ls&&1==Tf[at]&&(Ls=0==Ms[Xt].g),Ou+=Ms[Xt].g,Xt+=Ss,3>=at){var br,nc=gr[0];for(br=1;br<Rt;++br)gr[br]>nc&&(nc=gr[br]);Du+=nc}}if(_i.nd=Ls,_i.Qb=0,Ls&&(_i.qb=(Po[3][ko[3]+0].value<<24|Po[1][ko[1]+0].value<<16|Po[2][ko[2]+0].value)>>>0,0==Ou&&256>Po[0][ko[0]+0].value&&(_i.Qb=1,_i.qb+=Po[0][ko[0]+0].value<<8)),_i.jc=!_i.Qb&&6>Du,_i.jc){var Us,zi=_i;for(Us=0;Us<mn;++Us){var pa=Us,ha=zi.pd[pa],Os=zi.G[0][zi.H[0]+pa];256<=Os.value?(ha.g=Os.g+256,ha.value=Os.value):(ha.g=0,ha.value=0,pa>>=on(Os,8,ha),pa>>=on(zi.G[1][zi.H[1]+pa],16,ha),pa>>=on(zi.G[2][zi.H[2]+pa],0,ha),on(zi.G[3][zi.H[3]+pa],24,ha))}}}un.vc=gn,un.Wb=Mn,un.Ya=ks,un.yc=Vl,Pt=1;break t}Pt=0}if(!(x=Pt)){f.a=3;break e}if(0<ee){if(L.ua=1<<ee,!Ye(L.Wa,ee)){f.a=1,x=0;break e}}else L.ua=0;var ic=f,Wu=w,om=T,ac=ic.s,oc=ac.xc;if(ic.c=Wu,ic.i=om,ac.md=De(Wu,oc),ac.wc=0==oc?-1:(1<<oc)-1,p){f.xb=If;break e}if(null==(z=r(w*T))){f.a=1,x=0;break e}x=(x=pi(f,z,0,w,T,T,null))&&!N.h;break e}return x?(null!=b?b[0]=z:(a(null==z),a(p)),f.$=0,p||Ni(L)):Ni(L),x}function Za(s,l){var p=s.c*s.i,f=p+l+16*l;return a(s.c<=l),s.V=r(f),null==s.V?(s.Ta=null,s.Ua=0,s.a=1,0):(s.Ta=s.V,s.Ua=s.Ba+p+l,1)}function no(s,l){var p=s.C,f=l-p,b=s.V,x=s.Ba+s.c*p;for(a(l<=s.l.o);0<f;){var w=16<f?16:f,T=s.l.ma,N=s.l.width,L=N*w,z=T.ca,ee=T.tb+N*p,te=s.Ta,K=s.Ua;jn(s,w,b,x),Kt(te,K,z,ee,L),ui(T,p,p+w,z,ee,N),f-=w,b+=w*s.c,p+=w}a(p==l),s.C=s.Ma=l}function io(){this.ub=this.yd=this.td=this.Rb=0}function ao(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oo(){this.Fb=this.Bb=this.Cb=0,this.Zb=r(4),this.Lb=r(4)}function Kr(){var s;this.Yb=(function l(p,f,b){for(var x=b[f],w=0;w<x&&(p.push(b.length>f+1?[]:0),!(b.length<f+1));w++)l(p[w],f+1,b)}(s=[],0,[3,11]),s)}function vl(){this.jb=r(3),this.Wc=d([4,8],Kr),this.Xc=d([4,17],Kr)}function bl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new r(4),this.od=new r(4)}function ro(){this.ld=this.La=this.dd=this.tc=0}function Wr(){this.Na=this.la=0}function yl(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zo(){this.ad=r(384),this.Za=0,this.Ob=r(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function xl(){this.uc=this.M=this.Nb=0,this.wa=Array(new ro),this.Y=0,this.ya=Array(new zo),this.aa=0,this.l=new so}function Vr(){this.y=r(16),this.f=r(8),this.ea=r(8)}function wl(){this.cb=this.a=0,this.sc="",this.m=new qe,this.Od=new io,this.Kc=new ao,this.ed=new bl,this.Qa=new oo,this.Ic=this.$c=this.Aa=0,this.D=new xl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,qe),this.ia=0,this.pb=c(4,yl),this.Pa=new vl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vr),this.Hd=0,this.rb=Array(new Wr),this.sb=0,this.wa=Array(new ro),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zo),this.L=this.aa=0,this.gd=d([4,2],ro),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function so(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Al(){var s=new wl;return null!=s&&(s.a=0,s.sc="OK",s.cb=0,s.Xb=0,fr||(fr=es)),s}function Gt(s,l,p){return 0==s.a&&(s.a=l,s.sc=p,s.cb=0),0}function $r(s,l,p){return 3<=p&&157==s[l+0]&&1==s[l+1]&&42==s[l+2]}function Xr(s,l){if(null==s)return 0;if(s.a=0,s.sc="OK",null==l)return Gt(s,2,"null VP8Io passed to VP8GetHeaders()");var p=l.data,f=l.w,b=l.ha;if(4>b)return Gt(s,7,"Truncated header.");var x=p[f+0]|p[f+1]<<8|p[f+2]<<16,w=s.Od;if(w.Rb=!(1&x),w.td=x>>1&7,w.yd=x>>4&1,w.ub=x>>5,3<w.td)return Gt(s,3,"Incorrect keyframe parameters.");if(!w.yd)return Gt(s,4,"Frame not displayable.");f+=3,b-=3;var T=s.Kc;if(w.Rb){if(7>b)return Gt(s,7,"cannot parse picture header");if(!$r(p,f,b))return Gt(s,3,"Bad code word");T.c=16383&(p[f+4]<<8|p[f+3]),T.Td=p[f+4]>>6,T.i=16383&(p[f+6]<<8|p[f+5]),T.Ud=p[f+6]>>6,f+=7,b-=7,s.za=T.c+15>>4,s.Ub=T.i+15>>4,l.width=T.c,l.height=T.i,l.Da=0,l.j=0,l.v=0,l.va=l.width,l.o=l.height,l.da=0,l.ib=l.width,l.hb=l.height,l.U=l.width,l.T=l.height,o((x=s.Pa).jb,0,255,x.jb.length),a(null!=(x=s.Qa)),x.Cb=0,x.Bb=0,x.Fb=1,o(x.Zb,0,0,x.Zb.length),o(x.Lb,0,0,x.Lb)}if(w.ub>b)return Gt(s,7,"bad partition length");ce(x=s.m,p,f,w.ub),f+=w.ub,b-=w.ub,w.Rb&&(T.Ld=re(x),T.Kd=re(x)),T=s.Qa;var N,L=s.Pa;if(a(null!=x),a(null!=T),T.Cb=re(x),T.Cb){if(T.Bb=re(x),re(x)){for(T.Fb=re(x),N=0;4>N;++N)T.Zb[N]=re(x)?de(x,7):0;for(N=0;4>N;++N)T.Lb[N]=re(x)?de(x,6):0}if(T.Bb)for(N=0;3>N;++N)L.jb[N]=re(x)?oe(x,8):255}else T.Bb=0;if(x.Ka)return Gt(s,3,"cannot parse segment header");if((T=s.ed).zd=re(x),T.Tb=oe(x,6),T.wb=oe(x,3),T.Pc=re(x),T.Pc&&re(x)){for(L=0;4>L;++L)re(x)&&(T.vd[L]=de(x,6));for(L=0;4>L;++L)re(x)&&(T.od[L]=de(x,6))}if(s.L=0==T.Tb?0:T.zd?1:2,x.Ka)return Gt(s,3,"cannot parse filter header");var z=b;if(b=N=f,f=N+z,T=z,s.Xb=(1<<oe(s.m,2))-1,z<3*(L=s.Xb))p=7;else{for(N+=3*L,T-=3*L,z=0;z<L;++z){var ee=p[b+0]|p[b+1]<<8|p[b+2]<<16;ee>T&&(ee=T),ce(s.Jc[+z],p,N,ee),N+=ee,T-=ee,b+=3}ce(s.Jc[+L],p,N,T),p=N<f?0:5}if(0!=p)return Gt(s,p,"cannot parse partitions");for(p=oe(N=s.m,7),b=re(N)?de(N,4):0,f=re(N)?de(N,4):0,T=re(N)?de(N,4):0,L=re(N)?de(N,4):0,N=re(N)?de(N,4):0,z=s.Qa,ee=0;4>ee;++ee){if(z.Cb){var te=z.Zb[ee];z.Fb||(te+=p)}else{if(0<ee){s.pb[ee]=s.pb[0];continue}te=p}var K=s.pb[ee];K.Sc[0]=Yl[Bn(te+b,127)],K.Sc[1]=Kl[Bn(te+0,127)],K.Eb[0]=2*Yl[Bn(te+f,127)],K.Eb[1]=101581*Kl[Bn(te+T,127)]>>16,8>K.Eb[1]&&(K.Eb[1]=8),K.Qc[0]=Yl[Bn(te+L,117)],K.Qc[1]=Kl[Bn(te+N,127)],K.lc=te+N}if(!w.Rb)return Gt(s,4,"Not a key frame.");for(re(x),w=s.Pa,p=0;4>p;++p){for(b=0;8>b;++b)for(f=0;3>f;++f)for(T=0;11>T;++T)L=se(x,Ef[p][b][f][T])?oe(x,8):Ff[p][b][f][T],w.Wc[p][b].Yb[f][T]=L;for(b=0;17>b;++b)w.Xc[p][b]=w.Wc[p][Sf[b]]}return s.kc=re(x),s.kc&&(s.Bd=oe(x,8)),s.cb=1}function es(s,l,p,f,b,x,w){var T=l[b].Yb[p];for(p=0;16>b;++b){if(!se(s,T[p+0]))return b;for(;!se(s,T[p+1]);)if(T=l[++b].Yb[0],p=0,16==b)return 16;var N=l[b+1].Yb;if(se(s,T[p+2])){var L=s,z=0;if(se(L,(te=T)[(ee=p)+3]))if(se(L,te[ee+6])){for(T=0,ee=2*(z=se(L,te[ee+8]))+(te=se(L,te[ee+9+z])),z=0,te=Mf[ee];te[T];++T)z+=z+se(L,te[T]);z+=3+(8<<ee)}else se(L,te[ee+7])?(z=7+2*se(L,165),z+=se(L,145)):z=5+se(L,159);else z=se(L,te[ee+4])?3+se(L,te[ee+5]):2;T=N[2]}else z=1,T=N[1];N=w+Lf[b],0>(L=s).b&&ae(L);var ee,te=L.b,K=(ee=L.Ca>>1)-(L.I>>te)>>31;--L.b,L.Ca+=K,L.Ca|=1,L.I-=(ee+1&K)<<te,x[N]=((z^K)-K)*f[(0<b)+0]}return 16}function Qo(s){var l=s.rb[s.sb-1];l.la=0,l.Na=0,o(s.zc,0,0,s.zc.length),s.ja=0}function hi(s,l,p,f,b){s[l+p+32*f]=-256&(b=s[l+p+32*f]+(b>>3))?0>b?0:255:b}function lo(s,l,p,f,b,x){hi(s,l,0,p,f+b),hi(s,l,1,p,f+x),hi(s,l,2,p,f-x),hi(s,l,3,p,f-b)}function qn(s){return(20091*s>>16)+s}function Ho(s,l,p,f){var b,x=0,w=r(16);for(b=0;4>b;++b){var T=s[l+0]+s[l+8],N=s[l+0]-s[l+8],L=(35468*s[l+4]>>16)-qn(s[l+12]),z=qn(s[l+4])+(35468*s[l+12]>>16);w[x+0]=T+z,w[x+1]=N+L,w[x+2]=N-L,w[x+3]=T-z,x+=4,l++}for(b=x=0;4>b;++b)T=(s=w[x+0]+4)+w[x+8],N=s-w[x+8],L=(35468*w[x+4]>>16)-qn(w[x+12]),hi(p,f,0,0,T+(z=qn(w[x+4])+(35468*w[x+12]>>16))),hi(p,f,1,0,N+L),hi(p,f,2,0,N-L),hi(p,f,3,0,T-z),x++,f+=32}function ts(s,l,p,f){var b=s[l+0]+4,x=35468*s[l+4]>>16,w=qn(s[l+4]),T=35468*s[l+1]>>16;lo(p,f,0,b+w,s=qn(s[l+1]),T),lo(p,f,1,b+x,s,T),lo(p,f,2,b-x,s,T),lo(p,f,3,b-w,s,T)}function Tl(s,l,p,f,b){Ho(s,l,p,f),b&&Ho(s,l+16,p,f+4)}function ns(s,l,p,f){ji(s,l+0,p,f,1),ji(s,l+32,p,f+128,1)}function Zl(s,l,p,f){var b;for(s=s[l+0]+4,b=0;4>b;++b)for(l=0;4>l;++l)hi(p,f,l,b,s)}function is(s,l,p,f){s[l+0]&&kn(s,l+0,p,f),s[l+16]&&kn(s,l+16,p,f+4),s[l+32]&&kn(s,l+32,p,f+128),s[l+48]&&kn(s,l+48,p,f+128+4)}function Nl(s,l,p,f){var b,x=r(16);for(b=0;4>b;++b){var w=s[l+0+b]+s[l+12+b],T=s[l+4+b]+s[l+8+b],N=s[l+4+b]-s[l+8+b],L=s[l+0+b]-s[l+12+b];x[0+b]=w+T,x[8+b]=w-T,x[4+b]=L+N,x[12+b]=L-N}for(b=0;4>b;++b)w=(s=x[0+4*b]+3)+x[3+4*b],N=x[1+4*b]-x[2+4*b],L=s-x[3+4*b],p[f+0]=w+(T=x[1+4*b]+x[2+4*b])>>3,p[f+16]=L+N>>3,p[f+32]=w-T>>3,p[f+48]=L-N>>3,f+=64}function Go(s,l,p){var f,b=l-32,x=Jn,w=255-s[b-1];for(f=0;f<p;++f){var T,N=x,L=w+s[l-1];for(T=0;T<p;++T)s[l+T]=N[L+s[b+T]];l+=32}}function Pl(s,l){Go(s,l,4)}function kl(s,l){Go(s,l,8)}function Ml(s,l){Go(s,l,16)}function Ii(s,l){var p;for(p=0;16>p;++p)n(s,l+32*p,s,l-32,16)}function co(s,l){var p;for(p=16;0<p;--p)o(s,l,s[l-1],16),l+=32}function uo(s,l,p){var f;for(f=0;16>f;++f)o(l,p+32*f,s,16)}function as(s,l){var p,f=16;for(p=0;16>p;++p)f+=s[l-1+32*p]+s[l+p-32];uo(f>>5,s,l)}function Cn(s,l){var p,f=8;for(p=0;16>p;++p)f+=s[l-1+32*p];uo(f>>4,s,l)}function Ll(s,l){var p,f=8;for(p=0;16>p;++p)f+=s[l+p-32];uo(f>>4,s,l)}function os(s,l){uo(128,s,l)}function Ve(s,l,p){return s+2*l+p+2>>2}function Fl(s,l){var p,f=l-32;for(f=new Uint8Array([Ve(s[f-1],s[f+0],s[f+1]),Ve(s[f+0],s[f+1],s[f+2]),Ve(s[f+1],s[f+2],s[f+3]),Ve(s[f+2],s[f+3],s[f+4])]),p=0;4>p;++p)n(s,l+32*p,f,0,f.length)}function ql(s,l){var p=s[l-1],f=s[l-1+32],b=s[l-1+64],x=s[l-1+96];Ze(s,l+0,16843009*Ve(s[l-1-32],p,f)),Ze(s,l+32,16843009*Ve(p,f,b)),Ze(s,l+64,16843009*Ve(f,b,x)),Ze(s,l+96,16843009*Ve(b,x,x))}function ki(s,l){var p,f=4;for(p=0;4>p;++p)f+=s[l+p-32]+s[l-1+32*p];for(f>>=3,p=0;4>p;++p)o(s,l+32*p,f,4)}function rs(s,l){var p=s[l-1+0],f=s[l-1+32],b=s[l-1+64],x=s[l-1-32],w=s[l+0-32],T=s[l+1-32],N=s[l+2-32],L=s[l+3-32];s[l+0+96]=Ve(f,b,s[l-1+96]),s[l+1+96]=s[l+0+64]=Ve(p,f,b),s[l+2+96]=s[l+1+64]=s[l+0+32]=Ve(x,p,f),s[l+3+96]=s[l+2+64]=s[l+1+32]=s[l+0+0]=Ve(w,x,p),s[l+3+64]=s[l+2+32]=s[l+1+0]=Ve(T,w,x),s[l+3+32]=s[l+2+0]=Ve(N,T,w),s[l+3+0]=Ve(L,N,T)}function ss(s,l){var p=s[l+1-32],f=s[l+2-32],b=s[l+3-32],x=s[l+4-32],w=s[l+5-32],T=s[l+6-32],N=s[l+7-32];s[l+0+0]=Ve(s[l+0-32],p,f),s[l+1+0]=s[l+0+32]=Ve(p,f,b),s[l+2+0]=s[l+1+32]=s[l+0+64]=Ve(f,b,x),s[l+3+0]=s[l+2+32]=s[l+1+64]=s[l+0+96]=Ve(b,x,w),s[l+3+32]=s[l+2+64]=s[l+1+96]=Ve(x,w,T),s[l+3+64]=s[l+2+96]=Ve(w,T,N),s[l+3+96]=Ve(T,N,N)}function po(s,l){var p=s[l-1+0],f=s[l-1+32],b=s[l-1+64],x=s[l-1-32],w=s[l+0-32],T=s[l+1-32],N=s[l+2-32],L=s[l+3-32];s[l+0+0]=s[l+1+64]=x+w+1>>1,s[l+1+0]=s[l+2+64]=w+T+1>>1,s[l+2+0]=s[l+3+64]=T+N+1>>1,s[l+3+0]=N+L+1>>1,s[l+0+96]=Ve(b,f,p),s[l+0+64]=Ve(f,p,x),s[l+0+32]=s[l+1+96]=Ve(p,x,w),s[l+1+32]=s[l+2+96]=Ve(x,w,T),s[l+2+32]=s[l+3+96]=Ve(w,T,N),s[l+3+32]=Ve(T,N,L)}function Yo(s,l){var p=s[l+0-32],f=s[l+1-32],b=s[l+2-32],x=s[l+3-32],w=s[l+4-32],T=s[l+5-32],N=s[l+6-32],L=s[l+7-32];s[l+0+0]=p+f+1>>1,s[l+1+0]=s[l+0+64]=f+b+1>>1,s[l+2+0]=s[l+1+64]=b+x+1>>1,s[l+3+0]=s[l+2+64]=x+w+1>>1,s[l+0+32]=Ve(p,f,b),s[l+1+32]=s[l+0+96]=Ve(f,b,x),s[l+2+32]=s[l+1+96]=Ve(b,x,w),s[l+3+32]=s[l+2+96]=Ve(x,w,T),s[l+3+64]=Ve(w,T,N),s[l+3+96]=Ve(T,N,L)}function El(s,l){var p=s[l-1+0],f=s[l-1+32],b=s[l-1+64],x=s[l-1+96];s[l+0+0]=p+f+1>>1,s[l+2+0]=s[l+0+32]=f+b+1>>1,s[l+2+32]=s[l+0+64]=b+x+1>>1,s[l+1+0]=Ve(p,f,b),s[l+3+0]=s[l+1+32]=Ve(f,b,x),s[l+3+32]=s[l+1+64]=Ve(b,x,x),s[l+3+64]=s[l+2+64]=s[l+0+96]=s[l+1+96]=s[l+2+96]=s[l+3+96]=x}function Sl(s,l){var p=s[l-1+0],f=s[l-1+32],b=s[l-1+64],x=s[l-1+96],w=s[l-1-32],T=s[l+0-32],N=s[l+1-32],L=s[l+2-32];s[l+0+0]=s[l+2+32]=p+w+1>>1,s[l+0+32]=s[l+2+64]=f+p+1>>1,s[l+0+64]=s[l+2+96]=b+f+1>>1,s[l+0+96]=x+b+1>>1,s[l+3+0]=Ve(T,N,L),s[l+2+0]=Ve(w,T,N),s[l+1+0]=s[l+3+32]=Ve(p,w,T),s[l+1+32]=s[l+3+64]=Ve(f,p,w),s[l+1+64]=s[l+3+96]=Ve(b,f,p),s[l+1+96]=Ve(x,b,f)}function Il(s,l){var p;for(p=0;8>p;++p)n(s,l+32*p,s,l-32,8)}function Ko(s,l){var p;for(p=0;8>p;++p)o(s,l,s[l-1],8),l+=32}function Na(s,l,p){var f;for(f=0;8>f;++f)o(l,p+32*f,s,8)}function ea(s,l){var p,f=8;for(p=0;8>p;++p)f+=s[l+p-32]+s[l-1+32*p];Na(f>>4,s,l)}function Ul(s,l){var p,f=4;for(p=0;8>p;++p)f+=s[l+p-32];Na(f>>3,s,l)}function Pa(s,l){var p,f=4;for(p=0;8>p;++p)f+=s[l-1+32*p];Na(f>>3,s,l)}function Wo(s,l){Na(128,s,l)}function ho(s,l,p){var f=s[l-p],b=s[l+0],x=3*(b-f)+Rl[1020+s[l-2*p]-s[l+p]],w=ys[112+(x+4>>3)];s[l-p]=Jn[255+f+ys[112+(x+3>>3)]],s[l+0]=Jn[255+b-w]}function ls(s,l,p,f){return ei[255+s[l-2*p]-s[l-p]]>f||ei[255+s[l+p]-s[l+0]]>f}function cs(s,l,p,f){return 4*ei[255+s[l-p]-s[l+0]]+ei[255+s[l-2*p]-s[l+p]]<=f}function us(s,l,p,f,b){var x=s[l-3*p],w=s[l-2*p],T=s[l-p],N=s[l+0],L=s[l+p],z=s[l+2*p];return 4*ei[255+T-N]+ei[255+w-L]>f?0:ei[255+s[l-4*p]-x]<=b&&ei[255+x-w]<=b&&ei[255+w-T]<=b&&ei[255+s[l+3*p]-z]<=b&&ei[255+z-L]<=b&&ei[255+L-N]<=b}function ds(s,l,p,f){var b=2*f+1;for(f=0;16>f;++f)cs(s,l+f,p,b)&&ho(s,l+f,p)}function Mi(s,l,p,f){var b=2*f+1;for(f=0;16>f;++f)cs(s,l+f*p,1,b)&&ho(s,l+f*p,1)}function Ui(s,l,p,f){var b;for(b=3;0<b;--b)ds(s,l+=4*p,p,f)}function Ol(s,l,p,f){var b;for(b=3;0<b;--b)Mi(s,l+=4,p,f)}function ta(s,l,p,f,b,x,w,T){for(x=2*x+1;0<b--;){if(us(s,l,p,x,w))if(ls(s,l,p,T))ho(s,l,p);else{var N=s,L=l,z=p,ee=N[L-2*z],te=N[L-z],K=N[L+0],be=N[L+z],ue=N[L+2*z],Q=27*(_e=Rl[1020+3*(K-te)+Rl[1020+ee-be]])+63>>7,Y=18*_e+63>>7,_e=9*_e+63>>7;N[L-3*z]=Jn[255+N[L-3*z]+_e],N[L-2*z]=Jn[255+ee+Y],N[L-z]=Jn[255+te+Q],N[L+0]=Jn[255+K-Q],N[L+z]=Jn[255+be-Y],N[L+2*z]=Jn[255+ue-_e]}l+=f}}function fi(s,l,p,f,b,x,w,T){for(x=2*x+1;0<b--;){if(us(s,l,p,x,w))if(ls(s,l,p,T))ho(s,l,p);else{var N=s,L=l,z=p,ee=N[L-z],te=N[L+0],K=N[L+z],be=ys[112+(4+(ue=3*(te-ee))>>3)],ue=ys[112+(ue+3>>3)],Q=be+1>>1;N[L-2*z]=Jn[255+N[L-2*z]+Q],N[L-z]=Jn[255+ee+ue],N[L+0]=Jn[255+te-be],N[L+z]=Jn[255+K-Q]}l+=f}}function Vo(s,l,p,f,b,x){ta(s,l,p,1,16,f,b,x)}function ka(s,l,p,f,b,x){ta(s,l,1,p,16,f,b,x)}function Dl(s,l,p,f,b,x){var w;for(w=3;0<w;--w)fi(s,l+=4*p,p,1,16,f,b,x)}function fo(s,l,p,f,b,x){var w;for(w=3;0<w;--w)fi(s,l+=4,1,p,16,f,b,x)}function jl(s,l,p,f,b,x,w,T){ta(s,l,b,1,8,x,w,T),ta(p,f,b,1,8,x,w,T)}function $o(s,l,p,f,b,x,w,T){ta(s,l,1,b,8,x,w,T),ta(p,f,1,b,8,x,w,T)}function Xo(s,l,p,f,b,x,w,T){fi(s,l+4*b,b,1,8,x,w,T),fi(p,f+4*b,b,1,8,x,w,T)}function ps(s,l,p,f,b,x,w,T){fi(s,l+4,1,b,8,x,w,T),fi(p,f+4,1,b,8,x,w,T)}function mo(){this.ba=new li,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function er(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hs(){this.ua=0,this.Wa=new D,this.vb=new D,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new M}function Bl(){this.xb=this.a=0,this.l=new so,this.ca=new li,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hs,this.ab=0,this.gc=c(4,tr),this.Oc=0}function go(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new so,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ma(s,l,p,f,b,x,w){for(s=null==s?0:s[l+0],l=0;l<w;++l)b[x+l]=s+p[f+l]&255,s=b[x+l]}function nr(s,l,p,f,b,x,w){var T;if(null==s)Ma(null,null,p,f,b,x,w);else for(T=0;T<w;++T)b[x+T]=s[l+T]+p[f+T]&255}function na(s,l,p,f,b,x,w){if(null==s)Ma(null,null,p,f,b,x,w);else{var T,N=s[l+0],L=N,z=N;for(T=0;T<w;++T)L=z+(N=s[l+T])-L,z=p[f+T]+(-256&L?0>L?0:255:L)&255,L=N,b[x+T]=z}}function ir(s,l,p,f){var b=l.width,x=l.o;if(a(null!=s&&null!=l),0>p||0>=f||p+f>x)return null;if(!s.Cc){if(null==s.ga){var w;if(s.ga=new go,(w=null==s.ga)||(w=l.width*l.o,a(0==s.Gb.length),s.Gb=r(w),s.Uc=0,null==s.Gb?w=0:(s.mb=s.Gb,s.nb=s.Uc,s.rc=null,w=1),w=!w),!w){var T=s.Fa,N=s.P,L=s.qc,z=s.mb,ee=s.nb,te=N+1,K=L-1,be=(w=s.ga).l;if(a(null!=T&&null!=z&&null!=l),la[0]=null,la[1]=Ma,la[2]=nr,la[3]=na,w.ca=z,w.tb=ee,w.c=l.width,w.i=l.height,a(0<w.c&&0<w.i),1>=L)l=0;else if(w.$a=T[N+0]>>0&3,w.Z=T[N+0]>>2&3,w.Lc=T[N+0]>>4&3,N=T[N+0]>>6&3,0>w.$a||1<w.$a||4<=w.Z||1<w.Lc||N)l=0;else if(be.put=Ci,be.ac=fn,be.bc=Ti,be.ma=w,be.width=l.width,be.height=l.height,be.Da=l.Da,be.v=l.v,be.va=l.va,be.j=l.j,be.o=l.o,w.$a)e:{a(1==w.$a),l=Kn();t:for(;;){if(null==l){l=0;break e}if(a(null!=w),w.mc=l,l.c=w.c,l.i=w.i,l.l=w.l,l.l.ma=w,l.l.width=w.c,l.l.height=w.i,l.a=0,ne(l.m,T,te,K),!Pi(w.c,w.i,1,l,null)||(1==l.ab&&3==l.gc[0].hc&&Si(l.s)?(w.ic=1,T=l.c*l.i,l.Ta=null,l.Ua=0,l.V=r(T),l.Ba=0,null==l.V?(l.a=1,l=0):l=1):(w.ic=0,l=Za(l,w.c)),!l))break t;l=1;break e}w.mc=null,l=0}else l=K>=w.c*w.i;w=!l}if(w)return null;1!=s.ga.Lc?s.Ga=0:f=x-p}a(null!=s.ga),a(p+f<=x);e:{if(l=(T=s.ga).c,x=T.l.o,0==T.$a){if(te=s.rc,K=s.Vc,be=s.Fa,L=s.mb,z=s.nb+p*l,a((N=s.P+1+p*l)<=s.P+s.qc),0!=T.Z)for(a(null!=la[T.Z]),w=0;w<f;++w)la[T.Z](te,K,be,N,L,z,l),te=L,K=z,z+=l,N+=l;else for(w=0;w<f;++w)n(L,z,be,N,l),te=L,K=z,z+=l,N+=l;s.rc=te,s.Vc=K}else{if(a(null!=T.mc),l=p+f,a(null!=(w=T.mc)),a(l<=w.i),w.C>=l)l=1;else if(T.ic||V(),T.ic){T=w.V,te=w.Ba;var ue=w.i,Q=(be=1,N=w.$/(K=w.c),L=w.$%K,z=w.m,ee=w.s,w.$),Y=K*ue,_e=K*l,xe=ee.wc,ve=Q<_e?Vt(ee,L,N):null;a(Q<=Y),a(l<=ue),a(Si(ee));t:for(;;){for(;!z.h&&Q<_e;){if(L&xe||(ve=Vt(ee,L,N)),a(null!=ve),W(z),256>(ue=Fn(ve.G[0],ve.H[0],z)))T[te+Q]=ue,++Q,++L>=K&&(L=0,++N<=l&&!(N%16)&&di(w,N));else{if(!(280>ue)){be=0;break t}ue=ci(ue-256,z);var Ue,Pe=Fn(ve.G[4],ve.H[4],z);if(W(z),!(Q>=(Pe=Zi(K,Pe=ci(Pe,z)))&&Y-Q>=ue)){be=0;break t}for(Ue=0;Ue<ue;++Ue)T[te+Q+Ue]=T[te+Q+Ue-Pe];for(Q+=ue,L+=ue;L>=K;)L-=K,++N<=l&&!(N%16)&&di(w,N);Q<_e&&L&xe&&(ve=Vt(ee,L,N))}a(z.h==O(z))}di(w,N>l?l:N);break t}!be||z.h&&Q<Y?(be=0,w.a=z.h?5:3):w.$=Q,l=be}else l=pi(w,w.V,w.Ba,w.c,w.i,l,no);if(!l){f=0;break e}}p+f>=x&&(s.Cc=1),f=1}if(!f)return null;if(s.Cc&&(null!=(f=s.ga)&&(f.mc=null),s.ga=null,0<s.Ga))return alert("todo:WebPDequantizeLevels"),null}return s.nb+p*b}function u(s,l,p,f,b,x){for(;0<b--;){var w,T=s,N=l+(p?1:0),L=s,z=l+(p?0:3);for(w=0;w<f;++w){var ee=L[z+4*w];255!=ee&&(T[N+4*w+0]=T[N+4*w+0]*(ee*=32897)>>23,T[N+4*w+1]=T[N+4*w+1]*ee>>23,T[N+4*w+2]=T[N+4*w+2]*ee>>23)}l+=x}}function y(s,l,p,f,b){for(;0<f--;){var x;for(x=0;x<p;++x){var w=s[l+2*x+0],T=15&(L=s[l+2*x+1]),N=4369*T,L=(240&L|L>>4)*N>>16;s[l+2*x+0]=(240&w|w>>4)*N>>16&240|(15&w|w<<4)*N>>16>>4&15,s[l+2*x+1]=240&L|T}l+=b}}function I(s,l,p,f,b,x,w,T){var N,L,z=255;for(L=0;L<b;++L){for(N=0;N<f;++N){var ee=s[l+N];x[w+4*N]=ee,z&=ee}l+=p,w+=T}return 255!=z}function J(s,l,p,f,b){var x;for(x=0;x<b;++x)p[f+x]=s[l+x]>>8}function V(){Xn=u,kt=y,Mt=I,Kt=J}function he(s,l,p){j[s]=function(f,b,x,w,T,N,L,z,ee,te,K,be,ue,Q,Y,_e,xe){var ve,Ue=xe-1>>1,Pe=T[N+0]|L[z+0]<<16,Re=ee[te+0]|K[be+0]<<16;a(null!=f);var Me=3*Pe+Re+131074>>2;for(l(f[b+0],255&Me,Me>>16,ue,Q),null!=x&&l(x[w+0],255&(Me=3*Re+Pe+131074>>2),Me>>16,Y,_e),ve=1;ve<=Ue;++ve){var gt=T[N+ve]|L[z+ve]<<16,xt=ee[te+ve]|K[be+ve]<<16,ft=Pe+gt+Re+xt+524296,ct=ft+2*(gt+Re)>>3;Me=ct+Pe>>1,Pe=(ft=ft+2*(Pe+xt)>>3)+gt>>1,l(f[b+2*ve-1],255&Me,Me>>16,ue,Q+(2*ve-1)*p),l(f[b+2*ve-0],255&Pe,Pe>>16,ue,Q+(2*ve-0)*p),null!=x&&(Pe=ct+xt>>1,l(x[w+2*ve-1],255&(Me=ft+Re>>1),Me>>16,Y,_e+(2*ve-1)*p),l(x[w+2*ve+0],255&Pe,Pe>>16,Y,_e+(2*ve+0)*p)),Pe=gt,Re=xt}1&xe||(l(f[b+xe-1],255&(Me=3*Pe+Re+131074>>2),Me>>16,ue,Q+(xe-1)*p),null!=x&&l(x[w+xe-1],255&(Me=3*Re+Pe+131074>>2),Me>>16,Y,_e+(xe-1)*p))}}function we(){ti[xs]=Uf,ti[ws]=Pu,ti[Au]=Of,ti[As]=ku,ti[Cs]=Mu,ti[zl]=Lu,ti[Cu]=Df,ti[Ql]=Pu,ti[Hl]=ku,ti[Ts]=Mu,ti[Gl]=Lu}function Ie(s){return s&~jf?0>s?0:255:s>>Fu}function Je(s,l){return Ie((19077*s>>8)+(26149*l>>8)-14234)}function it(s,l,p){return Ie((19077*s>>8)-(6419*l>>8)-(13320*p>>8)+8708)}function tt(s,l){return Ie((19077*s>>8)+(33050*l>>8)-17685)}function pt(s,l,p,f,b){f[b+0]=Je(s,p),f[b+1]=it(s,l,p),f[b+2]=tt(s,l)}function It(s,l,p,f,b){f[b+0]=tt(s,l),f[b+1]=it(s,l,p),f[b+2]=Je(s,p)}function Jt(s,l,p,f,b){var x=it(s,l,p);l=x<<3&224|tt(s,l)>>3,f[b+0]=248&Je(s,p)|x>>5,f[b+1]=l}function $t(s,l,p,f,b){var x=240&tt(s,l)|15;f[b+0]=240&Je(s,p)|it(s,l,p)>>4,f[b+1]=x}function Tn(s,l,p,f,b){f[b+0]=255,pt(s,l,p,f,b+1)}function cn(s,l,p,f,b){It(s,l,p,f,b),f[b+3]=255}function mi(s,l,p,f,b){pt(s,l,p,f,b),f[b+3]=255}function Bn(s,l){return 0>s?0:s>l?l:s}function Li(s,l,p){j[s]=function(f,b,x,w,T,N,L,z,ee){for(var te=z+(-2&ee)*p;z!=te;)l(f[b+0],x[w+0],T[N+0],L,z),l(f[b+1],x[w+0],T[N+0],L,z+p),b+=2,++w,++N,z+=2*p;1&ee&&l(f[b+0],x[w+0],T[N+0],L,z)}}function fs(s,l,p){return 0==p?0==s?0==l?6:5:0==l?4:0:p}function ar(s,l,p,f,b){switch(s>>>30){case 3:ji(l,p,f,b,0);break;case 2:Yt(l,p,f,b);break;case 1:kn(l,p,f,b)}}function or(s,l){var p,f,b=l.M,x=l.Nb,w=s.oc,T=s.pc+40,N=s.oc,L=s.pc+584,z=s.oc,ee=s.pc+600;for(p=0;16>p;++p)w[T+32*p-1]=129;for(p=0;8>p;++p)N[L+32*p-1]=129,z[ee+32*p-1]=129;for(0<b?w[T-1-32]=N[L-1-32]=z[ee-1-32]=129:(o(w,T-32-1,127,21),o(N,L-32-1,127,9),o(z,ee-32-1,127,9)),f=0;f<s.za;++f){var te=l.ya[l.aa+f];if(0<f){for(p=-1;16>p;++p)n(w,T+32*p-4,w,T+32*p+12,4);for(p=-1;8>p;++p)n(N,L+32*p-4,N,L+32*p+4,4),n(z,ee+32*p-4,z,ee+32*p+4,4)}var K=s.Gd,be=s.Hd+f,ue=te.ad,Q=te.Hc;if(0<b&&(n(w,T-32,K[be].y,0,16),n(N,L-32,K[be].f,0,8),n(z,ee-32,K[be].ea,0,8)),te.Za){var Y=w,_e=T-32+16;for(0<b&&(f>=s.za-1?o(Y,_e,K[be].y[15],4):n(Y,_e,K[be+1].y,0,4)),p=0;4>p;p++)Y[_e+128+p]=Y[_e+256+p]=Y[_e+384+p]=Y[_e+0+p];for(p=0;16>p;++p,Q<<=2)gi[te.Ob[p]](Y=w,_e=T+Eu[p]),ar(Q,ue,16*+p,Y,_e)}else if(Y=fs(f,b,te.Ob[0]),sa[Y](w,T),0!=Q)for(p=0;16>p;++p,Q<<=2)ar(Q,ue,16*+p,w,T+Eu[p]);for(p=te.Gc,Y=fs(f,b,te.Dd),Ji[Y](N,L),Ji[Y](z,ee),Q=ue,Y=N,_e=L,255&(te=p>>0)&&(170&te?ur(Q,256,Y,_e):Vn(Q,256,Y,_e)),te=z,Q=ee,255&(p>>=8)&&(170&p?ur(ue,320,te,Q):Vn(ue,320,te,Q)),b<s.Ub-1&&(n(K[be].y,0,w,T+480,16),n(K[be].f,0,N,L+224,8),n(K[be].ea,0,z,ee+224,8)),K=s.sa,be=s.ta+16*f+16*x*s.R,ue=s.qa,te=s.ra+8*f+(p=8*x*s.B),Q=s.Ha,Y=s.Ia+8*f+p,p=0;16>p;++p)n(K,be+p*s.R,w,T+32*p,16);for(p=0;8>p;++p)n(ue,te+p*s.B,N,L+32*p,8),n(Q,Y+p*s.B,z,ee+32*p,8)}}function _o(s,l,p,f,b,x,w,T,N){var L=[0],z=[0],ee=0,te=null!=N?N.kd:0,K=N??new er;if(null==s||12>p)return 7;K.data=s,K.w=l,K.ha=p,l=[l],p=[p],K.gb=[K.gb];e:{var be=l,ue=p,Q=K.gb;if(a(null!=s),a(null!=ue),a(null!=Q),Q[0]=0,12<=ue[0]&&!t(s,be[0],"RIFF")){if(t(s,be[0]+8,"WEBP")){Q=3;break e}var Y=ke(s,be[0]+4);if(12>Y||4294967286<Y){Q=3;break e}if(te&&Y>ue[0]-8){Q=7;break e}Q[0]=Y,be[0]+=12,ue[0]-=12}Q=0}if(0!=Q)return Q;for(Y=0<K.gb[0],p=p[0];;){e:{var _e=s;ue=l,Q=p;var xe=L,ve=z,Ue=be=[0];if((Me=ee=[ee])[0]=0,8>Q[0])Q=7;else{if(!t(_e,ue[0],"VP8X")){if(10!=ke(_e,ue[0]+4)){Q=3;break e}if(18>Q[0]){Q=7;break e}var Pe=ke(_e,ue[0]+8),Re=1+Fe(_e,ue[0]+12);if(2147483648<=Re*(_e=1+Fe(_e,ue[0]+15))){Q=3;break e}null!=Ue&&(Ue[0]=Pe),null!=xe&&(xe[0]=Re),null!=ve&&(ve[0]=_e),ue[0]+=18,Q[0]-=18,Me[0]=1}Q=0}}if(ee=ee[0],0!=Q)return Q;if(ue=!!(2&(be=be[0])),!Y&&ee)return 3;if(null!=x&&(x[0]=!!(16&be)),null!=w&&(w[0]=ue),null!=T&&(T[0]=0),w=L[0],be=z[0],ee&&ue&&null==N){Q=0;break}if(4>p){Q=7;break}if(Y&&ee||!Y&&!ee&&!t(s,l[0],"ALPH")){p=[p],K.na=[K.na],K.P=[K.P],K.Sa=[K.Sa];e:{Q=l,Y=p;var Me=K.gb;xe=K.na,ve=K.P,Ue=K.Sa,Re=22,a(null!=(Pe=s)),a(null!=Y),_e=Q[0];var gt=Y[0];for(a(null!=xe),a(null!=Ue),xe[0]=null,ve[0]=null,Ue[0]=0;;){if(Q[0]=_e,Y[0]=gt,8>gt){Q=7;break e}var xt=ke(Pe,_e+4);if(4294967286<xt){Q=3;break e}var ft=8+xt+1&-2;if(Re+=ft,0<Me&&Re>Me){Q=3;break e}if(!t(Pe,_e,"VP8 ")||!t(Pe,_e,"VP8L")){Q=0;break e}if(gt[0]<ft){Q=7;break e}t(Pe,_e,"ALPH")||(xe[0]=Pe,ve[0]=_e+8,Ue[0]=xt),_e+=ft,gt-=ft}}if(p=p[0],K.na=K.na[0],K.P=K.P[0],K.Sa=K.Sa[0],0!=Q)break}p=[p],K.Ja=[K.Ja],K.xa=[K.xa];e:if(Me=s,Q=l,Y=p,xe=K.gb[0],ve=K.Ja,Ue=K.xa,Pe=Q[0],_e=!t(Me,Pe,"VP8 "),Re=!t(Me,Pe,"VP8L"),a(null!=Me),a(null!=Y),a(null!=ve),a(null!=Ue),8>Y[0])Q=7;else{if(_e||Re){if(Me=ke(Me,Pe+4),12<=xe&&Me>xe-12){Q=3;break e}if(te&&Me>Y[0]-8){Q=7;break e}ve[0]=Me,Q[0]+=8,Y[0]-=8,Ue[0]=Re}else Ue[0]=5<=Y[0]&&47==Me[Pe+0]&&!(Me[Pe+4]>>5),ve[0]=Y[0];Q=0}if(p=p[0],K.Ja=K.Ja[0],K.xa=K.xa[0],l=l[0],0!=Q)break;if(4294967286<K.Ja)return 3;if(null==T||ue||(T[0]=K.xa?2:1),w=[w],be=[be],K.xa){if(5>p){Q=7;break}T=w,te=be,ue=x,null==s||5>p?s=0:5<=p&&47==s[l+0]&&!(s[l+4]>>5)?(Y=[0],Me=[0],xe=[0],ne(ve=new A,s,l,p),Qe(ve,Y,Me,xe)?(null!=T&&(T[0]=Y[0]),null!=te&&(te[0]=Me[0]),null!=ue&&(ue[0]=xe[0]),s=1):s=0):s=0}else{if(10>p){Q=7;break}T=be,null==s||10>p||!$r(s,l+3,p-3)?s=0:(te=s[l+0]|s[l+1]<<8|s[l+2]<<16,ue=16383&(s[l+7]<<8|s[l+6]),s=16383&(s[l+9]<<8|s[l+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=K.Ja||!ue||!s?s=0:(w&&(w[0]=ue),T&&(T[0]=s),s=1))}if(!s||(w=w[0],be=be[0],ee&&(L[0]!=w||z[0]!=be)))return 3;null!=N&&(N[0]=K,N.offset=l-N.w,a(4294967286>l-N.w),a(N.offset==N.ha-p));break}return 0==Q||7==Q&&ee&&null==N?(null!=x&&(x[0]|=null!=K.na&&0<K.na.length),null!=f&&(f[0]=w),null!=b&&(b[0]=be),0):Q}function rr(s,l,p){var f=l.width,b=l.height,x=0,w=0,T=f,N=b;if(l.Da=null!=s&&0<s.Da,l.Da&&(T=s.cd,N=s.bd,x=s.v,w=s.j,11>p||(x&=-2,w&=-2),0>x||0>w||0>=T||0>=N||x+T>f||w+N>b))return 0;if(l.v=x,l.j=w,l.va=x+T,l.o=w+N,l.U=T,l.T=N,l.da=null!=s&&0<s.da,l.da){if(!nt(T,N,p=[s.ib],x=[s.hb]))return 0;l.ib=p[0],l.hb=x[0]}return l.ob=null!=s&&s.ob,l.Kb=null==s||!s.Sd,l.da&&(l.ob=l.ib<3*f/4&&l.hb<3*b/4,l.Kb=0),1}function sr(s){if(null==s)return 2;if(11>s.S){var l=s.f.RGBA;l.fb+=(s.height-1)*l.A,l.A=-l.A}else(l=s.f.kb).O+=((s=s.height)-1)*l.fa,l.fa=-l.fa,l.N+=(s-1>>1)*l.Ab,l.Ab=-l.Ab,l.W+=(s-1>>1)*l.Db,l.Db=-l.Db,null!=l.F&&(l.J+=(s-1)*l.lb,l.lb=-l.lb);return 0}function vo(s,l,p,f){if(null==f||0>=s||0>=l)return 2;if(null!=p){if(p.Da){var b=p.cd,x=p.bd,w=-2&p.v,T=-2&p.j;if(0>w||0>T||0>=b||0>=x||w+b>s||T+x>l)return 2;s=b,l=x}if(p.da){if(!nt(s,l,b=[p.ib],x=[p.hb]))return 2;s=b[0],l=x[0]}}f.width=s,f.height=l;e:{var N=f.width,L=f.height;if(s=f.S,0>=N||0>=L||!(s>=xs&&13>s))s=2;else{if(0>=f.Rd&&null==f.sd){w=x=b=l=0;var z=(T=N*Su[s])*L;if(11>s||(x=(L+1)/2*(l=(N+1)/2),12==s&&(w=(b=N)*L)),null==(L=r(z+2*x+w))){s=1;break e}f.sd=L,11>s?((N=f.f.RGBA).eb=L,N.fb=0,N.A=T,N.size=z):((N=f.f.kb).y=L,N.O=0,N.fa=T,N.Fd=z,N.f=L,N.N=0+z,N.Ab=l,N.Cd=x,N.ea=L,N.W=0+z+x,N.Db=l,N.Ed=x,12==s&&(N.F=L,N.J=0+z+2*x),N.Tc=w,N.lb=b)}if(l=1,x=f.width,w=f.height,(b=f.S)>=xs&&13>b)if(11>b)s=f.f.RGBA,l&=(T=Math.abs(s.A))*(w-1)+x<=s.size,l&=T>=x*Su[b],l&=null!=s.eb;else{s=f.f.kb,T=(x+1)/2,z=(w+1)/2,N=Math.abs(s.fa),L=Math.abs(s.Ab);var ee=Math.abs(s.Db),te=Math.abs(s.lb);l&=N*(w-1)+x<=s.Fd,l&=L*(z-1)+T<=s.Cd,l=(l&=ee*(z-1)+T<=s.Ed)&N>=x&L>=T&ee>=T,l&=null!=s.y,l&=null!=s.f,l&=null!=s.ea,12==b&&(l&=te>=x,l&=te*(w-1)+x<=s.Tc,l&=null!=s.F)}else l=0;s=l?0:2}}return 0!=s||null!=p&&p.fd&&(s=sr(f)),s}var mn=64,bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],yo=24,xo=32,lr=8,En=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ne("Predictor0","PredictorAdd0"),j.Predictor0=function(){return 4278190080},j.Predictor1=function(s){return s},j.Predictor2=function(s,l,p){return l[p+0]},j.Predictor3=function(s,l,p){return l[p+1]},j.Predictor4=function(s,l,p){return l[p-1]},j.Predictor5=function(s,l,p){return Le(Le(s,l[p+1]),l[p+0])},j.Predictor6=function(s,l,p){return Le(s,l[p-1])},j.Predictor7=function(s,l,p){return Le(s,l[p+0])},j.Predictor8=function(s,l,p){return Le(l[p-1],l[p+0])},j.Predictor9=function(s,l,p){return Le(l[p+0],l[p+1])},j.Predictor10=function(s,l,p){return Le(Le(s,l[p-1]),Le(l[p+0],l[p+1]))},j.Predictor11=function(s,l,p){var f=l[p+0];return 0>=ot(f>>24&255,s>>24&255,(l=l[p-1])>>24&255)+ot(f>>16&255,s>>16&255,l>>16&255)+ot(f>>8&255,s>>8&255,l>>8&255)+ot(255&f,255&s,255&l)?f:s},j.Predictor12=function(s,l,p){var f=l[p+0];return(Be((s>>24&255)+(f>>24&255)-((l=l[p-1])>>24&255))<<24|Be((s>>16&255)+(f>>16&255)-(l>>16&255))<<16|Be((s>>8&255)+(f>>8&255)-(l>>8&255))<<8|Be((255&s)+(255&f)-(255&l)))>>>0},j.Predictor13=function(s,l,p){var f=l[p-1];return(Xe((s=Le(s,l[p+0]))>>24&255,f>>24&255)<<24|Xe(s>>16&255,f>>16&255)<<16|Xe(s>>8&255,f>>8&255)<<8|Xe(s>>0&255,f>>0&255))>>>0};var Jl=j.PredictorAdd0;j.PredictorAdd1=rt,Ne("Predictor2","PredictorAdd2"),Ne("Predictor3","PredictorAdd3"),Ne("Predictor4","PredictorAdd4"),Ne("Predictor5","PredictorAdd5"),Ne("Predictor6","PredictorAdd6"),Ne("Predictor7","PredictorAdd7"),Ne("Predictor8","PredictorAdd8"),Ne("Predictor9","PredictorAdd9"),Ne("Predictor10","PredictorAdd10"),Ne("Predictor11","PredictorAdd11"),Ne("Predictor12","PredictorAdd12"),Ne("Predictor13","PredictorAdd13");var cr=j.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(s){return s>>8&255},function(s){return s}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(s){return s},function(s){return s>>8&255});var ms,Wn=j.ColorIndexInverseTransform,wo=j.MapARGB,gs=j.VP8LColorIndexInverseTransformAlpha,_s=j.MapAlpha,ia=j.VP8LPredictorsAdd=[];ia.length=16,(j.VP8LPredictors=[]).length=16,(j.VP8LPredictorsAdd_C=[]).length=16,(j.VP8LPredictors_C=[]).length=16;var La,Sn,Pn,aa,Oi,Di,Ao,ji,Yt,ur,kn,Vn,Co,vs,dr,Fa,qa,oa,Ea,To,Sa,ra,pr,$n,Xn,kt,Mt,Kt,rn=r(511),Bi=r(2041),hr=r(225),Zo=r(767),bs=0,Rl=Bi,ys=hr,Jn=Zo,ei=rn,xs=0,ws=1,Au=2,As=3,Cs=4,zl=5,Cu=6,Ql=7,Hl=8,Ts=9,Gl=10,Af=[2,3,7],Cf=[3,3,11],Tu=[280,256,256,256,40],Tf=[0,1,1,1,0],Zf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Nf=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Pf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],kf=8,Yl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fr=null,Mf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Lf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Zu=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ff=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ef=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Sf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sa=[],gi=[],Ji=[],If=1,Nu=2,la=[],ti=[];he("UpsampleRgbLinePair",pt,3),he("UpsampleBgrLinePair",It,3),he("UpsampleRgbaLinePair",mi,4),he("UpsampleBgraLinePair",cn,4),he("UpsampleArgbLinePair",Tn,4),he("UpsampleRgba4444LinePair",$t,2),he("UpsampleRgb565LinePair",Jt,2);var Uf=j.UpsampleRgbLinePair,Of=j.UpsampleBgrLinePair,Pu=j.UpsampleRgbaLinePair,ku=j.UpsampleBgraLinePair,Mu=j.UpsampleArgbLinePair,Lu=j.UpsampleRgba4444LinePair,Df=j.UpsampleRgb565LinePair,Zs=16,Ns=1<<Zs-1,mr=-227,Wl=482,Fu=6,jf=(256<<Fu)-1,qu=0,Bf=r(256),Jf=r(256),Rf=r(256),zf=r(256),Qf=r(Wl-mr),Hf=r(Wl-mr);Li("YuvToRgbRow",pt,3),Li("YuvToBgrRow",It,3),Li("YuvToRgbaRow",mi,4),Li("YuvToBgraRow",cn,4),Li("YuvToArgbRow",Tn,4),Li("YuvToRgba4444Row",$t,2),Li("YuvToRgb565Row",Jt,2);var Eu=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ps=[0,2,8],Gf=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(s,l,p,f,b){var x=ws,w=new mo,T=new li;w.ba=T,T.S=x,T.width=[T.width],T.height=[T.height];var N=T.width,L=T.height,z=new Ei;if(null==z||null==s)var ee=2;else a(null!=z),ee=_o(s,l,p,z.width,z.height,z.Pd,z.Qd,z.format,null);if(0!=ee?N=0:(null!=N&&(N[0]=z.width[0]),null!=L&&(L[0]=z.height[0]),N=1),N){T.width=T.width[0],T.height=T.height[0],null!=f&&(f[0]=T.width),null!=b&&(b[0]=T.height);e:{if(f=new so,(b=new er).data=s,b.w=l,b.ha=p,b.kd=1,l=[0],a(null!=b),(0==(s=_o(b.data,b.w,b.ha,null,null,null,l,null,b))||7==s)&&l[0]&&(s=4),0==(l=s)){if(a(null!=w),f.data=b.data,f.w=b.w+b.offset,f.ha=b.ha-b.offset,f.put=Ci,f.ac=fn,f.bc=Ti,f.ma=w,b.xa){if(null==(s=Kn())){w=1;break e}if(function(te,K){var be=[0],ue=[0],Q=[0];t:for(;;){if(null==te)return 0;if(null==K)return te.a=2,0;if(te.l=K,te.a=0,ne(te.m,K.data,K.w,K.ha),!Qe(te.m,be,ue,Q)){te.a=3;break t}if(te.xb=Nu,K.width=be[0],K.height=ue[0],!Pi(be[0],ue[0],1,te,null))break t;return 1}return a(0!=te.a),0}(s,f)){if(f=0==(l=vo(f.width,f.height,w.Oa,w.ba))){t:{f=s;n:for(;;){if(null==f){f=0;break t}if(a(null!=f.s.yc),a(null!=f.s.Ya),a(0<f.s.Wb),a(null!=(p=f.l)),a(null!=(b=p.ma)),0!=f.xb){if(f.ca=b.ba,f.tb=b.tb,a(null!=f.ca),!rr(b.Oa,p,As)){f.a=2;break n}if(!Za(f,p.width)||p.da)break n;if((p.da||_t(f.ca.S))&&V(),11>f.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=f.ca.f.kb.F&&V()),f.Pb&&0<f.s.ua&&null==f.s.vb.X&&!Ye(f.s.vb,f.s.Wa.Xa)){f.a=1;break n}f.xb=0}if(!pi(f,f.V,f.Ba,f.c,f.i,p.o,to))break n;b.Dc=f.Ma,f=1;break t}a(0!=f.a),f=0}f=!f}f&&(l=s.a)}else l=s.a}else{if(null==(s=new Al)){w=1;break e}if(s.Fa=b.na,s.P=b.P,s.qc=b.Sa,Xr(s,f)){if(0==(l=vo(f.width,f.height,w.Oa,w.ba))){if(s.Aa=0,p=w.Oa,a(null!=(b=s)),null!=p){if(0<(N=0>(N=p.Md)?0:100<N?255:255*N/100)){for(L=z=0;4>L;++L)12>(ee=b.pb[L]).lc&&(ee.ia=N*Gf[0>ee.lc?0:ee.lc]>>3),z|=ee.ia;z&&(alert("todo:VP8InitRandom"),b.ia=1)}b.Ga=p.Id,100<b.Ga?b.Ga=100:0>b.Ga&&(b.Ga=0)}(function Cl(s,l){if(null==s)return 0;if(null==l)return Gt(s,2,"NULL VP8Io parameter in VP8Decode().");if(!s.cb&&!Xr(s,l))return 0;if(a(s.cb),null==l.ac||l.ac(l)){l.ob&&(s.L=0);var p=Ps[s.L];if(2==s.L?(s.yb=0,s.zb=0):(s.yb=l.v-p>>4,s.zb=l.j-p>>4,0>s.yb&&(s.yb=0),0>s.zb&&(s.zb=0)),s.Va=l.o+15+p>>4,s.Hb=l.va+15+p>>4,s.Hb>s.za&&(s.Hb=s.za),s.Va>s.Ub&&(s.Va=s.Ub),0<s.L){var f=s.ed;for(p=0;4>p;++p){var b;if(s.Qa.Cb){var x=s.Qa.Lb[p];s.Qa.Fb||(x+=f.Tb)}else x=f.Tb;for(b=0;1>=b;++b){var w=s.gd[p][b],T=x;if(f.Pc&&(T+=f.vd[0],b&&(T+=f.od[0])),0<(T=0>T?0:63<T?63:T)){var N=T;0<f.wb&&(N=4<f.wb?N>>2:N>>1)>9-f.wb&&(N=9-f.wb),1>N&&(N=1),w.dd=N,w.tc=2*T+N,w.ld=40<=T?2:15<=T?1:0}else w.tc=0;w.La=b}}}p=0}else Gt(s,6,"Frame setup failed"),p=s.a;if(p=0==p){if(p){s.$c=0,0<s.Aa||(s.Ic=1);e:{f=4*(N=s.za);var L=32*N,z=N+1,ee=0<s.L?N*(0<s.Aa?2:1):0,te=(2==s.Aa?2:1)*N;if((w=f+832+(b=3*(16*(p=s.Ic)+Ps[s.L])/2*L)+(x=null!=s.Fa&&0<s.Fa.length?s.Kc.c*s.Kc.i:0))!=w)p=0;else{if(w>s.Vb){if(s.Vb=0,s.Ec=r(w),s.Fc=0,null==s.Ec){p=Gt(s,1,"no memory during frame initialization.");break e}s.Vb=w}T=s.Fc,s.Ac=w=s.Ec,s.Bc=T,T+=f,s.Gd=c(L,Vr),s.Hd=0,s.rb=c(z+1,Wr),s.sb=1,s.wa=ee?c(ee,ro):null,s.Y=0,s.D.Nb=0,s.D.wa=s.wa,s.D.Y=s.Y,0<s.Aa&&(s.D.Y+=N),a(!0),s.oc=w,s.pc=T,T+=832,s.ya=c(te,zo),s.aa=0,s.D.ya=s.ya,s.D.aa=s.aa,2==s.Aa&&(s.D.aa+=N),s.R=16*N,s.B=8*N,N=(L=Ps[s.L])*s.R,L=L/2*s.B,s.sa=w,s.ta=T+N,s.qa=s.sa,s.ra=s.ta+16*p*s.R+L,s.Ha=s.qa,s.Ia=s.ra+8*p*s.B+L,s.$c=0,T+=b,s.mb=x?w:null,s.nb=x?T:null,a(T+x<=s.Fc+s.Vb),Qo(s),o(s.Ac,s.Bc,0,f),p=1}}if(p){if(l.ka=0,l.y=s.sa,l.O=s.ta,l.f=s.qa,l.N=s.ra,l.ea=s.Ha,l.Vd=s.Ia,l.fa=s.R,l.Rc=s.B,l.F=null,l.J=0,!bs){for(p=-255;255>=p;++p)rn[255+p]=0>p?-p:p;for(p=-1020;1020>=p;++p)Bi[1020+p]=-128>p?-128:127<p?127:p;for(p=-112;112>=p;++p)hr[112+p]=-16>p?-16:15<p?15:p;for(p=-255;510>=p;++p)Zo[255+p]=0>p?0:255<p?255:p;bs=1}Ao=Nl,ji=Tl,ur=ns,kn=Zl,Vn=is,Yt=ts,Co=Vo,vs=ka,dr=jl,Fa=$o,qa=Dl,oa=fo,Ea=Xo,To=ps,Sa=ds,ra=Mi,pr=Ui,$n=Ol,gi[0]=ki,gi[1]=Pl,gi[2]=Fl,gi[3]=ql,gi[4]=rs,gi[5]=po,gi[6]=ss,gi[7]=Yo,gi[8]=Sl,gi[9]=El,sa[0]=as,sa[1]=Ml,sa[2]=Ii,sa[3]=co,sa[4]=Cn,sa[5]=Ll,sa[6]=os,Ji[0]=ea,Ji[1]=kl,Ji[2]=Il,Ji[3]=Ko,Ji[4]=Pa,Ji[5]=Ul,Ji[6]=Wo,p=1}else p=0}p&&(p=function(K,be){for(K.M=0;K.M<K.Va;++K.M){var ue,Q=K.Jc[K.M&K.Xb],Y=K.m,_e=K;for(ue=0;ue<_e.za;++ue){var xe=Y,ve=_e,Ue=ve.Ac,Pe=ve.Bc+4*ue,Re=ve.zc,Me=ve.ya[ve.aa+ue];if(Me.$b=ve.Qa.Bb?se(xe,ve.Pa.jb[0])?2+se(xe,ve.Pa.jb[2]):se(xe,ve.Pa.jb[1]):0,ve.kc&&(Me.Ad=se(xe,ve.Bd)),Me.Za=!se(xe,145)+0,Me.Za){var gt=Me.Ob,xt=0;for(ve=0;4>ve;++ve){var ft,ct=Re[0+ve];for(ft=0;4>ft;++ft){for(var Pt=Zu[se(xe,(ct=qf[Ue[Pe+ft]][ct])[0])];0<Pt;)Pt=Zu[2*Pt+se(xe,ct[Pt])];Ue[Pe+ft]=ct=-Pt}n(gt,xt,Ue,Pe,4),xt+=4,Re[0+ve]=ct}}else ct=se(xe,156)?se(xe,128)?1:3:se(xe,163)?2:0,Me.Ob[0]=ct,o(Ue,Pe,ct,4),o(Re,0,ct,4);Me.Dd=se(xe,142)?se(xe,114)?se(xe,183)?1:3:2:0}if(_e.m.Ka)return Gt(K,7,"Premature end-of-partition0 encountered.");for(;K.ja<K.za;++K.ja){if(_e=Q,xe=(Y=K).rb[Y.sb-1],Ue=Y.rb[Y.sb+Y.ja],ue=Y.ya[Y.aa+Y.ja],Pe=Y.kc?ue.Ad:0)xe.la=Ue.la=0,ue.Za||(xe.Na=Ue.Na=0),ue.Hc=0,ue.Gc=0,ue.ia=0;else{var Tt,at;if(xe=Ue,Ue=_e,Pe=Y.Pa.Xc,Me=Y.pb[(Re=Y.ya[Y.aa+Y.ja]).$b],xt=Y.rb[Y.sb-1],ct=ft=0,o(ve=Re.ad,gt=0,0,384),Re.Za)var Xt=0,In=Pe[3];else{Pt=r(16);var en=xe.Na+xt.Na;if(en=fr(Ue,Pe[1],en,Me.Eb,0,Pt,0),xe.Na=xt.Na=(0<en)+0,1<en)Ao(Pt,0,ve,gt);else{var Un=Pt[0]+3>>3;for(Pt=0;256>Pt;Pt+=16)ve[gt+Pt]=Un}Xt=1,In=Pe[0]}var wt=15&xe.la,Rn=15&xt.la;for(Pt=0;4>Pt;++Pt){var zn=1&Rn;for(Un=at=0;4>Un;++Un)wt=wt>>1|(zn=(en=fr(Ue,In,en=zn+(1&wt),Me.Sc,Xt,ve,gt))>Xt)<<7,at=at<<2|(3<en?3:1<en?2:0!=ve[gt+0]),gt+=16;wt>>=4,Rn=Rn>>1|zn<<7,ft=(ft<<8|at)>>>0}for(In=wt,Xt=Rn>>4,Tt=0;4>Tt;Tt+=2){for(at=0,wt=xe.la>>4+Tt,Rn=xt.la>>4+Tt,Pt=0;2>Pt;++Pt){for(zn=1&Rn,Un=0;2>Un;++Un)wt=wt>>1|(zn=0<(en=fr(Ue,Pe[2],en=zn+(1&wt),Me.Qc,0,ve,gt)))<<3,at=at<<2|(3<en?3:1<en?2:0!=ve[gt+0]),gt+=16;wt>>=2,Rn=Rn>>1|zn<<5}ct|=at<<4*Tt,In|=wt<<4<<Tt,Xt|=(240&Rn)<<Tt}xe.la=In,xt.la=Xt,Re.Hc=ft,Re.Gc=ct,Re.ia=43690&ct?0:Me.ia,Pe=!(ft|ct)}if(0<Y.L&&(Y.wa[Y.Y+Y.ja]=Y.gd[ue.$b][ue.Za],Y.wa[Y.Y+Y.ja].La|=!Pe),_e.Ka)return Gt(K,7,"Premature end-of-file encountered.")}if(Qo(K),Y=be,_e=1,ue=(Q=K).D,xe=0<Q.L&&Q.M>=Q.zb&&Q.M<=Q.Va,0==Q.Aa)e:{if(ue.M=Q.M,ue.uc=xe,or(Q,ue),_e=1,ue=(at=Q.D).Nb,xe=(ct=Ps[Q.L])*Q.R,Pe=Q.sa,Re=Q.ta-xe+(Pt=16*ue*Q.R),Me=Q.qa,ve=Q.ra-(Ue=ct/2*Q.B)+(Un=8*ue*Q.B),gt=Q.Ha,xt=Q.Ia-Ue+Un,Rn=0==(wt=at.M),ft=wt>=Q.Va-1,2==Q.Aa&&or(Q,at),at.uc)for(zn=(en=Q).D.M,a(en.D.uc),at=en.yb;at<en.Hb;++at){In=zn;var un=(gn=(Rt=en).D).Nb,gn=gn.wa[gn.Y+(Xt=at)],Mn=Rt.sa,ni=Rt.ta+16*un*(Tt=Rt.R)+16*Xt,Fi=gn.dd,dn=gn.tc;if(0!=dn)if(a(3<=dn),1==Rt.L)0<Xt&&ra(Mn,ni,Tt,dn+4),gn.La&&$n(Mn,ni,Tt,dn),0<In&&Sa(Mn,ni,Tt,dn+4),gn.La&&pr(Mn,ni,Tt,dn);else{var Ri=Rt.B,Ia=Rt.qa,No=Rt.ra+8*un*Ri+8*Xt,ca=Rt.Ha,Rt=Rt.Ia+8*un*Ri+8*Xt;un=gn.ld,0<Xt&&(vs(Mn,ni,Tt,dn+4,Fi,un),Fa(Ia,No,ca,Rt,Ri,dn+4,Fi,un)),gn.La&&(oa(Mn,ni,Tt,dn,Fi,un),To(Ia,No,ca,Rt,Ri,dn,Fi,un)),0<In&&(Co(Mn,ni,Tt,dn+4,Fi,un),dr(Ia,No,ca,Rt,Ri,dn+4,Fi,un)),gn.La&&(qa(Mn,ni,Tt,dn,Fi,un),Ea(Ia,No,ca,Rt,Ri,dn,Fi,un))}}if(Q.ia&&alert("todo:DitherRow"),null!=Y.put){if(at=16*wt,wt=16*(wt+1),Rn?(Y.y=Q.sa,Y.O=Q.ta+Pt,Y.f=Q.qa,Y.N=Q.ra+Un,Y.ea=Q.Ha,Y.W=Q.Ia+Un):(at-=ct,Y.y=Pe,Y.O=Re,Y.f=Me,Y.N=ve,Y.ea=gt,Y.W=xt),ft||(wt-=ct),wt>Y.o&&(wt=Y.o),Y.F=null,Y.J=null,null!=Q.Fa&&0<Q.Fa.length&&at<wt&&(Y.J=ir(Q,Y,at,wt-at),Y.F=Q.mb,null==Y.F&&0==Y.F.length)){_e=Gt(Q,3,"Could not decode alpha data.");break e}at<Y.j&&(ct=Y.j-at,at=Y.j,a(!(1&ct)),Y.O+=Q.R*ct,Y.N+=Q.B*(ct>>1),Y.W+=Q.B*(ct>>1),null!=Y.F&&(Y.J+=Y.width*ct)),at<wt&&(Y.O+=Y.v,Y.N+=Y.v>>1,Y.W+=Y.v>>1,null!=Y.F&&(Y.J+=Y.v),Y.ka=at-Y.j,Y.U=Y.va-Y.v,Y.T=wt-at,_e=Y.put(Y))}ue+1!=Q.Ic||ft||(n(Q.sa,Q.ta-xe,Pe,Re+16*Q.R,xe),n(Q.qa,Q.ra-Ue,Me,ve+8*Q.B,Ue),n(Q.Ha,Q.Ia-Ue,gt,xt+8*Q.B,Ue))}if(!_e)return Gt(K,6,"Output aborted.")}return 1}(s,l)),null!=l.bc&&l.bc(l),p&=1}return p?(s.cb=0,p):0})(s,f)||(l=s.a)}}else l=s.a}0==l&&null!=w.Oa&&w.Oa.fd&&(l=sr(w.ba))}w=l}x=0!=w?null:11>x?T.f.RGBA.eb:T.f.kb.y}else x=null;return x};var Su=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(j,ie){for(var fe="",P=0;P<4;P++)fe+=String.fromCharCode(j[ie++]);return fe}function _(j,ie){return(j[ie+0]<<0|j[ie+1]<<8|j[ie+2]<<16)>>>0}function v(j,ie){return(j[ie+0]<<0|j[ie+1]<<8|j[ie+2]<<16|j[ie+3]<<24)>>>0}new h;var C=[0],m=[0],F=[],k=new h,q=i,Z=function(j,ie){var fe={},P=0,M=!1,H=0,B=0;if(fe.frames=[],!function(S,O,R,W){for(var ae=0;ae<4;ae++)if(S[O+ae]!="RIFF".charCodeAt(ae))return!0;return!1}(j,ie)){for(v(j,ie+=4),ie+=8;ie<j.length;){var ce=g(j,ie),oe=v(j,ie+=4);ie+=4;var de=oe+(1&oe);switch(ce){case"VP8 ":case"VP8L":void 0===fe.frames[P]&&(fe.frames[P]={}),(me=fe.frames[P]).src_off=M?B:ie-8,me.src_size=H+oe+8,P++,M&&(M=!1,H=0,B=0);break;case"VP8X":(me=fe.header={}).feature_flags=j[ie];var ne=ie+4;me.canvas_width=1+_(j,ne),me.canvas_height=1+_(j,ne+=3),ne+=3;break;case"ALPH":M=!0,H=de+8,B=ie-8;break;case"ANIM":(me=fe.header).bgcolor=v(j,ie),me.loop_count=(qe=j)[(A=ne=ie+4)+0]<<0|qe[A+1]<<8,ne+=2;break;case"ANMF":var pe,me;(me=fe.frames[P]={}).offset_x=2*_(j,ie),me.offset_y=2*_(j,ie+=3),me.width=1+_(j,ie+=3),me.height=1+_(j,ie+=3),me.duration=_(j,ie+=3),ie+=3,pe=j[ie++],me.dispose=1&pe,me.blend=pe>>1&1}"ANMF"!=ce&&(ie+=de)}var qe,A;return fe}}(q,0);Z.response=q,Z.rgbaoutput=!0,Z.dataurl=!1;var E=Z.header?Z.header:null,G=Z.frames?Z.frames:null;if(E){E.loop_counter=E.loop_count,C=[E.canvas_height],m=[E.canvas_width];for(var $=0;$<G.length&&0!=G[$].blend;$++);}var le=G[0],ye=k.WebPDecodeRGBA(q,le.src_off,le.src_size,m,C);le.rgba=ye,le.imgwidth=m[0],le.imgheight=C[0];for(var X=0;X<m[0]*C[0]*4;X++)F[X]=ye[X];return this.width=m,this.height=C,this.data=F,this}(function(i){var t=function(C,m,F,k){var q=4,Z=c;switch(k){case i.image_compression.FAST:q=1,Z=r;break;case i.image_compression.MEDIUM:q=6,Z=d;break;case i.image_compression.SLOW:q=9,Z=h}var E=jo(C=n(C,m,F,Z),{level:q});return i.__addimage__.arrayBufferToBinaryString(E)},n=function(C,m,F,k){for(var q,Z,E,G=C.length/m,$=new Uint8Array(C.length+G),le=_(),ye=0;ye<G;ye+=1){if(q=C.subarray(E=ye*m,E+m),k)$.set(k(q,F,Z),E+ye);else{for(var X,j=le.length,ie=[];X<j;X+=1)ie[X]=le[X](q,F,Z);var fe=v(ie.concat());$.set(ie[fe],E+ye)}Z=q}return $},o=function(C){var m=Array.apply([],C);return m.unshift(0),m},r=function(C,m){var k=[],q=C.length;k[0]=1;for(var Z=0;Z<q;Z+=1)k[Z+1]=C[Z]-(C[Z-m]||0)+256&255;return k},c=function(C,m,F){var q=[],Z=C.length;q[0]=2;for(var E=0;E<Z;E+=1)q[E+1]=C[E]-(F&&F[E]||0)+256&255;return q},d=function(C,m,F){var Z=[],E=C.length;Z[0]=3;for(var G=0;G<E;G+=1)Z[G+1]=C[G]+256-((C[G-m]||0)+(F&&F[G]||0)>>>1)&255;return Z},h=function(C,m,F){var E,G=[],$=C.length;G[0]=4;for(var le=0;le<$;le+=1)E=g(C[le-m]||0,F&&F[le]||0,F&&F[le-m]||0),G[le+1]=C[le]-E+256&255;return G},g=function(C,m,F){if(C===m&&m===F)return C;var k=Math.abs(m-F),q=Math.abs(C-F),Z=Math.abs(C+m-F-F);return k<=q&&k<=Z?C:q<=Z?m:F},_=function(){return[o,r,c,d,h]},v=function(C){var m=C.map(function(F){return F.reduce(function(k,q){return k+Math.abs(q)},0)});return m.indexOf(Math.min.apply(null,m))};i.processPNG=function(C,m,F,k){var q,Z,E,G,$,le,ye,X,j,ie,fe,P,M,H,B,ce=this.decode.FLATE_DECODE,oe="";if(this.__addimage__.isArrayBuffer(C)&&(C=new Uint8Array(C)),this.__addimage__.isArrayBufferView(C)){if(C=(E=new Hh(C)).imgData,Z=E.bits,q=E.colorSpace,$=E.colors,-1!==[4,6].indexOf(E.colorType)){if(8===E.bits){j=(X=32==E.pixelBitlength?new Uint32Array(E.decodePixels().buffer):16==E.pixelBitlength?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,fe=new Uint8Array(j*E.colors),ie=new Uint8Array(j);var de,ne=E.pixelBitlength-E.bits;for(H=0,B=0;H<j;H++){for(M=X[H],de=0;de<ne;)fe[B++]=M>>>de&255,de+=E.bits;ie[H]=M>>>de&255}}if(16===E.bits){j=(X=new Uint32Array(E.decodePixels().buffer)).length,fe=new Uint8Array(j*(32/E.pixelBitlength)*E.colors),ie=new Uint8Array(j*(32/E.pixelBitlength)),P=E.colors>1,H=0,B=0;for(var pe=0;H<j;)M=X[H++],fe[B++]=M>>>0&255,P&&(fe[B++]=M>>>16&255,M=X[H++],fe[B++]=M>>>0&255),ie[pe++]=M>>>16&255;Z=8}k!==i.image_compression.NONE?(C=t(fe,E.width*E.colors,E.colors,k),ye=t(ie,E.width,1,k)):(C=fe,ye=ie,ce=void 0)}if(3===E.colorType&&(q=this.color_spaces.INDEXED,le=E.palette,E.transparency.indexed)){var me=E.transparency.indexed,qe=0;for(H=0,j=me.length;H<j;++H)qe+=me[H];if((qe/=255)==j-1&&-1!==me.indexOf(0))G=[me.indexOf(0)];else if(qe!==j){for(X=E.decodePixels(),ie=new Uint8Array(X.length),H=0,j=X.length;H<j;H++)ie[H]=me[X[H]];ye=t(ie,E.width,1)}}var A=function(S){var O;switch(S){case i.image_compression.FAST:O=11;break;case i.image_compression.MEDIUM:O=13;break;case i.image_compression.SLOW:O=14;break;default:O=12}return O}(k);return ce===this.decode.FLATE_DECODE&&(oe="/Predictor "+A+" "),oe+="/Colors "+$+" /BitsPerComponent "+Z+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),(ye&&this.__addimage__.isArrayBuffer(ye)||this.__addimage__.isArrayBufferView(ye))&&(ye=this.__addimage__.arrayBufferToBinaryString(ye)),{alias:F,data:C,index:m,filter:ce,decodeParameters:oe,transparency:G,palette:le,sMask:ye,predictor:A,width:E.width,height:E.height,bitsPerComponent:Z,colorSpace:q}}}})(ze.API),function(i){i.processGIF89A=function(a,t,n,o){var r=new Gh(a),c=r.width,d=r.height,h=[];r.decodeAndBlitFrameRGBA(0,h);var g={data:h,width:c,height:d},_=new gl(100).encode(g,100);return i.processJPEG.call(this,_,t,n,o)},i.processGIF87A=i.processGIF89A}(ze.API),oi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var a=0;a<i;a++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0);this.palette[a]={red:o,green:n,blue:t,quad:r}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},oi.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[i]()}catch(t){Zt.log("bit decode error:"+t)}},oi.prototype.bit1=function(){var i,a=Math.ceil(this.width/8),t=a%4;for(i=this.height-1;i>=0;i--){for(var n=this.bottom_up?i:this.height-1-i,o=0;o<a;o++)for(var r=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*o*4,d=0;d<8&&8*o+d<this.width;d++){var h=this.palette[r>>7-d&1];this.data[c+4*d]=h.blue,this.data[c+4*d+1]=h.green,this.data[c+4*d+2]=h.red,this.data[c+4*d+3]=255}0!==t&&(this.pos+=4-t)}},oi.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),a=i%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,o=0;o<i;o++){var r=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*o*4,h=15&r,g=this.palette[r>>4];if(this.data[c]=g.blue,this.data[c+1]=g.green,this.data[c+2]=g.red,this.data[c+3]=255,2*o+1>=this.width)break;this.data[c+4]=(g=this.palette[h]).blue,this.data[c+4+1]=g.green,this.data[c+4+2]=g.red,this.data[c+4+3]=255}0!==a&&(this.pos+=4-a)}},oi.prototype.bit8=function(){for(var i=this.width%4,a=this.height-1;a>=0;a--){for(var t=this.bottom_up?a:this.height-1-a,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),r=t*this.width*4+4*n;if(o<this.palette.length){var c=this.palette[o];this.data[r]=c.red,this.data[r+1]=c.green,this.data[r+2]=c.blue,this.data[r+3]=255}else this.data[r]=255,this.data[r+1]=255,this.data[r+2]=255,this.data[r+3]=255}0!==i&&(this.pos+=4-i)}},oi.prototype.bit15=function(){for(var i=this.width%3,a=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,o=0;o<this.width;o++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(r&a)/a*255|0,d=(r>>5&a)/a*255|0,g=r>>15?255:0,_=n*this.width*4+4*o;this.data[_]=(r>>10&a)/a*255|0,this.data[_+1]=d,this.data[_+2]=c,this.data[_+3]=g}this.pos+=i}},oi.prototype.bit16=function(){for(var i=this.width%3,a=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&a)/a*255|0,h=(c>>5&t)/t*255|0,_=o*this.width*4+4*r;this.data[_]=(c>>11)/a*255|0,this.data[_+1]=h,this.data[_+2]=d,this.data[_+3]=255}this.pos+=i}},oi.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),c=a*this.width*4+4*t;this.data[c]=r,this.data[c+1]=o,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},oi.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var a=this.bottom_up?i:this.height-1-i,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+4*t;this.data[d]=r,this.data[d+1]=o,this.data[d+2]=n,this.data[d+3]=c}},oi.prototype.getData=function(){return this.data},function(i){i.processBMP=function(a,t,n,o){var r=new oi(a,!1),c=r.width,d=r.height,h={data:r.getData(),width:c,height:d},g=new gl(100).encode(h,100);return i.processJPEG.call(this,g,t,n,o)}}(ze.API),bu.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(a,t,n,o){var r=new bu(a),c=r.width,d=r.height,h={data:r.getData(),width:c,height:d},g=new gl(100).encode(h,100);return i.processJPEG.call(this,g,t,n,o)}}(ze.API),ze.API.processRGBA=function(i,a,t){for(var n=i.data,o=n.length,r=new Uint8Array(o/4*3),c=new Uint8Array(o/4),d=0,h=0,g=0;g<o;g+=4){var v=n[g+1],C=n[g+2],m=n[g+3];r[d++]=n[g],r[d++]=v,r[d++]=C,c[h++]=m}var F=this.__addimage__.arrayBufferToBinaryString(r);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:F,index:a,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},ze.API.setLanguage=function(i){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]&&(this.internal.languageSettings.languageCode=i,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Yr=(eo=ze.API).getCharWidthsArray=function(i,a){var t,n,o=(a=a||{}).font||this.internal.getFont(),r=a.fontSize||this.internal.getFontSize(),c=a.charSpace||this.internal.getCharSpace(),d=a.widths?a.widths:o.metadata.Unicode.widths,h=d.fof?d.fof:1,g=a.kerning?a.kerning:o.metadata.Unicode.kerning,_=g.fof?g.fof:1,v=!1!==a.doKerning,C=0,m=i.length,F=0,k=d[0]||h,q=[];for(t=0;t<m;t++)n=i.charCodeAt(t),"function"==typeof o.metadata.widthOfString?q.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(n))+c*(1e3/r)||0)/1e3):(C=v&&"object"===bt(g[n])&&!isNaN(parseInt(g[n][F],10))?g[n][F]/_:0,q.push((d[n]||k)/h+C)),F=n;return q},mu=eo.getStringUnitWidth=function(i,a){var t=(a=a||{}).fontSize||this.internal.getFontSize(),n=a.font||this.internal.getFont(),o=a.charSpace||this.internal.getCharSpace();return eo.processArabic&&(i=eo.processArabic(i)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(i,t,o)/t:Yr.apply(this,arguments).reduce(function(r,c){return r+c},0)},gu=function(i,a,t,n){for(var o=[],r=0,c=i.length,d=0;r!==c&&d+a[r]<t;)d+=a[r],r++;o.push(i.slice(0,r));var h=r;for(d=0;r!==c;)d+a[r]>n&&(o.push(i.slice(h,r)),d=0,h=r),d+=a[r],r++;return h!==r&&o.push(i.slice(h,r)),o},_u=function(i,a,t){t||(t={});var n,o,r,c,d,h,_=[],v=[_],C=t.textIndent||0,m=0,F=0,k=i.split(" "),q=Yr.apply(this,[" ",t])[0];if(h=-1===t.lineIndent?k[0].length+2:t.lineIndent||0){var Z=Array(h).join(" "),E=[];k.map(function($){($=$.split(/\s*\n/)).length>1?E=E.concat($.map(function(le,ye){return(ye&&le.length?"\n":"")+le})):E.push($[0])}),k=E,h=mu.apply(this,[Z,t])}for(r=0,c=k.length;r<c;r++){var G=0;if(n=k[r],h&&"\n"==n[0]&&(n=n.substr(1),G=1),C+m+(F=(o=Yr.apply(this,[n,t])).reduce(function($,le){return $+le},0))>a||G){if(F>a){for(d=gu.apply(this,[n,o,a-(C+m),a]),_.push(d.shift()),_=[d.pop()];d.length;)v.push([d.shift()]);F=o.slice(n.length-(_[0]?_[0].length:0)).reduce(function($,le){return $+le},0)}else _=[n];v.push(_),C=F+h,m=q}else _.push(n),C+=m+F,m=q}return v.map(h?function($,le){return(le?Z:"")+$.join(" ")}:function($){return $.join(" ")})},eo.splitTextToSize=function(i,a,t){var n,o=(t=t||{}).fontSize||this.internal.getFontSize(),r=function(_){if(_.widths&&_.kerning)return{widths:_.widths,kerning:_.kerning};var v=this.internal.getFont(_.fontName,_.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,t);n=Array.isArray(i)?i:String(i).split(/\r?\n/);var c=1*this.internal.scaleFactor*a/o;r.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/o:0,r.lineIndent=t.lineIndent;var d,h,g=[];for(d=0,h=n.length;d<h;d++)g=g.concat(_u.apply(this,[n[d],c,r]));return g},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var a="klmnopqrstuvwxyz",t={},n={},o=0;o<a.length;o++)t[a[o]]="0123456789abcdef"[o],n["0123456789abcdef"[o]]=a[o];var r=function(v){return"0x"+parseInt(v,10).toString(16)},c=i.__fontmetrics__.compress=function(v){var C,m,F,k,q=["{"];for(var Z in v){if(C=v[Z],isNaN(parseInt(Z,10))?m="'"+Z+"'":(Z=parseInt(Z,10),m=(m=r(Z).slice(2)).slice(0,-1)+n[m.slice(-1)]),"number"==typeof C)C<0?(F=r(C).slice(3),k="-"):(F=r(C).slice(2),k=""),F=k+F.slice(0,-1)+n[F.slice(-1)];else{if("object"!==bt(C))throw new Error("Don't know what to do with value type "+bt(C)+".");F=c(C)}q.push(m+F)}return q.push("}"),q.join("")},d=i.__fontmetrics__.uncompress=function(v){if("string"!=typeof v)throw new Error("Invalid argument passed to uncompress.");for(var C,m,F,k,q={},Z=1,E=q,G=[],$="",le="",ye=v.length-1,X=1;X<ye;X+=1)"'"==(k=v[X])?C?(F=C.join(""),C=void 0):C=[]:C?C.push(k):"{"==k?(G.push([E,F]),E={},F=void 0):"}"==k?((m=G.pop())[0][m[1]]=E,F=void 0,E=m[0]):"-"==k?Z=-1:void 0===F?t.hasOwnProperty(k)?($+=t[k],F=parseInt($,16)*Z,Z=1,$=""):$+=k:t.hasOwnProperty(k)?(le+=t[k],E[F]=parseInt(le,16)*Z,Z=1,F=void 0,le=""):le+=k;return q},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},_={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(v){var C=v.font,m=_.Unicode[C.postScriptName];m&&(C.metadata.Unicode={},C.metadata.Unicode.widths=m.widths,C.metadata.Unicode.kerning=m.kerning);var F=g.Unicode[C.postScriptName];F&&(C.metadata.Unicode.encoding=F,C.encoding=F.codePages[0])}])}(ze.API),function(i){var a=function(t){for(var n=t.length,o=new Uint8Array(n),r=0;r<n;r++)o[r]=t.charCodeAt(r);return o};i.API.events.push(["addFont",function(t){var c,d,n=void 0,o=t.font,r=t.instance;if(!o.isStandardFont){if(void 0===r)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");if("string"!=typeof(n=!1===r.existsFileInVFS(o.postScriptName)?r.loadFile(o.postScriptName):r.getFileFromVFS(o.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+o.postScriptName+"').");c=o,d=/^\x00\x01\x00\x00/.test(d=n)?a(d):a(Jo(d)),c.metadata=i.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]}}])}(ze),function(i){function a(){return(Ge.canvg?Promise.resolve(Ge.canvg):Ae.e(489).then(Ae.bind(Ae,6489))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ze.API.addSvgAsImage=function(t,n,o,r,c,d,h,g){if(isNaN(n)||isNaN(o))throw Zt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(c))throw Zt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var _=document.createElement("canvas");_.width=r,_.height=c;var v=_.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,_.width,_.height);var C={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return a().then(function(F){return F.fromString(v,t,C)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(F){return F.render(C)}).then(function(){m.addImage(_.toDataURL("image/jpeg",1),n,o,r,c,h,g)})}}(),ze.API.putTotalPages=function(i){var a,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(a=new RegExp(i,"g"),t=this.internal.getNumberOfPages()):(a=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var o=0;o<this.internal.pages[n].length;o++)this.internal.pages[n][o]=this.internal.pages[n][o].replace(a,t);return this},ze.API.viewerPreferences=function(i,a){var t;i=i||{},a=a||!1;var n,o,r,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),h=[],g=0,_=0,v=0;function C(F,k){var q,Z=!1;for(q=0;q<F.length;q+=1)F[q]===k&&(Z=!0);return Z}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,"reset"===i||!0===a){var m=d.length;for(v=0;v<m;v+=1)t[d[v]].value=t[d[v]].defaultValue,t[d[v]].explicitSet=!1}if("object"===bt(i))for(o in i)if(r=i[o],C(d,o)&&void 0!==r){if("boolean"===t[o].type&&"boolean"==typeof r)t[o].value=r;else if("name"===t[o].type&&C(t[o].valueSet,r))t[o].value=r;else if("integer"===t[o].type&&Number.isInteger(r))t[o].value=r;else if("array"===t[o].type){for(g=0;g<r.length;g+=1)if(n=!0,1===r[g].length&&"number"==typeof r[g][0])h.push(String(r[g]-1));else if(r[g].length>1){for(_=0;_<r[g].length;_+=1)"number"!=typeof r[g][_]&&(n=!1);!0===n&&h.push([r[g][0]-1,r[g][1]-1].join(" "))}t[o].value="["+h.join(" ")+"]"}else t[o].value=t[o].defaultValue;t[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var F,k=[];for(F in t)!0===t[F].explicitSet&&k.push("name"===t[F].type?"/"+F+" /"+t[F].value:"/"+F+" "+t[F].value);0!==k.length&&this.internal.write("/ViewerPreferences\n<<\n"+k.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(i){var a=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',o=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(n)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),g=r.length+c.length+d.length+o.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(o+r+c+d+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(n,o){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:n,namespaceuri:o||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",a)),this}}(ze.API),function(i){var a=i.API,t=a.pdfEscape16=function(r,c){for(var d,h=c.metadata.Unicode.widths,g=["","0","00","000","0000"],_=[""],v=0,C=r.length;v<C;++v){if(d=c.metadata.characterToGlyph(r.charCodeAt(v)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=r.charCodeAt(v),-1==h.indexOf(d)&&(h.push(d),h.push([parseInt(c.metadata.widthOfGlyph(d),10)])),"0"==d)return _.join("");d=d.toString(16),_.push(g[4-d.length],d)}return _.join("")},n=function(r){var c,d,h,g,_,v,C;for(_="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",h=[],v=0,C=(d=Object.keys(r).sort(function(m,F){return m-F})).length;v<C;v++)c=d[v],h.length>=100&&(_+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar",h=[]),null!=r[c]&&"function"==typeof r[c].toString&&(g=("0000"+r[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+g+">"));return h.length&&(_+="\n"+h.length+" beginbfchar\n"+h.join("\n")+"\nendbfchar\n"),_+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};a.events.push(["putFont",function(r){!function(c){var d=c.font,h=c.out,g=c.newObject,_=c.putStream;if(d.metadata instanceof i.API.TTFFont&&"Identity-H"===d.encoding){for(var v=d.metadata.Unicode.widths,C=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),m="",F=0;F<C.length;F++)m+=String.fromCharCode(C[F]);var k=g();_({data:m,addLength1:!0,objectId:k}),h("endobj");var q=g();_({data:n(d.metadata.toUnicode),addLength1:!0,objectId:q}),h("endobj");var Z=g();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Ga(d.fontName)),h("/FontFile2 "+k+" 0 R"),h("/FontBBox "+i.API.PDFObject.convert(d.metadata.bbox)),h("/Flags "+d.metadata.flags),h("/StemV "+d.metadata.stemV),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h(">>"),h("endobj");var E=g();h("<<"),h("/Type /Font"),h("/BaseFont /"+Ga(d.fontName)),h("/FontDescriptor "+Z+" 0 R"),h("/W "+i.API.PDFObject.convert(v)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+d.encoding+")"),h(">>"),h(">>"),h("endobj"),d.objectNumber=g(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+q+" 0 R"),h("/BaseFont /"+Ga(d.fontName)),h("/Encoding /"+d.encoding),h("/DescendantFonts ["+E+" 0 R]"),h(">>"),h("endobj"),d.isAlreadyPutted=!0}}(r)}]),a.events.push(["putFont",function(r){!function(c){var d=c.font,h=c.out,g=c.newObject,_=c.putStream;if(d.metadata instanceof i.API.TTFFont&&"WinAnsiEncoding"===d.encoding){for(var v=d.metadata.rawData,C="",m=0;m<v.length;m++)C+=String.fromCharCode(v[m]);var F=g();_({data:C,addLength1:!0,objectId:F}),h("endobj");var k=g();_({data:n(d.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var q=g();h("<<"),h("/Descent "+d.metadata.decender),h("/CapHeight "+d.metadata.capHeight),h("/StemV "+d.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+F+" 0 R"),h("/Flags 96"),h("/FontBBox "+i.API.PDFObject.convert(d.metadata.bbox)),h("/FontName /"+Ga(d.fontName)),h("/ItalicAngle "+d.metadata.italicAngle),h("/Ascent "+d.metadata.ascender),h(">>"),h("endobj"),d.objectNumber=g();for(var Z=0;Z<d.metadata.hmtx.widths.length;Z++)d.metadata.hmtx.widths[Z]=parseInt(d.metadata.hmtx.widths[Z]*(1e3/d.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Ga(d.fontName)+"/FontDescriptor "+q+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),h("endobj"),d.isAlreadyPutted=!0}}(r)}]);var o=function(r){var c,d=r.text||"",h=r.x,g=r.y,_=r.options||{},v=r.mutex||{},C=v.pdfEscape,m=v.activeFontKey,F=v.fonts,k=m,q="",Z=0,E="",G=F[k].encoding;if("Identity-H"!==F[k].encoding)return{text:d,x:h,y:g,options:_,mutex:v};for(E=d,k=m,Array.isArray(d)&&(E=d[0]),Z=0;Z<E.length;Z+=1)F[k].metadata.hasOwnProperty("cmap")&&(c=F[k].metadata.cmap.unicode.codeMap[E[Z].charCodeAt(0)]),c||E[Z].charCodeAt(0)<256&&F[k].metadata.hasOwnProperty("Unicode")?q+=E[Z]:q+="";var $="";return parseInt(k.slice(1))<14||"WinAnsiEncoding"===G?$=C(q,k).split("").map(function(le){return le.charCodeAt(0).toString(16)}).join(""):"Identity-H"===G&&($=t(q,F[k])),v.isHex=!0,{text:$,x:h,y:g,options:_,mutex:v}};a.events.push(["postProcessText",function(r){var c=r.text||"",d=[],h={text:c,x:r.x,y:r.y,options:r.options,mutex:r.mutex};if(Array.isArray(c)){var g=0;for(g=0;g<c.length;g+=1)Array.isArray(c[g])&&3===c[g].length?d.push([o(Object.assign({},h,{text:c[g][0]})).text,c[g][1],c[g][2]]):d.push(o(Object.assign({},h,{text:c[g]})).text);r.text=d}else r.text=o(Object.assign({},h,{text:c})).text}])}(ze),function(i){var a=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(t){return a.call(this),void 0!==this.internal.vFS[t]},i.addFileToVFS=function(t,n){return a.call(this),this.internal.vFS[t]=n,this},i.getFileFromVFS=function(t){return a.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(ze.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(n){var o,r,c,d,h,g,_,v=a,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],F={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},q=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],Z=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,G=0;this.__bidiEngine__={};var $=function(P){var M=P.charCodeAt(),H=M>>8,B=k[H];return void 0!==B?v[256*B+(255&M)]:252===H||253===H?"AL":Z.test(H)?"L":8===H?"R":"N"},le=function(P){for(var M,H=0;H<P.length;H++){if("L"===(M=$(P.charAt(H))))return!1;if("R"===M)return!0}return!1},ye=function(P,M,H,B){var ce,oe,de,ne,pe=M[B];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(pe="AN");break;case"AL":E=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":B<1||B+1>=M.length||"EN"!==(ce=H[B-1])&&"AN"!==ce||"EN"!==(oe=M[B+1])&&"AN"!==oe?pe="N":E&&(oe="AN"),pe=oe===ce?oe:"N";break;case"ES":pe="EN"===(ce=B>0?H[B-1]:"B")&&B+1<M.length&&"EN"===M[B+1]?"EN":"N";break;case"ET":if(B>0&&"EN"===H[B-1]){pe="EN";break}if(E){pe="N";break}for(de=B+1,ne=M.length;de<ne&&"ET"===M[de];)de++;pe=de<ne&&"EN"===M[de]?"EN":"N";break;case"NSM":if(c&&!d){for(ne=M.length,de=B+1;de<ne&&"NSM"===M[de];)de++;if(de<ne){var me=P[B];if(ce=M[de],(me>=1425&&me<=2303||64286===me)&&("R"===ce||"AL"===ce)){pe="R";break}}}pe=B<1||"B"===(ce=M[B-1])?"N":H[B-1];break;case"B":E=!1,o=!0,pe=G;break;case"S":r=!0,pe="N"}return pe},X=function(P,M,H){var B=P.split("");return H&&j(B,H,{hiLevel:G}),B.reverse(),M&&M.reverse(),B.join("")},j=function(P,M,H){var B,ce,oe,de,ne,pe=-1,me=P.length,qe=0,A=[],S=G?m:C,O=[];for(E=!1,o=!1,r=!1,ce=0;ce<me;ce++)O[ce]=$(P[ce]);for(oe=0;oe<me;oe++){if(ne=qe,A[oe]=ye(P,O,A,oe),B=240&(qe=S[ne][F[A[oe]]]),M[oe]=de=S[qe&=15][5],B>0)if(16===B){for(ce=pe;ce<oe;ce++)M[ce]=1;pe=-1}else pe=-1;if(S[qe][6])-1===pe&&(pe=oe);else if(pe>-1){for(ce=pe;ce<oe;ce++)M[ce]=de;pe=-1}"B"===O[oe]&&(M[oe]=0),H.hiLevel|=de}r&&function(R,W,ae){for(var re=0;re<ae;re++)if("S"===R[re]){W[re]=G;for(var se=re-1;se>=0&&"WS"===R[se];se--)W[se]=G}}(O,M,me)},ie=function(P,M,H,B,ce){if(!(ce.hiLevel<P)){if(1===P&&1===G&&!o)return M.reverse(),void(H&&H.reverse());for(var oe,de,ne,pe,me=M.length,qe=0;qe<me;){if(B[qe]>=P){for(ne=qe+1;ne<me&&B[ne]>=P;)ne++;for(pe=qe,de=ne-1;pe<de;pe++,de--)oe=M[pe],M[pe]=M[de],M[de]=oe,H&&(oe=H[pe],H[pe]=H[de],H[de]=oe);qe=ne}qe++}}},fe=function(P,M,H){var B=P.split(""),ce={hiLevel:G};return H||(H=[]),j(B,H,ce),function(oe,de,ne){if(0!==ne.hiLevel&&_)for(var pe,me=0;me<oe.length;me++)1===de[me]&&(pe=q.indexOf(oe[me]))>=0&&(oe[me]=q[pe+1])}(B,H,ce),ie(2,B,M,H,ce),ie(1,B,M,H,ce),B.join("")};return this.__bidiEngine__.doBidiReorder=function(P,M,H){if(function(ce,oe){if(oe)for(var de=0;de<ce.length;de++)oe[de]=de;void 0===d&&(d=le(ce)),void 0===g&&(g=le(ce))}(P,M),c||!h||g)if(c&&h&&d^g)G=d?1:0,P=X(P,M,H);else if(!c&&h&&g)G=d?1:0,P=fe(P,M,H),P=X(P,M);else if(!c||d||h||g){if(c&&!h&&d^g)P=X(P,M),d?(G=0,P=fe(P,M,H)):(G=1,P=fe(P,M,H),P=X(P,M));else if(c&&d&&!h&&g)G=1,P=fe(P,M,H),P=X(P,M);else if(!c&&!h&&d^g){var B=_;d?(G=1,P=fe(P,M,H),G=0,_=!1,P=fe(P,M,H),_=B):(G=0,P=fe(P,M,H),P=X(P,M),G=1,_=!1,P=fe(P,M,H),_=B,P=X(P,M))}}else G=0,P=fe(P,M,H);else G=d?1:0,P=fe(P,M,H);return P},this.__bidiEngine__.setOptions=function(P){P&&(c=P.isInputVisual,h=P.isOutputVisual,d=P.isInputRtl,g=P.isOutputRtl,_=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var a=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(n){var o=n.text,r=n.options||{},c=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,t.setOptions(r),"[object Array]"===Object.prototype.toString.call(o)){var d=0;for(c=[],d=0;d<o.length;d+=1)"[object Array]"===Object.prototype.toString.call(o[d])?c.push([t.doBidiReorder(o[d][0]),o[d][1],o[d][2]]):c.push([t.doBidiReorder(o[d])]);n.text=c}else n.text=t.doBidiReorder(o);t.setOptions({isInputVisual:!0})}])}(ze),ze.API.TTFFont=function(){function i(a){var t;if(this.rawData=a,t=this.contents=new Xi(a),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new c1(this),this.registerTTF()}return i.open=function(a){return new i(a)},i.prototype.parse=function(){return this.directory=new Yh(this.contents),this.head=new Wh(this),this.name=new t1(this),this.cmap=new xu(this),this.toUnicode={},this.hhea=new Vh(this),this.maxp=new n1(this),this.hmtx=new a1(this),this.post=new Xh(this),this.os2=new $h(this),this.loca=new l1(this),this.glyf=new o1(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,n,o,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var c,d,h,g;for(g=[],c=0,d=(h=this.bbox).length;c<d;c++)g.push(Math.round(h[c]*this.scaleFactor));return g}.call(this),this.stemV=0,this.post.exists?(n=255&(o=this.post.italic_angle),0!=(32768&(t=o>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(a){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[a]:void 0)||0},i.prototype.widthOfGlyph=function(a){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(a).advance*t},i.prototype.widthOfString=function(a,t,n){var o,r,c,d;for(c=0,r=0,d=(a=""+a).length;0<=d?r<d:r>d;r=0<=d?++r:--r)o=a.charCodeAt(r),c+=this.widthOfGlyph(this.characterToGlyph(o))+n*(1e3/t)||0;return c*(t/1e3)},i.prototype.lineHeight=function(a,t){return null==t&&(t=!1),(this.ascender+(t?this.lineGap:0)-this.decender)/1e3*a},i}();var ri,Xi=function(){function i(a){this.data=a??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(a){return this.data[this.pos++]=a},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(a){return this.writeByte(a>>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},i.prototype.readInt32=function(){var a;return(a=this.readUInt32())>=2147483648?a-4294967296:a},i.prototype.writeInt32=function(a){return a<0&&(a+=4294967296),this.writeUInt32(a)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(a){return this.writeByte(a>>8&255),this.writeByte(255&a)},i.prototype.readInt16=function(){var a;return(a=this.readUInt16())>=32768?a-65536:a},i.prototype.writeInt16=function(a){return a<0&&(a+=65536),this.writeUInt16(a)},i.prototype.readString=function(a){var t,n;for(n=[],t=0;0<=a?t<a:t>a;t=0<=a?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},i.prototype.writeString=function(a){var t,n,o;for(o=[],t=0,n=a.length;0<=n?t<n:t>n;t=0<=n?++t:--t)o.push(this.writeByte(a.charCodeAt(t)));return o},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(a){return this.writeInt16(a)},i.prototype.readLongLong=function(){var a,t,n,o,r,c,d,h;return a=this.readByte(),t=this.readByte(),n=this.readByte(),o=this.readByte(),r=this.readByte(),c=this.readByte(),d=this.readByte(),h=this.readByte(),128&a?-1*(72057594037927940*(255^a)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^o)+16777216*(255^r)+65536*(255^c)+256*(255^d)+(255^h)+1):72057594037927940*a+281474976710656*t+1099511627776*n+4294967296*o+16777216*r+65536*c+256*d+h},i.prototype.writeLongLong=function(a){var t,n;return t=Math.floor(a/4294967296),n=4294967295&a,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(a){return this.writeInt32(a)},i.prototype.read=function(a){var t,n;for(t=[],n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)t.push(this.readByte());return t},i.prototype.write=function(a){var n,o,r;for(r=[],n=0,o=a.length;n<o;n++)r.push(this.writeByte(a[n]));return r},i}(),Yh=function(){var i;function a(t){var n,o,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},o=0,r=this.tableCount;0<=r?o<r:o>r;o=0<=r?++o:--o)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return a.prototype.encode=function(t){var n,o,c,d,h,g,_,v,C,m,F,k;for(k in m=Object.keys(t).length,h=Math.log(2),v=16*Math.floor(Math.log(m)/h),c=Math.floor(v/h),_=16*m-v,(o=new Xi).writeInt(this.scalarType),o.writeShort(m),o.writeShort(v),o.writeShort(c),o.writeShort(_),g=o.pos+16*m,d=null,F=[],t)for(C=t[k],o.writeString(k),o.writeInt(i(C)),o.writeInt(g),o.writeInt(C.length),F=F.concat(C),"head"===k&&(d=g),g+=C.length;g%4;)F.push(0),g++;return o.write(F),n=2981146554-i(o.data),o.pos=d+8,o.writeUInt32(n),o.data},i=function(t){var n,o,r,c;for(t=wu.call(t);t.length%4;)t.push(0);for(r=new Xi(t),o=0,n=0,c=t.length;n<c;n=n+=4)o+=r.readUInt32();return 4294967295&o},a}(),Kh={}.hasOwnProperty,wi=function(i,a){for(var t in a)Kh.call(a,t)&&(i[t]=a[t]);function n(){this.constructor=i}return n.prototype=a.prototype,i.prototype=new n,i.__super__=a.prototype,i};ri=function(){function i(a){var t;this.file=a,this.exists=!!(t=this.file.directory.tables[this.tag]),t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var Wh=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="head",a.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},a.prototype.encode=function(t){var n;return(n=new Xi).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},a}(),yu=function(){function i(a,t){var n,o,r,c,d,h,g,_,v,C,m,F,k,q,Z,E,G;switch(this.platformID=a.readUInt16(),this.encodingID=a.readShort(),this.offset=t+a.readInt(),v=a.pos,a.pos=this.offset,this.format=a.readUInt16(),this.length=a.readUInt16(),this.language=a.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=a.readByte();break;case 4:for(m=a.readUInt16(),C=m/2,a.pos+=6,r=function(){var $,le;for(le=[],h=$=0;0<=C?$<C:$>C;h=0<=C?++$:--$)le.push(a.readUInt16());return le}(),a.pos+=2,k=function(){var $,le;for(le=[],h=$=0;0<=C?$<C:$>C;h=0<=C?++$:--$)le.push(a.readUInt16());return le}(),g=function(){var $,le;for(le=[],h=$=0;0<=C?$<C:$>C;h=0<=C?++$:--$)le.push(a.readUInt16());return le}(),_=function(){var $,le;for(le=[],h=$=0;0<=C?$<C:$>C;h=0<=C?++$:--$)le.push(a.readUInt16());return le}(),o=(this.length-a.pos+this.offset)/2,d=function(){var $,le;for(le=[],h=$=0;0<=o?$<o:$>o;h=0<=o?++$:--$)le.push(a.readUInt16());return le}(),h=Z=0,G=r.length;Z<G;h=++Z)for(q=r[h],n=E=F=k[h];F<=q?E<=q:E>=q;n=F<=q?++E:--E)0===_[h]?c=n+g[h]:0!==(c=d[_[h]/2+(n-F)-(C-h)]||0)&&(c+=g[h]),this.codeMap[n]=65535&c}a.pos=v}return i.encode=function(a,t){var n,o,r,c,d,h,g,_,v,C,m,F,k,q,Z,E,G,le,ye,X,j,ie,fe,P,M,H,B,ce,oe,de,ne,pe,me,qe,A,S,O,R,W,ae,re,se,Ze,Te,Fe;switch(B=new Xi,c=Object.keys(a).sort(function(ke,Ye){return ke-Ye}),t){case"macroman":for(k=0,q=function(){var ke=[];for(F=0;F<256;++F)ke.push(0);return ke}(),E={0:0},r={},ce=0,pe=c.length;ce<pe;ce++)null==E[se=a[o=c[ce]]]&&(E[se]=++k),r[o]={old:a[o],new:E[a[o]]},q[o]=E[a[o]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(q),{charMap:r,subtable:B.data,maxGlyphID:k+1};case"unicode":for(M=[],v=[],G=0,E={},n={},Z=g=null,oe=0,me=c.length;oe<me;oe++)null==E[le=a[o=c[oe]]]&&(E[le]=++G),n[o]={old:le,new:E[le]},d=E[le]-o,null!=Z&&d===g||(Z&&v.push(Z),M.push(o),g=d),Z=o;for(Z&&v.push(Z),v.push(65535),M.push(65535),fe=2*(ie=M.length),j=2*Math.pow(Math.log(ie)/Math.LN2,2),C=Math.log(j/2)/Math.LN2,X=2*ie-j,h=[],ye=[],m=[],F=de=0,qe=M.length;de<qe;F=++de){if(_=v[F],65535===(P=M[F])){h.push(0),ye.push(0);break}if(P-(H=n[P].new)>=32768)for(h.push(0),ye.push(2*(m.length+ie-F)),o=ne=P;P<=_?ne<=_:ne>=_;o=P<=_?++ne:--ne)m.push(n[o].new);else h.push(H-P),ye.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*ie+2*m.length),B.writeUInt16(0),B.writeUInt16(fe),B.writeUInt16(j),B.writeUInt16(C),B.writeUInt16(X),ae=0,A=v.length;ae<A;ae++)B.writeUInt16(o=v[ae]);for(B.writeUInt16(0),re=0,S=M.length;re<S;re++)B.writeUInt16(o=M[re]);for(Ze=0,O=h.length;Ze<O;Ze++)B.writeUInt16(d=h[Ze]);for(Te=0,R=ye.length;Te<R;Te++)B.writeUInt16(ye[Te]);for(Fe=0,W=m.length;Fe<W;Fe++)B.writeUInt16(k=m[Fe]);return{charMap:n,subtable:B.data,maxGlyphID:G+1}}},i}(),xu=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="cmap",a.prototype.parse=function(t){var n,o,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n=new yu(t,this.offset),this.tables.push(n),n.isUnicode&&null==this.unicode&&(this.unicode=n);return!0},a.encode=function(t,n){var o,r;return null==n&&(n="macroman"),o=yu.encode(t,n),(r=new Xi).writeUInt16(0),r.writeUInt16(1),o.table=r.data.concat(o.subtable),o},a}(),Vh=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="hhea",a.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},a}(),$h=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="OS/2",a.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,o;for(o=[],n=0;n<10;++n)o.push(t.readByte());return o}(),this.charRange=function(){var n,o;for(o=[],n=0;n<4;++n)o.push(t.readInt());return o}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,o;for(o=[],n=0;n<2;n=++n)o.push(t.readInt());return o}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},a}(),Xh=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="post",a.prototype.parse=function(t){var n,o,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var c;for(o=t.readUInt16(),this.glyphNameIndex=[],c=0;0<=o?c<o:c>o;c=0<=o?++c:--c)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)n=t.readByte(),r.push(this.names.push(t.readString(n)));return r;case 151552:return o=t.readUInt16(),this.offsets=t.read(o);case 262144:return this.map=function(){var d,h,g;for(g=[],c=d=0,h=this.file.maxp.numGlyphs;0<=h?d<h:d>h;c=0<=h?++d:--d)g.push(t.readUInt32());return g}.call(this)}},a}(),e1=function(i,a){this.raw=i,this.length=i.length,this.platformID=a.platformID,this.encodingID=a.encodingID,this.languageID=a.languageID},t1=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="name",a.prototype.parse=function(t){var n,o,r,c,d,h,g,_,v,C,m;for(t.pos=this.offset,t.readShort(),n=t.readShort(),h=t.readShort(),o=[],c=0;0<=n?c<n:c>n;c=0<=n?++c:--c)o.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(g={},c=v=0,C=o.length;v<C;c=++v)t.pos=(r=o[c]).offset,_=t.readString(r.length),d=new e1(_,r),null==g[m=r.nameID]&&(g[m]=[]),g[r.nameID].push(d);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},a}(),n1=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="maxp",a.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},a}(),a1=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="hmtx",a.prototype.parse=function(t){var n,o,r,d,h,g;for(t.pos=this.offset,this.metrics=[],n=0,h=this.file.hhea.numberOfMetrics;0<=h?n<h:n>h;n=0<=h?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var _,v;for(v=[],n=_=0;0<=r?_<r:_>r;n=0<=r?++_:--_)v.push(t.readInt16());return v}(),this.widths=function(){var _,v,C,m;for(m=[],_=0,v=(C=this.metrics).length;_<v;_++)m.push(C[_].advance);return m}.call(this),o=this.widths[this.widths.length-1],g=[],n=d=0;0<=r?d<r:d>r;n=0<=r?++d:--d)g.push(this.widths.push(o));return g},a.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},a}(),wu=[].slice,o1=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="glyf",a.prototype.parse=function(){return this.cache={}},a.prototype.glyphFor=function(t){var n,o,r,c,d,h,g,_,v,C;return t in this.cache?this.cache[t]:(n=this.file.contents,o=(c=this.file.loca).indexOf(t),0===(r=c.lengthOf(t))?this.cache[t]=null:(n.pos=this.offset+o,d=(h=new Xi(n.read(r))).readShort(),_=h.readShort(),C=h.readShort(),g=h.readShort(),v=h.readShort(),this.cache[t]=-1===d?new s1(h,_,C,g,v):new r1(h,d,_,C,g,v),this.cache[t]))},a.prototype.encode=function(t,n,o){var r,c,d,h,g;for(d=[],c=[],h=0,g=n.length;h<g;h++)r=t[n[h]],c.push(d.length),r&&(d=d.concat(r.encode(o)));return c.push(d.length),{table:d,offsets:c}},a}(),r1=function(){function i(a,t,n,o,r,c){this.raw=a,this.numberOfContours=t,this.xMin=n,this.yMin=o,this.xMax=r,this.yMax=c,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),s1=function(){function i(a,t,n,o,r){var c,d;for(this.raw=a,this.xMin=t,this.yMin=n,this.xMax=o,this.yMax=r,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return i.prototype.encode=function(){var a,t,n;for(t=new Xi(wu.call(this.raw.data)),a=0,n=this.glyphIDs.length;a<n;++a)t.pos=this.glyphOffsets[a];return t.data},i}(),l1=function(i){function a(){return a.__super__.constructor.apply(this,arguments)}return wi(a,ri),a.prototype.tag="loca",a.prototype.parse=function(t){var o;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var r,c;for(c=[],o=0,r=this.length;o<r;o+=2)c.push(2*t.readUInt16());return c}.call(this):function(){var r,c;for(c=[],o=0,r=this.length;o<r;o+=4)c.push(t.readUInt32());return c}.call(this)},a.prototype.indexOf=function(t){return this.offsets[t]},a.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},a.prototype.encode=function(t,n){for(var o=new Uint32Array(this.offsets.length),r=0,c=0,d=0;d<o.length;++d)if(o[d]=r,c<n.length&&n[c]==d){++c,o[d]=r;var g=this.offsets[d+1]-this.offsets[d];g>0&&(r+=g)}for(var _=new Array(4*o.length),v=0;v<o.length;++v)_[4*v+3]=255&o[v],_[4*v+2]=(65280&o[v])>>8,_[4*v+1]=(16711680&o[v])>>16,_[4*v]=(4278190080&o[v])>>24;return _},a}(),c1=function(){function i(a){this.font=a,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var a,t,o,r;for(t in o=this.font.cmap.tables[0].codeMap,a={},r=this.subset)a[t]=o[r[t]];return a},i.prototype.glyphsFor=function(a){var t,n,o,r,c,d,h;for(o={},c=0,d=a.length;c<d;c++)o[r=a[c]]=this.font.glyf.glyphFor(r);for(r in t=[],o)null!=(n=o[r])&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(r in h=this.glyphsFor(t))o[r]=n=h[r];return o},i.prototype.encode=function(a,t){var n,o,r,c,h,g,_,v,C,m,F,k,q,Z;for(o in n=xu.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(a),m={0:0},Z=n.charMap)m[(h=Z[o]).old]=h.new;for(F in C=n.maxGlyphID,c)F in m||(m[F]=C++);return _=function(E){var G,$;for(G in $={},E)$[E[G]]=G;return $}(m),v=Object.keys(_).sort(function(E,G){return E-G}),k=function(){var E,G,$;for($=[],E=0,G=v.length;E<G;E++)$.push(_[v[E]]);return $}(),r=this.font.glyf.encode(c,k,m),g=this.font.loca.encode(r.offsets,k),q={cmap:this.font.cmap.raw(),glyf:r.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(q["OS/2"]=this.font.os2.raw()),this.font.directory.encode(q)},i}();ze.API.PDFObject=function(){var i;function a(){}return i=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},a.convert=function(t){var o,r;if(Array.isArray(t))return"["+function(){var d,h,g;for(g=[],d=0,h=t.length;d<h;d++)g.push(a.convert(t[d]));return g}().join(" ")+"]";if("string"==typeof t)return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+i(t.getUTCFullYear(),4)+i(t.getUTCMonth(),2)+i(t.getUTCDate(),2)+i(t.getUTCHours(),2)+i(t.getUTCMinutes(),2)+i(t.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(t)){for(o in r=["<<"],t)r.push("/"+o+" "+a.convert(t[o]));return r.push(">>"),r.join("\n")}return""+t},a}();const u1=["ptsiDetailsContent"],d1=function(i){return{background:i}};let p1=(()=>{class i{constructor(){this.url=Da.N.url,this.title=je._G.PTSI,this.wound_coloration_codes=je.F3,this.wounds_zones_classes=je.he,this.closingEvent=new e.vpe}ngOnInit(){}onClose(){this.closingEvent.emit()}generateLinearGradient(){const t=this.ptsi?.colors;if(!Array.isArray(t)||0===t.length)return"red";t.sort((o,r)=>o.percentage-r.percentage);let n="linear-gradient(to right, ";for(let o=0;o<t.length;o++){const r=t[o],c=t[o+1],g=je.F3[r.color];n+=`${g} ${r.percentage}%, ${g} ${c?c.percentage:100}%`,o!==t.length-1&&(n+=", ")}return n+=")",n}getColorPercentage(t){const n=this.ptsi.colors.find(o=>o.color===t);return n?n.percentage:0}calculateAge(t){const n=Wt(t);return n.isValid()?Wt().diff(n,"years"):"..."}downloadPtsi(){var t=this;return(0,ma.Z)(function*(){const n=t.ptsiDetailsContent.nativeElement,o=yield vc()(n,{scale:2}),r=o.toDataURL("image/png"),h=.264583*o.width,g=.264583*o.height,_=new ze({orientation:h>g?"landscape":"portrait",unit:"mm",format:[h,g]});_.addImage(r,"PNG",0,0,h,g),_.save(t.patient.firstname+" "+t.patient.lastname+"-ptsi.pdf")})()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ptsi-list"]],viewQuery:function(t,n){if(1&t&&e.Gf(u1,5),2&t){let o;e.iGM(o=e.CRH())&&(n.ptsiDetailsContent=o.first)}},inputs:{ptsi:"ptsi",patient:"patient"},outputs:{closingEvent:"closingEvent"},decls:491,vars:120,consts:[[3,"title","showSubmit","closingEvent"],[1,"row"],[1,"col-12","text-right"],[1,"btn","btn-primary",3,"click"],[1,"col-12"],[1,"ptsi-details"],["ptsiDetailsContent",""],[1,"ptsi-details-patient"],[1,"details-text-holder"],[1,"details-label"],[1,"ptsi-details-first"],[1,"details-checkbox-holder"],[1,"details-label","bold-label"],["type","checkbox","disabled","",3,"checked"],[1,"ptsi-details-second"],[1,"mannequin-conatiner",2,"background-image","url(assets/img/male-mannequin-nobg.jpg)"],[1,"wound-zone",3,"ngClass","ngStyle"],[1,"ptsi-details-third"],[1,"table","table-bordered"],[1,"ptsi-details-coloration"],["colspan","2"],[1,"color-necrose"],[1,"color-bourgeonnement"],[1,"color-fibrine"],[1,"color-epidermisation"],[1,"color-infection"],[1,"ptsi-details-forth"],[1,"details-title"],[1,"ptsi-details-fifth"]],template:function(t,n){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closingEvent",function(){return n.onClose()}),e.TgZ(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.downloadPtsi()}),e._uU(4," Telecharger "),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5,6)(8,"div",7)(9,"span",8)(10,"span",9),e._uU(11,"Nom:"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"span",8)(14,"span",9),e._uU(15,"Pr\xe9nom:"),e.qZA(),e._uU(16),e.qZA(),e.TgZ(17,"span",8)(18,"span",9),e._uU(19,"Age:"),e.qZA(),e._uU(20),e.qZA(),e.TgZ(21,"span",8)(22,"span",9),e._uU(23,"Sexe:"),e.qZA(),e._uU(24),e.qZA()(),e.TgZ(25,"div",10)(26,"span",11)(27,"span",12),e._uU(28,"Patho. Veineuse:"),e.qZA(),e._UZ(29,"input",13),e.qZA(),e.TgZ(30,"span",11)(31,"span",9),e._uU(32,"Doppler:"),e.qZA(),e._UZ(33,"input",13),e.qZA(),e.TgZ(34,"span",8)(35,"span",9),e._uU(36,"Date:"),e.qZA(),e._uU(37),e.qZA(),e.TgZ(38,"span",11)(39,"span",9),e._uU(40,"Op\xe9r\xe9e:"),e.qZA(),e._UZ(41,"input",13),e.qZA(),e.TgZ(42,"span",11)(43,"span",12),e._uU(44,"TVP/TVS:"),e.qZA(),e._UZ(45,"input",13),e.qZA(),e.TgZ(46,"span",8)(47,"span",9),e._uU(48,"Date:"),e.qZA(),e._uU(49),e.qZA(),e.TgZ(50,"span",8)(51,"span",12),e._uU(52,"Contention:"),e.qZA(),e._uU(53),e.qZA(),e.TgZ(54,"span",11)(55,"span",12),e._uU(56,"AOMI:"),e.qZA(),e._UZ(57,"input",13),e.qZA(),e.TgZ(58,"span",11)(59,"span",9),e._uU(60,"Doppler:"),e.qZA(),e._UZ(61,"input",13),e.qZA(),e.TgZ(62,"span",8)(63,"span",9),e._uU(64,"Date:"),e.qZA(),e._uU(65),e.qZA(),e.TgZ(66,"span",11)(67,"span",12),e._uU(68,"Cardiopathie:"),e.qZA(),e._UZ(69,"input",13),e.qZA(),e.TgZ(70,"span",8)(71,"span",12),e._uU(72,"Anticoagulant:"),e.qZA(),e._uU(73),e.qZA(),e.TgZ(74,"span",11)(75,"span",12),e._uU(76,"Tabac:"),e.qZA(),e._UZ(77,"input",13),e.qZA(),e.TgZ(78,"span",11)(79,"span",9),e._uU(80,"H+cholest\xe9rol\xe9mie:"),e.qZA(),e._UZ(81,"input",13),e.qZA(),e.TgZ(82,"span",11)(83,"span",12),e._uU(84,"HTA:"),e.qZA(),e._UZ(85,"input",13),e.qZA(),e.TgZ(86,"span",11)(87,"span",12),e._uU(88,"DID:"),e.qZA(),e._UZ(89,"input",13),e.qZA(),e.TgZ(90,"span",11)(91,"span",12),e._uU(92,"DNID:"),e.qZA(),e._UZ(93,"input",13),e.qZA(),e.TgZ(94,"span",8)(95,"span",9),e._uU(96,"HbA,C:"),e.qZA(),e._uU(97),e.qZA(),e.TgZ(98,"span",8)(99,"span",9),e._uU(100,"Date:"),e.qZA(),e._uU(101),e.qZA(),e.TgZ(102,"span",11)(103,"span",12),e._uU(104,"Obesite:"),e.qZA(),e._UZ(105,"input",13),e.qZA(),e.TgZ(106,"span",11)(107,"span",12),e._uU(108,"Denutrition:"),e.qZA(),e._UZ(109,"input",13),e.qZA(),e.TgZ(110,"span",11)(111,"span",9),e._uU(112,"Mobelite:"),e.qZA(),e._UZ(113,"input",13),e.qZA(),e.TgZ(114,"span",11)(115,"span",12),e._uU(116,"Allergie:"),e.qZA(),e._UZ(117,"input",13),e.qZA(),e.TgZ(118,"span",11)(119,"span",12),e._uU(120,"Hygiene:"),e.qZA(),e._UZ(121,"input",13),e.qZA(),e.TgZ(122,"span",11)(123,"span",12),e._uU(124,"Ordonnance:"),e.qZA(),e._UZ(125,"input",13),e.qZA(),e.TgZ(126,"span",11)(127,"span",12),e._uU(128,"VAT:"),e.qZA(),e._UZ(129,"input",13),e.qZA(),e.TgZ(130,"span",11)(131,"span",12),e._uU(132,"Bilan sanguin:"),e.qZA(),e._UZ(133,"input",13),e.qZA(),e.TgZ(134,"span",8)(135,"span",9),e._uU(136,"Date:"),e.qZA(),e._uU(137),e.qZA(),e.TgZ(138,"span",8)(139,"span",9),e._uU(140,"DFG:"),e.qZA(),e._uU(141),e.qZA(),e.TgZ(142,"span",8)(143,"span",9),e._uU(144,"GB:"),e.qZA(),e._uU(145),e.qZA(),e.TgZ(146,"span",8)(147,"span",9),e._uU(148,"Albumine:"),e.qZA(),e._uU(149),e.qZA(),e.TgZ(150,"span",8)(151,"span",9),e._uU(152,"CRP:"),e.qZA(),e._uU(153),e.qZA()(),e.TgZ(154,"div",14)(155,"div",15),e._UZ(156,"div",16),e.qZA()(),e.TgZ(157,"div",17)(158,"span",11)(159,"span",12),e._uU(160,"Douleur:"),e.qZA(),e._UZ(161,"input",13),e.qZA(),e.TgZ(162,"span",8)(163,"span",9),e._uU(164,"EVA:"),e.qZA(),e._uU(165),e.qZA(),e.TgZ(166,"span",11)(167,"span",9),e._uU(168,"Spontanee:"),e.qZA(),e._UZ(169,"input",13),e.qZA(),e.TgZ(170,"span",11)(171,"span",9),e._uU(172,"Provoquee:"),e.qZA(),e._UZ(173,"input",13),e.qZA(),e.TgZ(174,"span",11)(175,"span",9),e._uU(176,"Intermittente:"),e.qZA(),e._UZ(177,"input",13),e.qZA(),e.TgZ(178,"span",11)(179,"span",9),e._uU(180,"Continue:"),e.qZA(),e._UZ(181,"input",13),e.qZA(),e.TgZ(182,"span",11)(183,"span",12),e._uU(184,"Antalgique:"),e.qZA(),e._UZ(185,"input",13),e.qZA(),e.TgZ(186,"span",8)(187,"span",9),e._uU(188,"Niveau:"),e.qZA(),e._uU(189),e.qZA(),e.TgZ(190,"span",8)(191,"span",9),e._uU(192,"Plaie: siege:"),e.qZA(),e._uU(193),e.qZA(),e.TgZ(194,"span",8)(195,"span",9),e._uU(196,"Anciennete:"),e.qZA(),e._uU(197),e.qZA(),e.TgZ(198,"span",8)(199,"span",9),e._uU(200,"Date episode:"),e.qZA(),e._uU(201),e.qZA(),e.TgZ(202,"span",11)(203,"span",9),e._uU(204,"Spontanee:"),e.qZA(),e._UZ(205,"input",13),e.qZA(),e.TgZ(206,"span",11)(207,"span",9),e._uU(208,"Traumatisme:"),e.qZA(),e._UZ(209,"input",13),e.qZA(),e.TgZ(210,"span",11)(211,"span",9),e._uU(212,"Post operatoire:"),e.qZA(),e._UZ(213,"input",13),e.qZA(),e.TgZ(214,"span",11)(215,"span",9),e._uU(216,"Ulcere:"),e.qZA(),e._UZ(217,"input",13),e.qZA(),e.TgZ(218,"span",11)(219,"span",9),e._uU(220,"Veineux:"),e.qZA(),e._UZ(221,"input",13),e.qZA(),e.TgZ(222,"span",11)(223,"span",9),e._uU(224,"Arteriel:"),e.qZA(),e._UZ(225,"input",13),e.qZA(),e.TgZ(226,"span",11)(227,"span",9),e._uU(228,"Mixte:"),e.qZA(),e._UZ(229,"input",13),e.qZA(),e.TgZ(230,"span",11)(231,"span",9),e._uU(232,"Mal perf:"),e.qZA(),e._UZ(233,"input",13),e.qZA(),e.TgZ(234,"span",8)(235,"span",9),e._uU(236,"Stade:"),e.qZA(),e._uU(237),e.qZA(),e.TgZ(238,"span",11)(239,"span",9),e._uU(240,"H\xe9matome:"),e.qZA(),e._UZ(241,"input",13),e.qZA(),e.TgZ(242,"span",8)(243,"span",9),e._uU(244,"Br\xfblure degr\xe9:"),e.qZA(),e._uU(245),e.qZA(),e.TgZ(246,"span",11)(247,"span",9),e._uU(248,"Dermabrasion:"),e.qZA(),e._UZ(249,"input",13),e.qZA(),e.TgZ(250,"span",8)(251,"span",9),e._uU(252,"Autre:"),e.qZA(),e._uU(253),e.qZA(),e.TgZ(254,"span",11)(255,"span",12),e._uU(256,"Soins r\xe9alis\xe9s par IDE:"),e.qZA(),e._UZ(257,"input",13),e.qZA(),e.TgZ(258,"span",8)(259,"span",9),e._uU(260,"Fr\xe9quence:"),e.qZA(),e._uU(261),e.qZA(),e.TgZ(262,"span",8)(263,"span",9),e._uU(264,"Jours:"),e.qZA(),e._uU(265),e.qZA(),e.TgZ(266,"div")(267,"table",18)(268,"thead")(269,"tr")(270,"td"),e._uU(271," Pansement "),e.qZA(),e.TgZ(272,"td"),e._uU(273," Nom Commercial "),e.qZA(),e.TgZ(274,"td"),e._uU(275," D\xe9plac\xe9 "),e.qZA(),e.TgZ(276,"td"),e._uU(277," Tenue "),e.qZA(),e.TgZ(278,"td"),e._uU(279," Tol\xe9rance "),e.qZA()()(),e.TgZ(280,"tbody")(281,"tr")(282,"td"),e._uU(283," Primaire "),e.qZA(),e.TgZ(284,"td"),e._uU(285),e.qZA(),e.TgZ(286,"td"),e._uU(287),e.qZA(),e.TgZ(288,"td"),e._uU(289),e.qZA(),e.TgZ(290,"td"),e._uU(291),e.qZA()(),e.TgZ(292,"tr")(293,"td"),e._uU(294," Secondaire "),e.qZA(),e.TgZ(295,"td"),e._uU(296),e.qZA(),e.TgZ(297,"td"),e._uU(298),e.qZA(),e.TgZ(299,"td"),e._uU(300),e.qZA(),e.TgZ(301,"td"),e._uU(302),e.qZA()()()()()(),e.TgZ(303,"div",19)(304,"div")(305,"table",18)(306,"thead")(307,"tr")(308,"td",20),e._uU(309," Dimension "),e.qZA(),e.TgZ(310,"td",20),e._uU(311," Coloration "),e.qZA(),e.TgZ(312,"td",20),e._uU(313," Situation "),e.qZA()()(),e.TgZ(314,"tbody")(315,"tr")(316,"td"),e._uU(317," Largeur des berges en mm "),e.qZA(),e.TgZ(318,"td"),e._uU(319),e.qZA(),e._UZ(320,"td",21),e.TgZ(321,"td"),e._uU(322),e.qZA(),e.TgZ(323,"td"),e._uU(324," Etapes "),e.qZA(),e.TgZ(325,"td"),e._uU(326),e.qZA()(),e.TgZ(327,"tr")(328,"td"),e._uU(329," Longueur des berges en mm "),e.qZA(),e.TgZ(330,"td"),e._uU(331),e.qZA(),e._UZ(332,"td",22),e.TgZ(333,"td"),e._uU(334),e.qZA(),e.TgZ(335,"td"),e._uU(336," Stade "),e.qZA(),e.TgZ(337,"td"),e._uU(338),e.qZA()(),e.TgZ(339,"tr")(340,"td"),e._uU(341," Largeur de plaie en mm "),e.qZA(),e.TgZ(342,"td"),e._uU(343),e.qZA(),e._UZ(344,"td",23),e.TgZ(345,"td"),e._uU(346),e.qZA(),e.TgZ(347,"td"),e._uU(348," Tissus "),e.qZA(),e.TgZ(349,"td"),e._uU(350),e.qZA()(),e.TgZ(351,"tr")(352,"td"),e._uU(353," Longueur de plaie en mm "),e.qZA(),e.TgZ(354,"td"),e._uU(355),e.qZA(),e._UZ(356,"td",24),e.TgZ(357,"td"),e._uU(358),e.qZA(),e.TgZ(359,"td"),e._uU(360," Inflammation & Infection "),e.qZA(),e.TgZ(361,"td"),e._uU(362),e.qZA()(),e.TgZ(363,"tr")(364,"td"),e._uU(365," Profondeur de plaie "),e.qZA(),e.TgZ(366,"td"),e._uU(367),e.qZA(),e._UZ(368,"td",25),e.TgZ(369,"td"),e._uU(370),e.qZA(),e.TgZ(371,"td"),e._uU(372," Maintien d'humidit\xe9 "),e.qZA(),e.TgZ(373,"td"),e._uU(374),e.qZA()()()()()(),e.TgZ(375,"div",26)(376,"div",27),e._uU(377," Action: protocole de soins et prescriptions "),e.qZA(),e.TgZ(378,"span",11)(379,"span",9),e._uU(380,"D\xe9tersion:"),e.qZA(),e._UZ(381,"input",13),e.qZA(),e.TgZ(382,"span",11)(383,"span",9),e._uU(384,"Anesth:"),e.qZA(),e._UZ(385,"input",13),e.qZA(),e.TgZ(386,"span",11)(387,"span",9),e._uU(388,"Compresse:"),e.qZA(),e._UZ(389,"input",13),e.qZA(),e.TgZ(390,"span",11)(391,"span",9),e._uU(392,"Bistouri:"),e.qZA(),e._UZ(393,"input",13),e.qZA(),e.TgZ(394,"span",11)(395,"span",9),e._uU(396,"Curette:"),e.qZA(),e._UZ(397,"input",13),e.qZA(),e.TgZ(398,"span",11)(399,"span",9),e._uU(400,"Douleur:"),e.qZA(),e._UZ(401,"input",13),e.qZA(),e.TgZ(402,"span",8)(403,"span",9),e._uU(404,"EVA:"),e.qZA(),e._uU(405),e.qZA(),e.TgZ(406,"span",11)(407,"span",9),e._uU(408,"Pr\xe9l\xe8vement:"),e.qZA(),e._UZ(409,"input",13),e.qZA(),e.TgZ(410,"span",11)(411,"span",9),e._uU(412,"Ecouvillon:"),e.qZA(),e._UZ(413,"input",13),e.qZA(),e.TgZ(414,"span",11)(415,"span",9),e._uU(416,"Curatage:"),e.qZA(),e._UZ(417,"input",13),e.qZA(),e.TgZ(418,"span",11)(419,"span",9),e._uU(420,"Biopsie:"),e.qZA(),e._UZ(421,"input",13),e.qZA(),e.TgZ(422,"span",8)(423,"span",9),e._uU(424,"Pansement primaire:"),e.qZA(),e._uU(425),e.qZA(),e.TgZ(426,"span",8)(427,"span",9),e._uU(428,"Pansement secondaire:"),e.qZA(),e._uU(429),e.qZA(),e.TgZ(430,"span",8)(431,"span",9),e._uU(432,"Peau p\xe9ri:"),e.qZA(),e._uU(433),e.qZA(),e.TgZ(434,"span",11)(435,"span",9),e._uU(436,"Contention:"),e.qZA(),e._UZ(437,"input",13),e.qZA(),e.TgZ(438,"span",8)(439,"span",9),e._uU(440,"Taille:"),e.qZA(),e._uU(441),e.qZA(),e.TgZ(442,"span",8)(443,"span",9),e._uU(444,"Type:"),e.qZA(),e._uU(445),e.qZA(),e.TgZ(446,"span",8)(447,"span",9),e._uU(448,"Antibioth\xe9rapie:"),e.qZA(),e._uU(449),e.qZA(),e.TgZ(450,"span",8)(451,"span",9),e._uU(452,"Dose:"),e.qZA(),e._uU(453),e.qZA(),e.TgZ(454,"span",8)(455,"span",9),e._uU(456,"Dur\xe9e:"),e.qZA(),e._uU(457),e.qZA(),e.TgZ(458,"span",11)(459,"span",9),e._uU(460,"Bilan:"),e.qZA(),e._UZ(461,"input",13),e.qZA(),e.TgZ(462,"span",11)(463,"span",9),e._uU(464,"Radiographie:"),e.qZA(),e._UZ(465,"input",13),e.qZA(),e.TgZ(466,"span",11)(467,"span",9),e._uU(468,"Doppler veineux:"),e.qZA(),e._UZ(469,"input",13),e.qZA(),e.TgZ(470,"span",11)(471,"span",9),e._uU(472,"Doppler art\xe9riel:"),e.qZA(),e._UZ(473,"input",13),e.qZA(),e.TgZ(474,"span",8)(475,"span",9),e._uU(476,"Consultation:"),e.qZA(),e._uU(477),e.qZA(),e.TgZ(478,"span",11)(479,"span",9),e._uU(480,"Photo:"),e.qZA(),e._UZ(481,"input",13),e.qZA(),e.TgZ(482,"span",11)(483,"span",9),e._uU(484,"Planim\xe9trie:"),e.qZA(),e._UZ(485,"input",13),e.qZA()(),e.TgZ(486,"div",28)(487,"span",8)(488,"span",12),e._uU(489,"Observations:"),e.qZA(),e._uU(490),e.qZA()()()()()()),2&t&&(e.Q6J("title",n.title)("showSubmit",!1),e.xp6(12),e.hij(" ",null==n.patient?null:n.patient.lastname,""),e.xp6(4),e.hij(" ",null==n.patient?null:n.patient.firstname,""),e.xp6(4),e.hij(" ",n.calculateAge(null==n.patient?null:n.patient.birthday),""),e.xp6(4),e.hij(" ","Male"===(null==n.patient?null:n.patient.gender)?"M":"F",""),e.xp6(5),e.Q6J("checked",n.ptsi.patho),e.xp6(4),e.Q6J("checked",n.ptsi.patho_dopler),e.xp6(4),e.hij(" ",n.ptsi.patho_date||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.patho_operee),e.xp6(4),e.Q6J("checked",n.ptsi.tvp),e.xp6(4),e.hij(" ",n.ptsi.tvp_date||"........",""),e.xp6(4),e.hij(" ",n.ptsi.contention||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.aomi),e.xp6(4),e.Q6J("checked",n.ptsi.aomi_doppler),e.xp6(4),e.hij(" ",n.ptsi.aomi_date||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.cardiopathie),e.xp6(4),e.hij(" ",n.ptsi.anticoagulant||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.tabac),e.xp6(4),e.Q6J("checked",n.ptsi.cholesterolemie),e.xp6(4),e.Q6J("checked",n.ptsi.hta),e.xp6(4),e.Q6J("checked",n.ptsi.did),e.xp6(4),e.Q6J("checked",n.ptsi.dnid),e.xp6(4),e.hij(" ",n.ptsi.dnid_hbac||"........",""),e.xp6(4),e.hij(" ",n.ptsi.dnid_date||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.obesite),e.xp6(4),e.Q6J("checked",n.ptsi.denutrition),e.xp6(4),e.Q6J("checked",n.ptsi.mobelite),e.xp6(4),e.Q6J("checked",n.ptsi.allergie),e.xp6(4),e.Q6J("checked",n.ptsi.hygiene),e.xp6(4),e.Q6J("checked",n.ptsi.ordonnance),e.xp6(4),e.Q6J("checked",n.ptsi.vat),e.xp6(4),e.Q6J("checked",n.ptsi.bilan_sanguin),e.xp6(4),e.hij(" ",n.ptsi.bilan_sanguin_date||"........",""),e.xp6(4),e.hij(" ",n.ptsi.bilan_sanguin_dfg||"........",""),e.xp6(4),e.hij(" ",n.ptsi.bilan_sanguin_gb||"........",""),e.xp6(4),e.hij(" ",n.ptsi.bilan_sanguin_albumine||"........",""),e.xp6(4),e.hij(" ",n.ptsi.bilan_sanguin_crp||"........",""),e.xp6(3),e.Q6J("ngClass",n.wounds_zones_classes[n.ptsi.zone])("ngStyle",e.VKq(118,d1,n.generateLinearGradient())),e.xp6(5),e.Q6J("checked",n.ptsi.douleur),e.xp6(4),e.hij(" ",n.ptsi.douleur_eva||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.douleur_spontanee),e.xp6(4),e.Q6J("checked",n.ptsi.douleur_provoquee),e.xp6(4),e.Q6J("checked",n.ptsi.douleur_intermittente),e.xp6(4),e.Q6J("checked",n.ptsi.douleur_continue),e.xp6(4),e.Q6J("checked",n.ptsi.antalgique),e.xp6(4),e.hij(" ",n.ptsi.antalgique_niveau||"........",""),e.xp6(4),e.hij(" ",n.ptsi.plaie_siege||"........",""),e.xp6(4),e.hij(" ",n.ptsi.plaie_anciennete||"........",""),e.xp6(4),e.hij(" ",n.ptsi.plaie_date_episode||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.spontanee),e.xp6(4),e.Q6J("checked",n.ptsi.traumatisme),e.xp6(4),e.Q6J("checked",n.ptsi.post_operatoire),e.xp6(4),e.Q6J("checked",n.ptsi.ulcere),e.xp6(4),e.Q6J("checked",n.ptsi.veineux),e.xp6(4),e.Q6J("checked",n.ptsi.arteriel),e.xp6(4),e.Q6J("checked",n.ptsi.mixte),e.xp6(4),e.Q6J("checked",n.ptsi.mal_perf),e.xp6(4),e.hij(" ",n.ptsi.escarre_stade||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.hematome),e.xp6(4),e.hij(" ",n.ptsi.brulure_degre||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.dermabrasion),e.xp6(4),e.hij(" ",n.ptsi.plaie_autre||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.soins_ide),e.xp6(4),e.hij(" ",n.ptsi.soins_frequence||"........",""),e.xp6(4),e.hij(" ",n.ptsi.soins_frequence_jours||"........",""),e.xp6(20),e.hij(" ",n.ptsi.pansement_primaire," "),e.xp6(2),e.hij(" ",n.ptsi.pansement_primaire_deplace?"Oui":"Non"," "),e.xp6(2),e.hij(" ",n.ptsi.pansement_primaire_tenue," "),e.xp6(2),e.hij(" ",n.ptsi.pansement_primaire_deplace?"Oui":"Non"," "),e.xp6(5),e.hij(" ",n.ptsi.pansement_secondaire," "),e.xp6(2),e.hij(" ",n.ptsi.pansement_secondaire_deplace?"Oui":"Non"," "),e.xp6(2),e.hij(" ",n.ptsi.pansement_secondaire_tenue," "),e.xp6(2),e.hij(" ",n.ptsi.pansement_secondaire_tolerance?"Oui":"Non"," "),e.xp6(17),e.hij(" ",n.ptsi.berge_width," "),e.xp6(3),e.hij(" ",n.getColorPercentage("N\xe9crose"),"% "),e.xp6(4),e.hij(" ",n.ptsi.step," "),e.xp6(5),e.hij(" ",n.ptsi.berge_height," "),e.xp6(3),e.hij(" ",n.getColorPercentage("Bourgeonnement"),"% "),e.xp6(4),e.hij(" ",n.ptsi.stade," "),e.xp6(5),e.hij(" ",n.ptsi.wound_width," "),e.xp6(3),e.hij(" ",n.getColorPercentage("Fibrine"),"% "),e.xp6(4),e.hij(" ",n.ptsi.tissus," "),e.xp6(5),e.hij(" ",n.ptsi.wound_height," "),e.xp6(3),e.hij(" ",n.getColorPercentage("Epidermisation"),"% "),e.xp6(4),e.hij(" ",n.ptsi.inflammation," "),e.xp6(5),e.hij(" ",n.ptsi.wound_depth," "),e.xp6(3),e.hij(" ",n.getColorPercentage("Infection"),"% "),e.xp6(4),e.hij(" ",n.ptsi.humidity," "),e.xp6(7),e.Q6J("checked",n.ptsi.protocole_detersion),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_anesth),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_compresse),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_bistouri),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_curette),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_douleur),e.xp6(4),e.hij(" ",n.ptsi.protocole_douleur_eva||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_prelevement),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_ecouvillon),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_curtage),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_biopsie),e.xp6(4),e.hij(" ",n.ptsi.protocole_pansement_primaire||"........",""),e.xp6(4),e.hij(" ",n.ptsi.protocole_pansement_secondaire||"........",""),e.xp6(4),e.hij(" ",n.ptsi.protocole_peau_peri||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_contention),e.xp6(4),e.hij(" ",n.ptsi.protocole_contention_taille||"........",""),e.xp6(4),e.hij(" ",n.ptsi.protocole_contention_type||"........",""),e.xp6(4),e.hij(" ",n.ptsi.protocole_antibiotherapie||"........",""),e.xp6(4),e.hij(" ",n.ptsi.protocole_antibiotherapie_dose||"........",""),e.xp6(4),e.hij(" ",n.ptsi.protocole_antibiotherapie_duree||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_bilan),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_radiographie),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_doppler_veineux),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_doppler_arteriel),e.xp6(4),e.hij(" ",n.ptsi.protocole_consultation||"........",""),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_photo),e.xp6(4),e.Q6J("checked",n.ptsi.protocole_planimetrie),e.xp6(5),e.hij(" ",n.ptsi.observations,""))},dependencies:[U.mk,U.PC,_a.u],styles:[".images-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;padding:10px}.image-holder[_ngcontent-%COMP%]{border:1px solid grey;border-radius:8px;position:relative;margin:10px;width:300px;height:300px;display:flex;align-items:center;justify-content:center}.image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.detail-elements[_ngcontent-%COMP%]{border-bottom:1px solid #b7b7b7;margin-bottom:22px}.mannequin-conatiner[_ngcontent-%COMP%]{height:319px;width:320px;background-position:center;background-repeat:no-repeat;margin:auto;position:relative;background-size:100%}.wound-zone[_ngcontent-%COMP%]{background:#e80505;width:18px;height:18px;text-align:center;border-radius:50%;position:absolute}.face[_ngcontent-%COMP%]{left:68px;top:13px}.neck[_ngcontent-%COMP%]{left:68px;top:34px}.chest[_ngcontent-%COMP%]{left:65px;top:60px}.stomach[_ngcontent-%COMP%]{left:65px;top:100px}.arm[_ngcontent-%COMP%]{left:28px;top:76px}.forearm[_ngcontent-%COMP%]{left:15px;top:111px}.hand[_ngcontent-%COMP%]{left:-3px;top:151px}.hips[_ngcontent-%COMP%]{left:49px;top:137px}.knee[_ngcontent-%COMP%]{left:49px;top:213px}.leg[_ngcontent-%COMP%]{left:49px;top:252px}.foot[_ngcontent-%COMP%]{left:43px;top:296px}.head[_ngcontent-%COMP%]{left:233px;top:7px}.nape[_ngcontent-%COMP%]{left:233px;top:34px}.upper-back[_ngcontent-%COMP%]{left:230px;top:60px}.lower-back[_ngcontent-%COMP%]{left:230px;top:100px}.elbow[_ngcontent-%COMP%]{left:190px;top:97px}.buttocks[_ngcontent-%COMP%]{left:219px;top:141px}.thigh[_ngcontent-%COMP%]{left:212px;top:174px}.calf[_ngcontent-%COMP%]{left:222px;top:240px}.heel[_ngcontent-%COMP%]{left:56px;top:289px}span.details-checkbox-holder[_ngcontent-%COMP%]{padding:0 26px 0 0}span.details-checkbox-holder[_ngcontent-%COMP%]   .details-label[_ngcontent-%COMP%]{margin-right:16px}span.details-text-holder[_ngcontent-%COMP%]{padding:0 26px 0 0}span.details-text-holder[_ngcontent-%COMP%]   .details-label[_ngcontent-%COMP%]{margin-right:16px}.ptsi-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-evenly}.ptsi-details-third[_ngcontent-%COMP%]{width:calc(100% - 320px)}.ptsi-details-forth[_ngcontent-%COMP%]{width:70%}.ptsi-details-fifth[_ngcontent-%COMP%]{width:30%}.color-necrose[_ngcontent-%COMP%]{background-color:#555556}.color-bourgeonnement[_ngcontent-%COMP%]{background-color:#ff2e00}.color-fibrine[_ngcontent-%COMP%]{background-color:#ffe974}.color-epidermisation[_ngcontent-%COMP%]{background-color:#ff98c9}.color-infection[_ngcontent-%COMP%]{background-color:#c5e4d9}.ptsi-details-coloration[_ngcontent-%COMP%]{width:100%}.details-title[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.bold-label[_ngcontent-%COMP%]{font-weight:700}.ptsi-details-patient[_ngcontent-%COMP%]{width:100%;margin-bottom:12px}"]}),i})();const h1=["f"];function f1(i,a){if(1&i&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function m1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),e._uU(3,"Date d'examen"),e.qZA(),e.TgZ(4,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw();return e.KtG(c.data.bilans[r].date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",22)(8,"mat-datepicker",null,23),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw();e.xp6(4),e.MGl("name","date",o.prescriptionKey,""),e.Q6J("matDatepicker",t)("ngModel",o.data.bilans[n].date),e.xp6(3),e.Q6J("for",t)}}function g1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",27),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,c=e.oxw(2).index,d=e.oxw();return e.KtG(d.onRemoveBilanImage(r,c))}),e.qZA()}2&i&&e.Q6J("file",a.$implicit)("removable",!0)}function _1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",24)(1,"ngx-dropzone",25),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw();return e.KtG(c.onSelectBilanImage(o,r))}),e.YNc(2,g1,1,2,"ngx-dropzone-image-preview",26),e.TgZ(3,"ngx-dropzone-label"),e._uU(4,"Glissez et d\xe9posez vos images ici!"),e.qZA()()()}if(2&i){const t=e.oxw().index,n=e.oxw();e.xp6(1),e.Q6J("accept","image/*")("multiple",!0),e.xp6(1),e.Q6J("ngForOf",n.data.bilans[t].images)}}function v1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",11)(2,"button",12),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeElementFromArray("bilans",r))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",13)(6,"mat-form-field",14)(7,"mat-label"),e._uU(8,"Nom"),e.qZA(),e.TgZ(9,"input",15),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.data.bilans[c].name=o)}),e.qZA()()(),e.TgZ(10,"div",13)(11,"mat-form-field",14)(12,"mat-label"),e._uU(13,"Type d'examen"),e.qZA(),e.TgZ(14,"mat-select",16),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.data.bilans[c].type=o)}),e.YNc(15,f1,2,2,"mat-option",17),e.qZA()()(),e.YNc(16,m1,10,4,"div",18),e.YNc(17,_1,5,3,"div",19),e.qZA()}if(2&i){const t=a.index,n=e.oxw();e.xp6(9),e.MGl("name","name",t,""),e.Q6J("ngModel",n.data.bilans[t].name),e.xp6(5),e.MGl("name","type_bilan",t,""),e.Q6J("ngModel",n.data.bilans[t].type),e.xp6(1),e.Q6J("ngForOf",n.bilans_types)("ngForTrack",n.option),e.xp6(1),e.Q6J("ngIf",n.data.bilans[t].type),e.xp6(1),e.Q6J("ngIf",n.data.bilans[t].type)}}function b1(i,a){1&i&&e._UZ(0,"mat-spinner",28),2&i&&e.Q6J("diameter",30)}let y1=(()=>{class i{constructor(t,n,o){this.patientsService=t,this.modalService=n,this._snackBar=o,this.title=je._G.PATIENTS,this.data={bilans:[],existing_bilans:[],remove_bilans:[]},this.isLoading=!1,this.horizontalPosition="end",this.verticalPosition="bottom",this.prescriptions_types=je.o8,this.bilans_types=je.kH,this.closingEvent=new e.vpe,this.reloadEvent=new e.vpe}ngOnInit(){this.title=(this.selectedElement?je._G.UPDATE_ELEMENT:je._G.CREATE_ELEMENT)+" "+this.title,this.addBilan()}onClose(){this.closingEvent.emit()}toggleStatus(){this.data.enabled=!this.data.enabled}onSubmit(){var t=this;return(0,ma.Z)(function*(){const n=Object.values(t.form.controls);for(let o of n)if(o.invalid)return;for(let o in t.data.bilans)t.data.bilans[o].images.length>0&&(t.data.bilans[o].images=yield nn.c.convertFilesToBase64(t.data.bilans[o].images));for(let o in t.data.existing_bilans)t.data.existing_bilans[o].new_images.length>0&&(t.data.existing_bilans[o].new_images=yield nn.c.convertFilesToBase64(t.data.existing_bilans[o].new_images));t.isLoading=!0,t.patientsService.save_bilans(t.selectedElement.id,t.data).subscribe(o=>{t.onSuccess(o)},o=>{t.onError(o)})})()}onSuccess(t){this.isLoading=!1,this.reloadEvent.emit(),this.modalService.dismissAll(),this._snackBar.open("Enregistr\xe9 avec succ\xe8s!","Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["success-snackbar"]})}onError(t){this.isLoading=!1;let n=t.error.data;for(let o in n)this._snackBar.open(n[o],"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["danger-snackbar"]})}addBilan(){this.data.bilans.push({id:nn.c.generateUniqueId(),type:null,date:null,images:[]})}onSelectBilanImage(t,n){console.log(t),this.data.bilans[n].images.push(...t.addedFiles)}onRemoveBilanImage(t,n){console.log(t),this.data.bilans[n].images.splice(this.data.bilans[n].images.indexOf(t),1)}onSelectElementImage(t,n,o,r="images"){console.log(t),this.data[o][n][r].push(...t.addedFiles)}onRemoveElementImage(t,n,o,r="images"){console.log(t),this.data[o][n][r].splice(this.data[o][n][r].indexOf(t),1)}removeElementFromArray(t,n,o=null){o&&this.data[o].push(this.data[t][n].id),this.data[t].splice(n,1)}removeExistingImage(t,n,o,r=null){r&&this.data[t][n][r].push(this.data[t][n].images[o].id),this.data[t][n].images.splice(o,1)}trackByFn(t,n){return n.id}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(On.$),e.Y36(Oa.FF),e.Y36(ga.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patient-bilans-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(h1,5),2&t){let o;e.iGM(o=e.CRH())&&(n.form=o.first)}},inputs:{selectedElement:"selectedElement"},outputs:{closingEvent:"closingEvent",reloadEvent:"reloadEvent"},decls:17,vars:7,consts:[[3,"title","showSubmit","isLoading","closingEvent"],["f","ngForm"],[1,"row"],[1,"col-md-12","conatiner-fluid"],[1,"col-md-12","text-right","mb-2"],["type","button","mat-raised-button","","color","primary",3,"click"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-12","container-fluid","mt-2"],[1,"col-md-12","text-right"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["style","margin-right: 10px;",3,"diameter",4,"ngIf"],[1,"col-12","mt-2","text-right"],["type","button","mat-mini-fab","","color","warn","aria-label","Supprimer",3,"click"],[1,"col-md-6"],[1,"full-width"],["matInput","","placeholder","Nom","required","",3,"name","ngModel","ngModelChange"],["required","",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrack"],["class","col-md-6",4,"ngIf"],["class","col-md-12",4,"ngIf"],[3,"value"],["matInput","","required","",3,"matDatepicker","name","ngModel","ngModelChange"],["matSuffix","",3,"for"],["bilan_date_picker",""],[1,"col-md-12"],[3,"accept","multiple","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[2,"margin-right","10px",3,"diameter"]],template:function(t,n){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closingEvent",function(){return n.onClose()}),e.TgZ(1,"form",null,1)(3,"div",2)(4,"div",3)(5,"div")(6,"div",2)(7,"div",4)(8,"button",5),e.NdJ("click",function(){return n.addBilan()}),e._uU(9," Ajouter bilan "),e.qZA()()(),e.YNc(10,v1,18,8,"div",6),e.qZA()(),e.TgZ(11,"div",7)(12,"div",2)(13,"div",8)(14,"button",9),e.NdJ("click",function(){return n.onSubmit()}),e.YNc(15,b1,1,1,"mat-spinner",10),e._uU(16," Sauvegarder "),e.qZA()()()()()()()),2&t&&(e.Q6J("title",n.title)("showSubmit",!1)("isLoading",n.isLoading),e.xp6(10),e.Q6J("ngForOf",n.data.bilans)("ngForTrackBy",n.trackByFn),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[U.sg,U.O5,_a.u,We._Y,We.Fj,We.JJ,We.JL,We.Q7,We.On,We.F,Lt.KE,Lt.bx,Lt.hX,Lt.R9,Ot.Ou,va.Nt,He.lW,tn.Hw,ba.gD,sn.ey,an.Mq,an.hl,an.nW,vn._f,vn.NP,vn.sv],styles:[".hidden_step[_ngcontent-%COMP%]{display:none!important}.full-width[_ngcontent-%COMP%]{width:100%}.step[_ngcontent-%COMP%]{background:none;border:none;border-right:1px solid}.active-step[_ngcontent-%COMP%]{font-weight:700}.no-border[_ngcontent-%COMP%]{border:none!important}.images-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;padding:10px}.image-holder[_ngcontent-%COMP%]{border:1px solid grey;border-radius:8px;position:relative;margin:10px;width:100px;height:100px;display:flex;align-items:center}.image-holder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;height:32px;padding:0;width:32px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;cursor:pointer;right:-16px;top:-16px}.image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),i})();const x1=["f"];function w1(i,a){if(1&i&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function A1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),e._uU(3,"Intitul\xe9"),e.qZA(),e.TgZ(4,"input",19),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw();return e.KtG(c.data.antecedents[r].title=o)}),e.qZA()()()}if(2&i){const t=e.oxw().index,n=e.oxw();e.xp6(4),e.MGl("name","title",t,""),e.Q6J("ngModel",n.data.antecedents[t].title)}}function C1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),e._uU(3,"Date de d\xe9but"),e.qZA(),e.TgZ(4,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw();return e.KtG(c.data.antecedents[r].start_date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",21)(8,"mat-datepicker",null,22),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw();e.xp6(4),e.MGl("name","start_date",n,""),e.Q6J("matDatepicker",t)("ngModel",o.data.antecedents[n].start_date),e.xp6(3),e.Q6J("for",t)}}function T1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),e._uU(3,"Date de fin"),e.qZA(),e.TgZ(4,"input",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw();return e.KtG(c.data.antecedents[r].end_date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",21)(8,"mat-datepicker",null,24),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw();e.xp6(4),e.MGl("name","end_date",n,""),e.Q6J("matDatepicker",t)("ngModel",o.data.antecedents[n].end_date),e.xp6(3),e.Q6J("for",t)}}function Z1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",11)(2,"button",12),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeElementFromArray("antecedents",r))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",13)(6,"mat-form-field",14)(7,"mat-label"),e._uU(8,"Type d'ant\xe9c\xe9dent"),e.qZA(),e.TgZ(9,"mat-select",15),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.data.antecedents[c].antecedent_id=o)}),e.YNc(10,w1,2,2,"mat-option",16),e.qZA()()(),e.YNc(11,A1,5,2,"div",17),e.YNc(12,C1,10,4,"div",17),e.YNc(13,T1,10,4,"div",17),e.qZA()}if(2&i){const t=a.index,n=e.oxw();e.xp6(9),e.MGl("name","type_antecedent",t,""),e.Q6J("ngModel",n.data.antecedents[t].antecedent_id),e.xp6(1),e.Q6J("ngForOf",n.antecedents)("ngForTrack",n.option),e.xp6(1),e.Q6J("ngIf",n.data.antecedents[t].antecedent_id),e.xp6(1),e.Q6J("ngIf",n.data.antecedents[t].antecedent_id),e.xp6(1),e.Q6J("ngIf",n.data.antecedents[t].antecedent_id)}}function N1(i,a){1&i&&e._UZ(0,"mat-spinner",25),2&i&&e.Q6J("diameter",30)}let P1=(()=>{class i{constructor(t,n,o,r){this.patientsService=t,this.antecedentsService=n,this.modalService=o,this._snackBar=r,this.title=je._G.PATIENTS,this.data={antecedents:[],existing_antecedents:[],remove_antecedents:[]},this.isLoading=!1,this.horizontalPosition="end",this.verticalPosition="bottom",this.closingEvent=new e.vpe,this.reloadEvent=new e.vpe,this.antecedents=[]}ngOnInit(){this.title=(this.selectedElement?je._G.UPDATE_ELEMENT:je._G.CREATE_ELEMENT)+" "+this.title,this.antecedentsService.all({params:{enabled:1}}).subscribe(t=>{console.log(t),this.antecedents=t.data},t=>{}),this.addAntecedent()}onClose(){this.closingEvent.emit()}toggleStatus(){this.data.enabled=!this.data.enabled}onSubmit(){var t=this;return(0,ma.Z)(function*(){const n=Object.values(t.form.controls);for(let o of n)if(o.invalid)return;t.isLoading=!0,t.patientsService.save_antecedents(t.selectedElement.id,t.data).subscribe(o=>{t.onSuccess(o)},o=>{t.onError(o)})})()}onSuccess(t){this.isLoading=!1,this.reloadEvent.emit(),this.modalService.dismissAll(),this._snackBar.open("Enregistr\xe9 avec succ\xe8s!","Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["success-snackbar"]})}onError(t){this.isLoading=!1;let n=t.error.data;for(let o in n)this._snackBar.open(n[o],"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["danger-snackbar"]})}addAntecedent(){this.data.antecedents.push({id:nn.c.generateUniqueId(),antecedent_id:null,title:null,start_date:null,end_date:null})}removeElementFromArray(t,n,o=null){o&&this.data[o].push(this.data[t][n].id),this.data[t].splice(n,1)}trackByFn(t,n){return n.id}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(On.$),e.Y36(mc.v),e.Y36(Oa.FF),e.Y36(ga.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patient-antecedents-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(x1,5),2&t){let o;e.iGM(o=e.CRH())&&(n.form=o.first)}},inputs:{selectedElement:"selectedElement"},outputs:{closingEvent:"closingEvent",reloadEvent:"reloadEvent"},decls:17,vars:7,consts:[[3,"title","showSubmit","isLoading","closingEvent"],["f","ngForm"],[1,"row"],[1,"col-md-12","conatiner-fluid"],[1,"col-md-12","text-right","mb-2"],["type","button","mat-raised-button","","color","primary",3,"click"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-12","container-fluid","mt-2"],[1,"col-md-12","text-right"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["style","margin-right: 10px;",3,"diameter",4,"ngIf"],[1,"col-12","mt-2","text-right"],["type","button","mat-mini-fab","","color","warn","aria-label","Supprimer",3,"click"],[1,"col-md-6"],[1,"full-width"],["required","",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrack"],["class","col-md-6",4,"ngIf"],[3,"value"],["matInput","","placeholder","Intitul\xe9","required","",3,"name","ngModel","ngModelChange"],["matInput","","required","",3,"matDatepicker","name","ngModel","ngModelChange"],["matSuffix","",3,"for"],["start_date_picker",""],["matInput","",3,"matDatepicker","name","ngModel","ngModelChange"],["end_date_picker",""],[2,"margin-right","10px",3,"diameter"]],template:function(t,n){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closingEvent",function(){return n.onClose()}),e.TgZ(1,"form",null,1)(3,"div",2)(4,"div",3)(5,"div")(6,"div",2)(7,"div",4)(8,"button",5),e.NdJ("click",function(){return n.addAntecedent()}),e._uU(9," Ajouter ant\xe9c\xe9dent "),e.qZA()()(),e.YNc(10,Z1,14,7,"div",6),e.qZA()(),e.TgZ(11,"div",7)(12,"div",2)(13,"div",8)(14,"button",9),e.NdJ("click",function(){return n.onSubmit()}),e.YNc(15,N1,1,1,"mat-spinner",10),e._uU(16," Sauvegarder "),e.qZA()()()()()()()),2&t&&(e.Q6J("title",n.title)("showSubmit",!1)("isLoading",n.isLoading),e.xp6(10),e.Q6J("ngForOf",n.data.antecedents)("ngForTrackBy",n.trackByFn),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[U.sg,U.O5,_a.u,We._Y,We.Fj,We.JJ,We.JL,We.Q7,We.On,We.F,Lt.KE,Lt.bx,Lt.hX,Lt.R9,Ot.Ou,va.Nt,He.lW,tn.Hw,ba.gD,sn.ey,an.Mq,an.hl,an.nW],styles:[".hidden_step[_ngcontent-%COMP%]{display:none!important}.full-width[_ngcontent-%COMP%]{width:100%}.step[_ngcontent-%COMP%]{background:none;border:none;border-right:1px solid}.active-step[_ngcontent-%COMP%]{font-weight:700}.no-border[_ngcontent-%COMP%]{border:none!important}.images-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;padding:10px}.image-holder[_ngcontent-%COMP%]{border:1px solid grey;border-radius:8px;position:relative;margin:10px;width:100px;height:100px;display:flex;align-items:center}.image-holder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;height:32px;padding:0;width:32px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;cursor:pointer;right:-16px;top:-16px}.image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),i})();const k1=["f"];function M1(i,a){if(1&i&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function L1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),e._uU(3,"Date d'ordonnance"),e.qZA(),e.TgZ(4,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw();return e.KtG(c.data.prescriptions[r].date=o)}),e.qZA(),e.TgZ(5,"mat-hint"),e._uU(6,"MM/DD/YYYY"),e.qZA(),e._UZ(7,"mat-datepicker-toggle",21)(8,"mat-datepicker",null,22),e.qZA()()}if(2&i){const t=e.MAs(9),n=e.oxw().index,o=e.oxw();e.xp6(4),e.MGl("name","date",n,""),e.Q6J("matDatepicker",t)("ngModel",o.data.prescriptions[n].date),e.xp6(3),e.Q6J("for",t)}}function F1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ngx-dropzone-image-preview",26),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,c=e.oxw(2).index,d=e.oxw();return e.KtG(d.onRemovePrescriptionImage(r,c))}),e.qZA()}2&i&&e.Q6J("file",a.$implicit)("removable",!0)}function q1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"ngx-dropzone",24),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw().index,c=e.oxw();return e.KtG(c.onSelectPrescriptionImage(o,r))}),e.YNc(2,F1,1,2,"ngx-dropzone-image-preview",25),e.TgZ(3,"ngx-dropzone-label"),e._uU(4,"Glissez et d\xe9posez vos images ici!"),e.qZA()()()}if(2&i){const t=e.oxw().index,n=e.oxw();e.xp6(1),e.Q6J("accept","image/*")("multiple",!0),e.xp6(1),e.Q6J("ngForOf",n.data.prescriptions[t].images)}}function E1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",11)(2,"button",12),e.NdJ("click",function(){const r=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeElementFromArray("prescriptions",r))}),e.TgZ(3,"mat-icon"),e._uU(4,"clear"),e.qZA()()(),e.TgZ(5,"div",13)(6,"mat-form-field",14)(7,"mat-label"),e._uU(8,"Type d'ordonnance"),e.qZA(),e.TgZ(9,"mat-select",15),e.NdJ("ngModelChange",function(o){const c=e.CHM(t).index,d=e.oxw();return e.KtG(d.data.prescriptions[c].type=o)}),e.YNc(10,M1,2,2,"mat-option",16),e.qZA()()(),e.YNc(11,L1,10,4,"div",17),e.YNc(12,q1,5,3,"div",18),e.qZA()}if(2&i){const t=a.index,n=e.oxw();e.xp6(9),e.MGl("name","type_prescription",t,""),e.Q6J("ngModel",n.data.prescriptions[t].type),e.xp6(1),e.Q6J("ngForOf",n.prescriptions_types)("ngForTrack",n.option),e.xp6(1),e.Q6J("ngIf",n.data.prescriptions[t].type),e.xp6(1),e.Q6J("ngIf",n.data.prescriptions[t].type)}}function S1(i,a){1&i&&e._UZ(0,"mat-spinner",27),2&i&&e.Q6J("diameter",30)}let I1=(()=>{class i{constructor(t,n,o){this.patientsService=t,this.modalService=n,this._snackBar=o,this.title=je._G.PATIENTS,this.data={cabinet_id:null,doctor_id:null,firstname:null,lastname:null,birthday:null,phone_number:null,email:null,gender:null,civility:null,assurance:null,blood_type:null,note:null,antecedents:[],prescriptions:[]},this.isLoading=!1,this.horizontalPosition="end",this.verticalPosition="bottom",this.prescriptions_types=je.o8,this.bilans_types=je.kH,this.family_situation=je.TF,this.blood_types=je.iu,this.genders=je.od,this.closingEvent=new e.vpe,this.reloadEvent=new e.vpe}ngOnInit(){this.title=(this.selectedElement?je._G.UPDATE_ELEMENT:je._G.CREATE_ELEMENT)+" "+this.title,this.addPrescription()}onClose(){this.closingEvent.emit()}toggleStatus(){this.data.enabled=!this.data.enabled}onSubmit(){var t=this;return(0,ma.Z)(function*(){const n=Object.values(t.form.controls);for(let o of n)if(o.invalid)return;for(let o in t.data.prescriptions)t.data.prescriptions[o].images.length>0&&(t.data.prescriptions[o].images=yield nn.c.convertFilesToBase64(t.data.prescriptions[o].images));for(let o in t.data.existing_prescriptions)t.data.existing_prescriptions[o].new_images.length>0&&(t.data.existing_prescriptions[o].new_images=yield nn.c.convertFilesToBase64(t.data.existing_prescriptions[o].new_images));t.isLoading=!0,t.patientsService.save_perscriptions(t.selectedElement.id,t.data).subscribe(o=>{t.onSuccess(o)},o=>{t.onError(o)})})()}onSuccess(t){this.isLoading=!1,this.reloadEvent.emit(),this.modalService.dismissAll(),this._snackBar.open("Enregistr\xe9 avec succ\xe8s!","Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["success-snackbar"]})}onError(t){this.isLoading=!1;let n=t.error.data;for(let o in n)this._snackBar.open(n[o],"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:["danger-snackbar"]})}addPrescription(){this.data.prescriptions.push({id:nn.c.generateUniqueId(),type:null,date:null,images:[]})}onSelectPrescriptionImage(t,n,o="images"){console.log(t),this.data.prescriptions[n][o].push(...t.addedFiles)}onRemovePrescriptionImage(t,n,o="images"){console.log(t),this.data.prescriptions[n][o].splice(this.data.prescriptions[n][o].indexOf(t),1)}onSelectElementImage(t,n,o,r="images"){console.log(t),this.data[o][n][r].push(...t.addedFiles)}onRemoveElementImage(t,n,o,r="images"){console.log(t),this.data[o][n][r].splice(this.data[o][n][r].indexOf(t),1)}removeElementFromArray(t,n,o=null){o&&this.data[o].push(this.data[t][n].id),this.data[t].splice(n,1)}removeExistingImage(t,n,o,r=null){r&&this.data[t][n][r].push(this.data[t][n].images[o].id),this.data[t][n].images.splice(o,1)}trackByFn(t,n){return n.id}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(On.$),e.Y36(Oa.FF),e.Y36(ga.ux))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patient-prescriptions-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(k1,5),2&t){let o;e.iGM(o=e.CRH())&&(n.form=o.first)}},inputs:{selectedElement:"selectedElement"},outputs:{closingEvent:"closingEvent",reloadEvent:"reloadEvent"},decls:17,vars:7,consts:[[3,"title","showSubmit","isLoading","closingEvent"],["f","ngForm"],[1,"row"],[1,"col-md-12","conatiner-fluid"],[1,"col-md-12","text-right","mb-2"],["type","button","mat-raised-button","","color","primary",3,"click"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-12","container-fluid","mt-2"],[1,"col-md-12","text-right"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["style","margin-right: 10px;",3,"diameter",4,"ngIf"],[1,"col-12","mt-2","text-right"],["type","button","mat-mini-fab","","color","warn","aria-label","Supprimer",3,"click"],[1,"col-md-6"],[1,"full-width"],["required","",3,"name","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf","ngForTrack"],["class","col-md-6",4,"ngIf"],["class","col-md-12",4,"ngIf"],[3,"value"],["matInput","","required","",3,"matDatepicker","name","ngModel","ngModelChange"],["matSuffix","",3,"for"],["prescription_date_picker",""],[1,"col-md-12"],[3,"accept","multiple","change"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed",4,"ngFor","ngForOf"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"file","removable","removed"],[2,"margin-right","10px",3,"diameter"]],template:function(t,n){1&t&&(e.TgZ(0,"app-base-modal",0),e.NdJ("closingEvent",function(){return n.onClose()}),e.TgZ(1,"form",null,1)(3,"div",2)(4,"div",3)(5,"div")(6,"div",2)(7,"div",4)(8,"button",5),e.NdJ("click",function(){return n.addPrescription()}),e._uU(9," Ajouter ordonnance "),e.qZA()()(),e.YNc(10,E1,13,6,"div",6),e.qZA()(),e.TgZ(11,"div",7)(12,"div",2)(13,"div",8)(14,"button",9),e.NdJ("click",function(){return n.onSubmit()}),e.YNc(15,S1,1,1,"mat-spinner",10),e._uU(16," Sauvegarder "),e.qZA()()()()()()()),2&t&&(e.Q6J("title",n.title)("showSubmit",!1)("isLoading",n.isLoading),e.xp6(10),e.Q6J("ngForOf",n.data.prescriptions)("ngForTrackBy",n.trackByFn),e.xp6(4),e.Q6J("disabled",n.isLoading),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[U.sg,U.O5,_a.u,We._Y,We.Fj,We.JJ,We.JL,We.Q7,We.On,We.F,Lt.KE,Lt.bx,Lt.hX,Lt.R9,Ot.Ou,va.Nt,He.lW,tn.Hw,ba.gD,sn.ey,an.Mq,an.hl,an.nW,vn._f,vn.NP,vn.sv],styles:[".hidden_step[_ngcontent-%COMP%]{display:none!important}.full-width[_ngcontent-%COMP%]{width:100%}.step[_ngcontent-%COMP%]{background:none;border:none;border-right:1px solid}.active-step[_ngcontent-%COMP%]{font-weight:700}.no-border[_ngcontent-%COMP%]{border:none!important}.images-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;padding:10px}.image-holder[_ngcontent-%COMP%]{border:1px solid grey;border-radius:8px;position:relative;margin:10px;width:100px;height:100px;display:flex;align-items:center}.image-holder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;height:32px;padding:0;width:32px;display:flex;justify-content:center;align-items:center;border:1px solid;border-radius:50%;cursor:pointer;right:-16px;top:-16px}.image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]}),i})();var _l=Ae(4463);function U1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"h1",12),e._uU(4),e.qZA(),e.TgZ(5,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onOpenForm("edit"))}),e._uU(6," Modifier "),e.qZA(),e.TgZ(7,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onOpenForm("wound"))}),e._uU(8," Ajouter une plaie "),e.qZA(),e.TgZ(9,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onOpenForm("consultation"))}),e._uU(10," Ajouter une consultation "),e.qZA(),e.TgZ(11,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onOpenForm("bilans_form"))}),e._uU(12," Ajouter bilan "),e.qZA(),e.TgZ(13,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onOpenForm("antecedents_form"))}),e._uU(14," Ajouter ant\xe9c\xe9dent "),e.qZA(),e.TgZ(15,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onOpenForm("prescriptions_form"))}),e._uU(16," Ajouter ordonnance "),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.patient.firstname+" "+t.patient.lastname)}}function O1(i,a){1&i&&(e.TgZ(0,"div",10)(1,"div",15)(2,"div",16),e._UZ(3,"mat-spinner",17),e._uU(4),e.ALo(5,"translate"),e.qZA()()()),2&i&&(e.xp6(3),e.Q6J("diameter",30),e.xp6(1),e.hij(" ",e.lcZ(5,2,"LOADING")," "))}const D1=function(i){return{background:i}};function j1(i,a){if(1&i&&e._UZ(0,"div",48),2&i){const t=a.$implicit,n=e.oxw(2);e.Q6J("ngClass",n.wounds_zones_classes[t.zone])("ngStyle",e.VKq(2,D1,n.generateLinearGradient(t)))}}function B1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.onShowPtsi(o.id))}),e._uU(1," List PTSI "),e.qZA()}}function J1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",55),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.downloadFile(r))}),e._uU(2),e.qZA()()}if(2&i){const t=a.$implicit;e.xp6(2),e.hij(" Telecharger le fichier ",t.id," ")}}function R1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"div",10)(2,"div",50),e.YNc(3,B1,2,0,"button",51),e.TgZ(4,"button",14),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(3);return e.KtG(c.onAddPtsi(r.id))}),e._uU(5," Ajouter PTSI "),e.qZA()()(),e.TgZ(6,"div",52)(7,"div",40)(8,"strong"),e._uU(9,"Type:"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"div",40)(12,"strong"),e._uU(13,"Etiologie:"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"div",40)(16,"strong"),e._uU(17,"Zone:"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"div",40)(20,"strong"),e._uU(21,"Nombre de soins:"),e.qZA(),e._uU(22),e.qZA(),e.TgZ(23,"div",40)(24,"strong"),e._uU(25,"Type de dur\xe9e:"),e.qZA(),e._uU(26),e.qZA(),e.TgZ(27,"div",40)(28,"strong"),e._uU(29,"Dur\xe9e:"),e.qZA(),e._uU(30),e.qZA(),e.TgZ(31,"div",40)(32,"strong"),e._uU(33,"Date de d\xe9but des soins:"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"div",53),e.YNc(36,J1,3,1,"div",54),e.qZA(),e._UZ(37,"hr"),e.qZA()()}if(2&i){const t=a.$implicit;e.xp6(3),e.Q6J("ngIf",t.ptsis.length>0),e.xp6(7),e.hij(" ",t.type," "),e.xp6(4),e.hij(" ",t.etiologie," "),e.xp6(4),e.hij(" ",t.zone," "),e.xp6(4),e.hij(" ",t.treatments_count," "),e.xp6(4),e.hij(" ",t.duration_type," "),e.xp6(4),e.hij(" ",t.duration," "),e.xp6(4),e.hij(" ",t.date," "),e.xp6(2),e.Q6J("ngForOf",t.prescriptions)}}function z1(i,a){if(1&i&&(e.TgZ(0,"div",37),e.YNc(1,R1,38,9,"div",49),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.patient.wounds)}}function Q1(i,a){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=a.$implicit,n=a.index,o=e.oxw().$implicit;e.xp6(1),e.lnq(" ",t.color," = ",t.percentage,"% ",n<o.colors.length-1?",":""," ")}}function H1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"th"),e._uU(2),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.qZA(),e.TgZ(5,"th"),e.YNc(6,Q1,2,3,"span",54),e.qZA(),e.TgZ(7,"th"),e._uU(8),e.qZA(),e.TgZ(9,"th"),e._uU(10),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.qZA(),e.TgZ(13,"th"),e._uU(14),e.qZA(),e.TgZ(15,"th"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"button",61),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.onEditPtsi(r.id,c.selected_items.wound.id))}),e.TgZ(19,"mat-icon"),e._uU(20,"edit"),e.qZA()(),e.TgZ(21,"button",62),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.onShowPtsiList(c.selected_items.wound,r.id))}),e.TgZ(22,"mat-icon"),e._uU(23,"remove_red_eye"),e.qZA()()()()}if(2&i){const t=a.$implicit;e.xp6(2),e.hij(" ",t.id," "),e.xp6(2),e.hij(" ",t.zone," "),e.xp6(2),e.Q6J("ngForOf",t.colors),e.xp6(2),e.hij(" ",t.tissus," "),e.xp6(2),e.hij(" ",t.inflammation," "),e.xp6(2),e.hij(" ",t.humidity," "),e.xp6(2),e.hij(" ",t.created_at," "),e.xp6(2),e.hij(" ",t.updated_at," ")}}function G1(i,a){if(1&i&&(e.TgZ(0,"tbody"),e.YNc(1,H1,24,8,"tr",54),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.selected_items.wound.ptsis)}}function Y1(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",9)(2,"div",10)(3,"div",50)(4,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onShowPtsi(!1))}),e._uU(5," Plaies "),e.qZA(),e.TgZ(6,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAddPtsi(o.selected_items.wound.id))}),e._uU(7," Ajouter PTSI "),e.qZA()()(),e.TgZ(8,"div",10)(9,"div",56)(10,"table",57)(11,"thead",58)(12,"tr")(13,"th",59),e._uU(14,"Id"),e.qZA(),e.TgZ(15,"th",59),e._uU(16,"Zone"),e.qZA(),e.TgZ(17,"th",59),e._uU(18,"Colorations"),e.qZA(),e.TgZ(19,"th",59),e._uU(20,"Tissus"),e.qZA(),e.TgZ(21,"th",59),e._uU(22,"Inflammation & infection"),e.qZA(),e.TgZ(23,"th",59),e._uU(24,"Maintien d'humidit\xe9"),e.qZA(),e.TgZ(25,"th",59),e._uU(26,"Date de cr\xe9ation"),e.qZA(),e.TgZ(27,"th",59),e._uU(28,"Date de modification"),e.qZA(),e._UZ(29,"th",59),e.qZA()(),e.YNc(30,G1,2,1,"tbody",60),e.qZA()()()()()}if(2&i){const t=e.oxw(2);e.xp6(30),e.Q6J("ngIf",!t.isLoading)}}function K1(i,a){if(1&i&&(e.TgZ(0,"div",52)(1,"div",40)(2,"strong"),e._uU(3,"Type d'ant\xe9c\xe9dent:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",40)(6,"strong"),e._uU(7,"Intitul\xe9:"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div",40)(10,"strong"),e._uU(11,"Date de d\xe9but:"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"div",40)(14,"strong"),e._uU(15,"Date de fin:"),e.qZA(),e._uU(16),e.qZA(),e._UZ(17,"hr"),e.qZA()),2&i){const t=a.$implicit;e.xp6(4),e.hij(" ",null==t.antecedent?null:t.antecedent.name," "),e.xp6(4),e.hij(" ",t.title," "),e.xp6(4),e.hij(" ",t.start_date," "),e.xp6(4),e.hij(" ",t.end_date," ")}}function W1(i,a){if(1&i&&(e.TgZ(0,"div",64),e._UZ(1,"img",65),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH)}}function V1(i,a){if(1&i&&(e.TgZ(0,"div",52)(1,"div",40)(2,"strong"),e._uU(3,"Type:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",40)(6,"strong"),e._uU(7,"Date:"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div",53),e.YNc(10,W1,2,1,"div",63),e.qZA(),e._UZ(11,"hr"),e.qZA()),2&i){const t=a.$implicit;e.xp6(4),e.hij(" ",t.type," "),e.xp6(4),e.hij(" ",t.date," "),e.xp6(2),e.Q6J("ngForOf",t.images)}}function $1(i,a){if(1&i&&(e.TgZ(0,"div",64),e._UZ(1,"img",65),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH)}}function X1(i,a){if(1&i&&(e.TgZ(0,"div",52)(1,"div",40)(2,"strong"),e._uU(3,"Nom:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div",40)(6,"strong"),e._uU(7,"Type:"),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div",40)(10,"strong"),e._uU(11,"Date:"),e.qZA(),e._uU(12),e.qZA(),e.TgZ(13,"div",53),e.YNc(14,$1,2,1,"div",63),e.qZA(),e._UZ(15,"hr"),e.qZA()),2&i){const t=a.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(4),e.hij(" ",t.type," "),e.xp6(4),e.hij(" ",t.date," "),e.xp6(2),e.Q6J("ngForOf",t.images)}}function ef(i,a){if(1&i&&(e.TgZ(0,"div",37)(1,"div",9)(2,"div",10)(3,"div",56),e._UZ(4,"full-calendar",66),e.qZA()()()()),2&i){const t=e.oxw(2);e.xp6(4),e.Q6J("options",t.calendarOptions)}}function tf(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",18)(2,"div",19)(3,"div",20),e._UZ(4,"div"),e.TgZ(5,"div",10)(6,"div",21)(7,"div",22)(8,"div")(9,"span",23),e._uU(10),e.qZA(),e.TgZ(11,"span",24),e._uU(12,"Ant\xe9c\xe9dents"),e.qZA()(),e.TgZ(13,"div")(14,"span",23),e._uU(15),e.qZA(),e.TgZ(16,"span",24),e._uU(17,"S\xe9ances pass\xe9e"),e.qZA()(),e.TgZ(18,"div")(19,"span",23),e._uU(20),e.qZA(),e.TgZ(21,"span",24),e._uU(22,"S\xe9ances rat\xe9e"),e.qZA()()()()(),e.TgZ(23,"div",25)(24,"div",26),e.YNc(25,j1,1,4,"div",27),e.qZA(),e.TgZ(26,"h3"),e._uU(27),e.TgZ(28,"span",28),e._uU(29),e.qZA()(),e.TgZ(30,"div",29),e._UZ(31,"i",30),e._uU(32),e.qZA()()()()(),e.TgZ(33,"div",31)(34,"div",32)(35,"div",33)(36,"div",34)(37,"div",35)(38,"h3",36),e._uU(39,"Infos"),e.qZA()()()(),e.TgZ(40,"div",37)(41,"mat-tab-group",38),e.NdJ("selectedTabChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onTabChanged(o))}),e.TgZ(42,"mat-tab",39)(43,"div",37)(44,"div",9)(45,"div",10)(46,"div",40)(47,"strong"),e._uU(48,"Nom:"),e.qZA(),e._uU(49),e.qZA(),e.TgZ(50,"div",40)(51,"strong"),e._uU(52,"Prenom:"),e.qZA(),e._uU(53),e.qZA(),e.TgZ(54,"div",40)(55,"strong"),e._uU(56,"Cabinet:"),e.qZA(),e._uU(57),e.qZA(),e.TgZ(58,"div",40)(59,"strong"),e._uU(60,"M\xe9decin:"),e.qZA(),e._uU(61),e.qZA(),e.TgZ(62,"div",40)(63,"strong"),e._uU(64,"Date de naissance:"),e.qZA(),e._uU(65),e.qZA(),e.TgZ(66,"div",40)(67,"strong"),e._uU(68,"T\xe9l\xe9phone:"),e.qZA(),e._uU(69),e.qZA(),e.TgZ(70,"div",40)(71,"strong"),e._uU(72,"Sexe:"),e.qZA(),e._uU(73),e.qZA(),e.TgZ(74,"div",40)(75,"strong"),e._uU(76,"Email:"),e.qZA(),e._uU(77),e.qZA(),e.TgZ(78,"div",40)(79,"strong"),e._uU(80,"Situation familiale:"),e.qZA(),e._uU(81),e.qZA(),e.TgZ(82,"div",40)(83,"strong"),e._uU(84,"Assurance:"),e.qZA(),e._uU(85),e.qZA(),e.TgZ(86,"div",40)(87,"strong"),e._uU(88,"Groupe sanguin:"),e.qZA(),e._uU(89),e.qZA(),e.TgZ(90,"div",40)(91,"strong"),e._uU(92,"Note:"),e.qZA(),e._uU(93),e.qZA()()()()(),e.TgZ(94,"mat-tab",41),e.YNc(95,z1,2,1,"div",42),e.YNc(96,Y1,31,1,"div",42),e.qZA(),e.TgZ(97,"mat-tab",43)(98,"div",37)(99,"div",9),e.YNc(100,K1,18,4,"div",44),e.qZA()()(),e.TgZ(101,"mat-tab",45)(102,"div",37)(103,"div",9),e.YNc(104,V1,12,3,"div",44),e.qZA()()(),e.TgZ(105,"mat-tab",46)(106,"div",37)(107,"div",9),e.YNc(108,X1,16,4,"div",44),e.qZA()()(),e.TgZ(109,"mat-tab",47),e.YNc(110,ef,5,1,"div",42),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(10),e.Oqu((null==t.patient.antecedents?null:t.patient.antecedents.length)||0),e.xp6(5),e.Oqu(t.getPassedAppointements()),e.xp6(5),e.Oqu(t.getMissedAppointements()),e.xp6(5),e.Q6J("ngForOf",t.patient.wounds),e.xp6(2),e.hij(" ",t.patient.firstname+" "+t.patient.lastname,""),e.xp6(2),e.hij(", ",t.getAge(),""),e.xp6(3),e.hij("",t.patient.gender," "),e.xp6(17),e.hij(" ",t.patient.lastname," "),e.xp6(4),e.hij(" ",t.patient.firstname," "),e.xp6(4),e.hij(" ",null==t.patient.cabinet?null:t.patient.cabinet.name," "),e.xp6(4),e.hij(" ",null==t.patient.doctor?null:t.patient.doctor.name," "),e.xp6(4),e.hij(" ",t.patient.birthday," "),e.xp6(4),e.hij(" ",t.patient.phone_number," "),e.xp6(4),e.hij(" ",t.patient.gender," "),e.xp6(4),e.hij(" ",t.patient.email," "),e.xp6(4),e.hij(" ",t.patient.civility," "),e.xp6(4),e.hij(" ",t.patient.assurance," "),e.xp6(4),e.hij(" ",t.patient.blood_type," "),e.xp6(4),e.hij(" ",t.patient.note," "),e.xp6(2),e.Q6J("ngIf",!t.show_ptsi),e.xp6(1),e.Q6J("ngIf",t.show_ptsi),e.xp6(4),e.Q6J("ngForOf",t.patient.antecedents),e.xp6(4),e.Q6J("ngForOf",t.patient.prescriptions),e.xp6(4),e.Q6J("ngForOf",t.patient.bilans),e.xp6(2),e.Q6J("ngIf",4===t.selectedTabIndex)}}function nf(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-patients-form",67),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id",t.id)("selectedElement",t.patient)}}function af(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-wounds-form",68),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient",t.patient)("selectedElement",t.selected_items.wound)}}function of(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-ptsi-form",69),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("wound",t.selected_items.wound)("selectedElement",t.selected_items.ptsi)}}function rf(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-ptsi-list",70),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ptsi",t.selected_items.ptsi)("patient",t.patient)}}function sf(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-consultations-details",71),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("consultation",t.selected_items.consultation)}}function lf(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-consultations-form",68),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("patient",t.patient)("selectedElement",t.selected_items.consultation)}}function cf(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-patient-antecedents-form",67),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id",t.id)("selectedElement",t.patient)}}function uf(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-patient-bilans-form",67),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id",t.id)("selectedElement",t.patient)}}function df(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-patient-prescriptions-form",67),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getUpdatedData())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id",t.id)("selectedElement",t.patient)}}const Ro={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},green:{primary:"#028c00",secondary:"#036701"}};let pf=(()=>{class i{constructor(t,n){this.patientsService=t,this.route=n,this.isLoading=!0,this.showingForms={edit:!1,wound:!1,ptsi:!1,ptsi_list:!1,consultation:!1,consultation_details:!1,bilans_form:!1,antecedents_form:!1,prescriptions_form:!1},this.selected_items={wound:null,ptsi:null,consultation:null},this.show_ptsi=!1,this.wound_coloration_codes=je.F3,this.wounds_zones_classes=je.he,this.calendarOptions={plugins:[_n.Z],initialView:"dayGridMonth",weekends:!0,locale:"fr",buttonText:{today:"Aujourd'hui",month:"Mois",week:"Semaine",day:"Jour",list:"Liste"},selectable:!0,eventLongPressDelay:200,eventClick:o=>{this.onEventClick(o)},longPressDelay:200,events:[]},this.selectedTabIndex=0,this.route.paramMap.subscribe(o=>{this.id=o.get("id")})}ngOnInit(){this.getUpdatedData()}onClose(){for(let t in this.showingForms)this.showingForms[t]=!1}onOpenForm(t){this.onClose(),this.showingForms[t]=!0}onAddPtsi(t){this.onClose(),this.selected_items.wound=this.patient.wounds.find(n=>n.id===t),this.showingForms.ptsi=!0}onEditPtsi(t,n){this.onClose(),this.selected_items.wound=this.patient.wounds.find(o=>o.id===n),this.selected_items.ptsi=this.selected_items.wound?.ptsis.find(o=>o.id===t),this.showingForms.ptsi=!0}onEditWound(t){this.onClose(),this.selected_items.wound=this.patient.wounds.find(n=>n.id===t),this.showingForms.wound=!0}onShowPtsiList(t,n){this.onClose(),this.selected_items.ptsi=t.ptsis.find(o=>o.id===n),this.showingForms.ptsi_list=!0}onShowPtsi(t){this.show_ptsi=!!t,this.selected_items.wound=t?this.patient.wounds.find(n=>n.id===t):null}getUpdatedData(){this.isLoading=!0,this.patientsService.find(this.id).subscribe(t=>{this.isLoading=!1,this.patient=t.data;const n=this.patient.consultations.map(r=>({id:r.id,title:"Consultation",start:r.date,end:r.date,backgroundColor:Ro.green.primary,borderColor:Ro.green.secondary,textColor:"#fff",editable:!1})),o=this.patient.appointements.map(r=>{const c=this.getAppointementColor(r);return{id:r.id,title:"Rendez-vous",start:r.date,end:r.date,backgroundColor:c.primary,borderColor:c.secondary,textColor:"#fff",editable:!1}});this.calendarOptions.events=[...n,...o]})}getAppointementColor(t){return"pass\xe9e"===t.status?Ro.blue:Wt().isBefore(Wt(t.date))?Ro.green:Ro.red}getAge(){if(!this.patient||!this.patient.birthday||this.patient.birthday.length<=0)return"";const t=Wt(this.patient.birthday),n=Wt();let o=n.diff(t,"years");return(t.month()>n.month()||t.month()===n.month()&&t.date()>n.date())&&o--,o+"ans"}generateLinearGradient(t){const n=t?.ptsis&&t.ptsis.length>0&&t.ptsis[t.ptsis.length-1].colors.length>0?t.ptsis[t.ptsis.length-1].colors:[];if(!Array.isArray(n)||0===n.length)return"red";n.sort((r,c)=>r.percentage-c.percentage);let o="linear-gradient(to right, ";return n.forEach((r,c)=>{o+=`${je.F3[r.color]} ${r.percentage}%`,c!==n.length-1&&(o+=", ")}),o+=")",o}downloadFile(t){const n=this.extractMimeType(t.file),o=t.file.split(",")[1],r=atob(o),c=new Array(r.length);for(let v=0;v<r.length;v++)c[v]=r.charCodeAt(v);const d=new Uint8Array(c),h=new Blob([d],{type:"application/octet-stream"}),g=window.URL.createObjectURL(h),_=document.createElement("a");_.href=g,_.download=this.getFileNameWithExtension("Ordonnance",n),document.body.appendChild(_),_.click(),window.URL.revokeObjectURL(g),document.body.removeChild(_)}extractMimeType(t){const n=t.match(/^data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,/);return n&&n.length>1?n[1]:"application/octet-stream"}getFileNameWithExtension(t,n){return`${t}.${this.getFileExtensionFromMimeType(n)}`}getFileExtensionFromMimeType(t){switch(t){case"application/pdf":return"pdf";case"image/jpeg":return"jpg";case"image/png":return"png";case"application/msword":return"doc";default:return"file"}}onTabChanged(t){this.selectedTabIndex=t.index}getPassedAppointements(){return this.patient&&this.patient.appointements.length>0?this.patient.appointements.filter(t=>"pass\xe9e"===t.status).length:0}getMissedAppointements(){return this.patient&&this.patient.appointements.length>0?this.patient.appointements.filter(t=>"en attente"===t.status&&Wt(t.date).isBefore(Wt())).length:0}onEventClick(t){console.log(t),t.event.title.includes("Consultation")&&(this.onClose(),this.selected_items.consultation=this.patient.consultations.find(n=>n.id==t.event.id),this.showingForms.consultation_details=!0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(On.$),e.Y36(Qn.gz))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patients-details"]],decls:14,vars:12,consts:[[1,"header","bg-gradient-info","pb-8","pt-5","pt-md-8"],["class","container-fluid",4,"ngIf"],[1,"container-fluid","mt--7"],["class","row",4,"ngIf"],[3,"id","selectedElement","closingEvent","reloadEvent",4,"ngIf"],[3,"patient","selectedElement","closingEvent","reloadEvent",4,"ngIf"],[3,"wound","selectedElement","closingEvent","reloadEvent",4,"ngIf"],[3,"ptsi","patient","closingEvent","reloadEvent",4,"ngIf"],[3,"consultation","closingEvent","reloadEvent",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-lg-7","col-md-10"],[1,"display-2","text-white"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","button","mat-raised-button","","color","accent",1,"ml-2",3,"click"],[1,"col-sm-12"],[1,"loading-holder"],[2,"margin-right","10px",3,"diameter"],[1,"col-xl-4","order-xl-2","mb-5","mb-xl-0"],[1,"card","card-profile","shadow"],[1,"card-body","pt-0","pt-md-4"],[1,"col"],[1,"card-profile-stats","d-flex","justify-content-center","mt-md-5"],[1,"heading"],[1,"description"],[1,"text-center"],[1,"mannequin-conatiner",2,"background-image","url(assets/img/male-mannequin-nobg.jpg)"],["class","wound-zone",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"font-weight-light"],[1,"h5","font-weight-300"],[1,"ni","location_pin","mr-2"],[1,"col-xl-8","order-xl-1"],[1,"card","bg-secondary","shadow"],[1,"card-header","bg-white","border-0"],[1,"row","align-items-center"],[1,"col-8"],[1,"mb-0"],[1,"card-body"],[3,"selectedTabChange"],["label","Infos g\xe9n\xe9rales"],[1,"col-lg-6","p-2"],["label","Plaies"],["class","card-body",4,"ngIf"],["label","Ant\xe9c\xe9dents"],["class","row detail-elements",4,"ngFor","ngForOf"],["label","Historiques des ordonnances"],["label","Historique des bilans et examens"],["label","Consultations/Rendez-vous"],[1,"wound-zone",3,"ngClass","ngStyle"],["class","container-fluid",4,"ngFor","ngForOf"],[1,"col-lg-12","text-right"],["type","button","mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"row","detail-elements"],[1,"col-md-12","d-flex","images-container"],[4,"ngFor","ngForOf"],["type","button","mat-raised-button","","color","primary",1,"mr-2",3,"click"],[1,"col-lg-12","p-2"],[1,"table","align-items-center","table-flush"],[1,"thead-light"],["scope","col"],[4,"ngIf"],["mat-mini-fab","","color","primary","aria-label","Modifier",3,"click"],["mat-mini-fab","","color","primary","aria-label","Details",1,"ml-2",3,"click"],["class","image-holder",4,"ngFor","ngForOf"],[1,"image-holder"],[3,"src"],[3,"options"],[3,"id","selectedElement","closingEvent","reloadEvent"],[3,"patient","selectedElement","closingEvent","reloadEvent"],[3,"wound","selectedElement","closingEvent","reloadEvent"],[3,"ptsi","patient","closingEvent","reloadEvent"],[3,"consultation","closingEvent","reloadEvent"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,U1,17,1,"div",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,O1,6,4,"div",3),e.YNc(4,tf,111,25,"div",3),e.qZA(),e.YNc(5,nf,1,2,"app-patients-form",4),e.YNc(6,af,1,2,"app-wounds-form",5),e.YNc(7,of,1,2,"app-ptsi-form",6),e.YNc(8,rf,1,2,"app-ptsi-list",7),e.YNc(9,sf,1,1,"app-consultations-details",8),e.YNc(10,lf,1,2,"app-consultations-form",5),e.YNc(11,cf,1,2,"app-patient-antecedents-form",4),e.YNc(12,uf,1,2,"app-patient-bilans-form",4),e.YNc(13,df,1,2,"app-patient-prescriptions-form",4)),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(2),e.Q6J("ngIf",n.isLoading),e.xp6(1),e.Q6J("ngIf",!n.isLoading),e.xp6(1),e.Q6J("ngIf",n.showingForms.edit),e.xp6(1),e.Q6J("ngIf",n.showingForms.wound),e.xp6(1),e.Q6J("ngIf",n.showingForms.ptsi),e.xp6(1),e.Q6J("ngIf",n.showingForms.ptsi_list),e.xp6(1),e.Q6J("ngIf",n.showingForms.consultation_details),e.xp6(1),e.Q6J("ngIf",n.showingForms.consultation),e.xp6(1),e.Q6J("ngIf",n.showingForms.antecedents_form),e.xp6(1),e.Q6J("ngIf",n.showingForms.bilans_form),e.xp6(1),e.Q6J("ngIf",n.showingForms.prescriptions_form))},dependencies:[U.mk,U.sg,U.O5,U.PC,Ut.C,Dn.l,At.w,Ot.Ou,He.lW,tn.Hw,Id,cc,_c,Kp,hh,p1,y1,P1,I1,_l.X$],styles:[".images-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;padding:10px}.image-holder[_ngcontent-%COMP%]{border:1px solid grey;border-radius:8px;position:relative;margin:10px;width:300px;height:300px;display:flex;align-items:center}.image-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.detail-elements[_ngcontent-%COMP%]{border-bottom:1px solid #b7b7b7;margin-bottom:22px}.mannequin-conatiner[_ngcontent-%COMP%]{height:319px;width:320px;background-position:center;background-repeat:no-repeat;margin:auto;position:relative;background-size:100%}.wound-zone[_ngcontent-%COMP%]{background:#e80505;width:18px;height:18px;text-align:center;border-radius:50%;position:absolute}.face[_ngcontent-%COMP%]{left:68px;top:13px}.neck[_ngcontent-%COMP%]{left:68px;top:34px}.chest[_ngcontent-%COMP%]{left:65px;top:60px}.stomach[_ngcontent-%COMP%]{left:65px;top:100px}.arm[_ngcontent-%COMP%]{left:28px;top:76px}.forearm[_ngcontent-%COMP%]{left:15px;top:111px}.hand[_ngcontent-%COMP%]{left:-3px;top:151px}.hips[_ngcontent-%COMP%]{left:49px;top:137px}.knee[_ngcontent-%COMP%]{left:49px;top:213px}.leg[_ngcontent-%COMP%]{left:49px;top:252px}.foot[_ngcontent-%COMP%]{left:43px;top:296px}.head[_ngcontent-%COMP%]{left:233px;top:7px}.nape[_ngcontent-%COMP%]{left:233px;top:34px}.upper-back[_ngcontent-%COMP%]{left:230px;top:60px}.lower-back[_ngcontent-%COMP%]{left:230px;top:100px}.elbow[_ngcontent-%COMP%]{left:190px;top:97px}.buttocks[_ngcontent-%COMP%]{left:219px;top:141px}.thigh[_ngcontent-%COMP%]{left:212px;top:174px}.calf[_ngcontent-%COMP%]{left:222px;top:240px}.heel[_ngcontent-%COMP%]{left:56px;top:289px}"]}),i})();var hf=Ae(4327),ff=Ae(3986),mf=Ae(9359),gf=Ae(1424);function _f(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"app-patients-form",16),e.NdJ("closingEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onClose())})("reloadEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFormReload())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("id",t.selectedElement)("selectedElement",t.selectedElement)}}const vf=[{path:"",component:(()=>{class i{constructor(t,n){this.patientsService=t,this.translate=n,this.data=[],this.isShowForm=!1,this.selectedElement=null,this.page=1,this.pagesCount=1,this.isLoading=!0,this.tableData=[{header:"Id",key:"id",type:"text"},{header:"Nom",key:"lastname",type:"text"},{header:"Prenom",key:"firstname",type:"text"},{header:"Telephone",key:"phone_number",type:"text"},{header:"Date de cr\xe9ation",key:"created_at",type:"date"},{header:"Date de modification",key:"updated_at",type:"date"}],this.filters={firstname:"",lastname:"",phone_number:"",id:""},this.filtersElements=[{type:"number",name:"id",title:"ID",value:""},{type:"text",name:"firstname",title:"Prenom",value:""},{type:"text",name:"lastname",title:"Nom",value:""},{type:"text",name:"phone_number",title:"Telephone",value:""}]}ngOnInit(){this.onLoad()}onAdd(){this.isShowForm=!0}onClose(){this.isShowForm=!1,this.selectedElement=!1}onFormReload(){this.onClose(),this.onLoad()}onEdit(t){this.isShowForm=!0,this.selectedElement=t}onPageChange(t){console.log(t),this.page=t,this.onLoad()}onLoad(){this.isLoading=!0;let t=this.getFilters();console.log(t),this.patientsService.all({params:t}).subscribe(n=>{console.log(n),this.data=n.data.data,this.pagesCount=n.data.last_page,this.isLoading=!1},n=>{this.isLoading=!1})}exportData(){this.isLoading=!0;let t=this.getFilters(!0);this.patientsService.all({params:t,responseType:"blob"}).subscribe(n=>{console.log(n);const o=new Blob([n],{type:"text/csv"});(0,hf.saveAs)(o,"patients.csv"),this.isLoading=!1},n=>{console.log(n),this.isLoading=!1})}getFilters(t=!1){let n={};for(let o in this.filters)this.filters[o]&&""!=this.filters[o]&&(n[o]=this.filters[o]);return n.page=this.page,n.limit=15,t&&(n.export=!0),n}onFiltersChange(t){this.filters={...t},this.onLoad()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(On.$),e.Y36(_l.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-patients-list"]],decls:19,vars:8,consts:[[1,"header","bg-gradient-info","pb-8","pt-5","pt-md-8"],[1,"container-fluid"],[1,"header-body"],[1,"container-fluid","mt--7"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0","d-flex"],[1,"mb-0"],[1,"ml-auto"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-success","ml-2",3,"click"],[3,"filters","onFilterChange"],[3,"tableData","data","isLoading","viewLink","onEdit"],[3,"page","pagesCount","onPageChange"],[3,"id","selectedElement","closingEvent","reloadEvent",4,"ngIf"],[3,"id","selectedElement","closingEvent","reloadEvent"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),e._uU(9,"PATIENTS"),e.qZA(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){return n.onAdd()}),e._uU(12," Ajouter "),e.qZA(),e.TgZ(13,"button",11),e.NdJ("click",function(){return n.exportData()}),e._uU(14," Export "),e.qZA()()(),e.TgZ(15,"app-base-filter",12),e.NdJ("onFilterChange",function(r){return n.onFiltersChange(r)}),e.qZA(),e.TgZ(16,"app-base-table",13),e.NdJ("onEdit",function(r){return n.onEdit(r)}),e.qZA(),e.TgZ(17,"app-pagination-links",14),e.NdJ("onPageChange",function(r){return n.onPageChange(r)}),e.qZA()()()()(),e.YNc(18,_f,1,2,"app-patients-form",15)),2&t&&(e.xp6(15),e.Q6J("filters",n.filtersElements),e.xp6(1),e.Q6J("tableData",n.tableData)("data",n.data)("isLoading",n.isLoading)("viewLink","/patients/details"),e.xp6(1),e.Q6J("page",n.page)("pagesCount",n.pagesCount),e.xp6(1),e.Q6J("ngIf",n.isShowForm))},dependencies:[U.O5,ff.N,mf.K,gf.C,_c]}),i})()},{path:"details/:id",component:pf}];let bf=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[Qn.Bz.forChild(vf),Qn.Bz]}),i})();var yf=Ae(5642),xf=Ae(6329);let wf=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[U.ez,bf,xf.ConsultationsModule,At.z,yf.K,bc.JF,We.u5,_l.aw,ga.ZX,Lt.lN,Ot.Cq,va.c,He.ot,tn.Ps,ba.LD,an.FA,sn.XK,vn.bB,Ud]}),i})()}}]);
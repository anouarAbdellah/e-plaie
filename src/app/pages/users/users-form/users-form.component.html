<app-base-modal [title]="title" (closingEvent)="onClose()" [showSubmit]="false" [isLoading]="isLoading">
    <form #f="ngForm">
        <div class="row">
            <div class="col-md-12 conatiner-fluid" >
                <div class="row">
                    <div class="col-md-6">
                        <mat-form-field class="full-width">
                            <mat-label>Nom</mat-label>
                            <input matInput placeholder="Nom" name="lastname" required [(ngModel)]="data.name">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="full-width">
                            <mat-label>Email</mat-label>
                            <input matInput placeholder="Email" email name="email" required [(ngModel)]="data.email">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="full-width">
                            <mat-label>Mot de passe</mat-label>
                            <input matInput type="password" placeholder="Mot de passe" name="password" [(ngModel)]="data.password">
                        </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <mat-form-field class="full-width">
                            <mat-label>Type</mat-label>
                            <mat-select name="type" [(ngModel)]="data.type">
                                <mat-option [value]="option.key" *ngFor="let option of users_types | keyvalue; track option">{{option.value}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-md-6" *ngIf="data.type === 'doctor'">
                        <mat-form-field class="full-width">
                            <mat-label>Cabinet</mat-label>
                            <mat-select name="cabinet_id" required [(ngModel)]="data.cabinet_id">
                                <mat-option [value]="option.id" *ngFor="let option of cabinets; track option">{{option.name}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col-md-6 d-flex align-items-center">
                        <div class="form-group d-flex mb-0">
                            <span class="mr-2">Enabled:</span>
                            <label class="custom-toggle mb-0">
                                <input type="checkbox" (click)="toggleStatus()" [checked]="data.enabled">
                                <span class="custom-toggle-slider rounded-circle"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        
            <div class="col-md-12 container-fluid mt-2">
                <div class="row">
                    <div class="col-md-12 text-right">
                        <button type="button" mat-raised-button color="primary" (click)="onSubmit()">
                            <mat-spinner [diameter]="30" style="margin-right: 10px;" *ngIf="isLoading"></mat-spinner> Sauvegarder
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </form>

</app-base-modal>
<app-base-modal [title]="title" (closingEvent)="onClose()" (submit)="onSubmit()" [isLoading]="isLoading">
    <form #f="ngForm">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <input type="text" name="code" required [(ngModel)]="data.code" class="form-control form-control-alternative"
                        placeholder="Code"  #code="ngModel">
                    <div class="error-message" *ngIf="code.invalid && code.touched">
                        Code est requis.
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <input type="text" name="name" required [(ngModel)]="data.name" class="form-control form-control-alternative"
                        placeholder="Nom" #name="ngModel">
                    <div class="error-message" *ngIf="name.invalid && name.touched">
                        Nom est requis.
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <select name="type" required [(ngModel)]="data.type" class="form-control form-control-alternative"
                        placeholder="Type" #type="ngModel">
                        <option value="" disabled>Type</option>
                        <option [value]="antType" *ngFor="let antType of types">{{antType}}</option>
                    </select>
                    <div class="error-message" *ngIf="type.invalid && type.touched">
                        Type est requis.
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <select name="variant" required [(ngModel)]="data.variant" class="form-control form-control-alternative"
                        placeholder="Variante" #variant="ngModel">
                        <option value="" disabled>Variante</option>
                        <option [value]="medVariant" *ngFor="let medVariant of variants">{{medVariant}}</option>
                    </select>
                    <div class="error-message" *ngIf="variant.invalid && variant.touched">
                        Variante est requis.
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <select name="category" required [(ngModel)]="data.category" class="form-control form-control-alternative"
                        placeholder="Catégorie" #category="ngModel" (change)="onChangeCategory()">
                        <option value="" disabled>Catégorie</option>
                        <option [value]="medCategory.name" *ngFor="let medCategory of categories">{{medCategory.name}}</option>
                    </select>
                    <div class="error-message" *ngIf="category.invalid && category.touched">
                        Catégorie est requis.
                    </div>
                </div>
            </div>
            <div class="col-md-6" *ngIf="sub_categories.length > 0">
                <div class="form-group">
                    <select name="sub_category" required [(ngModel)]="data.sub_category" class="form-control form-control-alternative"
                        placeholder="Sous-catégorie" #sub_category="ngModel">
                        <option value="" disabled>Sous-catégorie</option>
                        <option [value]="medCategory" *ngFor="let medCategory of sub_categories">{{medCategory}}</option>
                    </select>
                    <div class="error-message" *ngIf="sub_category.invalid && sub_category.touched">
                        Sous-catégorie est requis.
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <input type="number" name="buying_price" required [(ngModel)]="data.buying_price"
                        class="form-control form-control-alternative" placeholder="Prix d'achat" #buying_price="ngModel">
                    <div class="error-message" *ngIf="buying_price.invalid && buying_price.touched">
                        Prix d'achat est requis.
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <input type="number" name="selling_price" required [(ngModel)]="data.selling_price"
                        class="form-control form-control-alternative" placeholder="Prix de vente" #selling_price="ngModel">
                    <div class="error-message" *ngIf="selling_price.invalid && selling_price.touched">
                        Prix de vente est requis.
                    </div>
                </div>
            </div>
            <div class="col-md-6 d-flex align-items-center">
                <div class="form-group d-flex mb-0">
                    <span class="mr-2">Enabled:</span>
                    <label class="custom-toggle mb-0">
                        <input type="checkbox" (click)="toggleStatus()" [checked]="data.enabled">
                        <span class="custom-toggle-slider rounded-circle"></span>
                    </label>
                </div>
            </div>
        </div>
    </form>

</app-base-modal>